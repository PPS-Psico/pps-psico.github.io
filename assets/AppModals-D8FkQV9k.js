import{r as d,bI as te,j as e,aH as le,aJ as ie,T as V,N as oe,ar as F,as as Z,e as ne,ad as de,bc as ce,am as xe,al as ue,af as me,F as be}from"./index-ZXlslG1z.js";import{o as ae,a as G,s as y,b as q,c as he,Z as R,e as J}from"./types-CzNk-woI.js";import{M as fe,u as se,P as pe,a as ge,b as je,L as ve,m as U}from"./proxy-BFxRqQFC.js";import{S as W}from"./Select-DhRNnplj.js";const ke=({title:a,message:c,isOpen:o,onClose:r})=>{const[x,n]=d.useState(!1);return d.useEffect(()=>(n(!0),()=>n(!1)),[]),d.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[o]),!o||!x?null:te.createPortal(e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 transition-opacity duration-300 animate-fade-in","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:r,children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md sm:max-w-lg text-center transform transition-all duration-300 scale-100 opacity-100 border border-slate-200 dark:border-slate-700",onClick:f=>f.stopPropagation(),children:[e.jsx("div",{className:"mx-auto bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 w-14 h-14 rounded-full flex items-center justify-center mb-5",children:e.jsx("span",{className:"material-icons !text-3xl",children:"info"})}),e.jsx("h2",{id:"modal-title",className:"text-xl sm:text-2xl font-bold text-slate-900 dark:text-white mb-3",children:a}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm sm:text-base mb-8 leading-relaxed whitespace-pre-wrap",children:c}),e.jsx("button",{onClick:r,className:`w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl text-sm sm:text-base 
                     transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 shadow-lg hover:shadow-blue-500/20`,"aria-label":"Cerrar modal",children:"Entendido"})]})}),document.body)},O=({selected:a,onClick:c,title:o,subtitle:r,icon:x})=>e.jsxs("div",{onClick:c,className:`
      relative cursor-pointer rounded-2xl border px-4 py-3 sm:px-5 sm:py-4 transition-all duration-200 flex items-center gap-3 sm:gap-4 group select-none
      ${a?"border-blue-600 bg-blue-50 dark:bg-blue-600/20 dark:border-blue-400 ring-1 ring-blue-500/20 shadow-md transform scale-[1.01]":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-lg hover:-translate-y-0.5"}
    `,children:[e.jsx("div",{className:`
        flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center transition-all duration-200
        ${a?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-slate-100 dark:bg-slate-900 text-slate-500 dark:text-slate-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-500/20 group-hover:text-blue-600 dark:group-hover:text-blue-300"}
    `,children:e.jsx("span",{className:"material-icons text-xl sm:!text-2xl",children:x||(a?"check":"radio_button_unchecked")})}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[e.jsx("h4",{className:`text-sm font-bold leading-tight ${a?"text-blue-900 dark:text-blue-100":"text-slate-800 dark:text-slate-100"}`,children:o}),r&&e.jsx("p",{className:`hidden sm:block text-xs truncate font-medium mt-0.5 ${a?"text-blue-700/80 dark:text-blue-200/70":"text-slate-500 dark:text-slate-500"}`,children:r})]}),a&&e.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 text-blue-600 dark:text-blue-400 animate-scale-in",children:e.jsx("span",{className:"material-icons !text-base sm:!text-lg",children:"check_circle"})})]}),Ne=({checked:a,onChange:c,label:o})=>e.jsxs("div",{onClick:()=>c(!a),className:`flex items-center justify-between cursor-pointer group p-4 rounded-2xl border transition-all duration-200 ${a?"border-blue-500 bg-blue-50/50 dark:bg-blue-900/20 dark:border-blue-500/50":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 hover:border-blue-300 dark:hover:border-blue-600"}`,children:[e.jsx("span",{className:`text-sm font-bold transition-colors ${a?"text-blue-900 dark:text-blue-100":"text-slate-700 dark:text-slate-200"}`,children:o}),e.jsx("div",{className:`relative w-12 h-7 rounded-full transition-colors duration-300 ease-in-out border-2 ${a?"bg-blue-600 border-blue-600":"bg-slate-200 dark:bg-slate-800 border-slate-300 dark:border-slate-600"}`,children:e.jsx("div",{className:`absolute top-0.5 left-0.5 bg-white w-5 h-5 rounded-full shadow-sm transform transition-transform duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)] ${a?"translate-x-5":"translate-x-0"}`})})]}),K=({onClick:a,fileName:c,label:o,hasError:r})=>e.jsxs("div",{onClick:a,className:`
            group relative cursor-pointer border-2 border-dashed rounded-xl p-5 flex flex-col items-center justify-center transition-all duration-200
            ${r?"border-rose-300 bg-rose-50 dark:bg-rose-900/10 dark:border-rose-800":"border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 hover:bg-blue-50 dark:hover:bg-blue-900/10 hover:border-blue-400 dark:hover:border-blue-500"}
        `,children:[e.jsx("div",{className:`w-10 h-10 rounded-full shadow-sm flex items-center justify-center mb-2 transition-transform duration-200 group-hover:-translate-y-1 ${r?"bg-rose-100 text-rose-500":"bg-white dark:bg-slate-800 text-blue-500 dark:text-blue-400"}`,children:e.jsx("span",{className:"material-icons !text-xl",children:r?"priority_high":c?"description":"cloud_upload"})}),e.jsx("span",{className:`text-xs font-bold text-center ${r?"text-rose-600":"text-slate-700 dark:text-slate-200 group-hover:text-blue-600 dark:group-hover:text-blue-300"}`,children:c?"Archivo seleccionado":o}),e.jsx("span",{className:"text-[10px] text-slate-400 dark:text-slate-500 mt-1 text-center max-w-[180px] truncate",children:c||"PDF o Imagen (Máx 5MB)"})]}),Q={terminoDeCursar:null,cursandoElectivas:null,finalesAdeudados:"",otraSituacionAcademica:"",horarios:[],certificadoLink:"",trabaja:!1,certificadoTrabajoFile:null,existingCertificadoTrabajo:null,cvFile:null},we=({isOpen:a,onClose:c,onSubmit:o,convocatoriaName:r,isSubmitting:x,horariosDisponibles:n=[],permiteCertificado:f=!1,studentProfile:u,reqCertificadoTrabajo:v=!0,reqCv:h=!1,horariosFijos:l=!1})=>{var H,z;const[s,m]=d.useState(Q),[i,p]=d.useState({}),[k,N]=d.useState(0),S=d.useRef(null),I=d.useRef(null),T=d.useRef(null),w=n.length===1,g=n.length>1&&!l;d.useEffect(()=>{if(a){const t=l?[...n]:w?[n[0]]:[],b=(u==null?void 0:u[le])||!1,C=(u==null?void 0:u[ie])||null;m({...Q,horarios:t,trabaja:b,existingCertificadoTrabajo:C}),p({}),N(0)}},[a,n,w,u,l]);const E=d.useMemo(()=>ae({terminoDeCursar:q().nullable(),cursandoElectivas:q().nullable(),finalesAdeudados:y(),otraSituacionAcademica:y(),horarios:he(y()),certificadoLink:y().optional(),trabaja:q(),certificadoTrabajoFile:G().optional(),existingCertificadoTrabajo:y().nullable().optional(),cvFile:G().optional()}).superRefine((t,b)=>{t.terminoDeCursar===null?b.addIssue({code:R.custom,path:["terminoDeCursar"],message:"Selecciona tu situación académica."}):t.terminoDeCursar===!0?t.finalesAdeudados===""&&b.addIssue({code:R.custom,path:["finalesAdeudados"],message:"Indica los finales adeudados."}):t.terminoDeCursar===!1&&t.cursandoElectivas===null&&b.addIssue({code:R.custom,path:["cursandoElectivas"],message:"Indica si cursas electivas."}),g&&t.horarios.length===0&&b.addIssue({code:R.custom,path:["horarios"],message:"Selecciona al menos un horario."}),t.trabaja&&v&&!t.certificadoTrabajoFile&&!t.existingCertificadoTrabajo&&b.addIssue({code:R.custom,path:["trabaja"],message:"Es obligatorio adjuntar el certificado laboral."}),h&&!t.cvFile&&b.addIssue({code:R.custom,path:["cvFile"],message:"El CV es obligatorio."})}),[g,v,h]),_=t=>{m(b=>{const C=b.horarios.includes(t);return{...b,horarios:C?b.horarios.filter(j=>j!==t):[...b.horarios,t]}})},P=t=>{!t&&s.existingCertificadoTrabajo?window.confirm(`⚠️ ¿Estás seguro de indicar que NO trabajas?

Al hacerlo, se eliminará el certificado laboral que tenías guardado. Esta acción no se puede deshacer.`)&&m(C=>({...C,trabaja:!1,existingCertificadoTrabajo:null,certificadoTrabajoFile:null})):m(b=>({...b,trabaja:t}))},M=(t,b)=>{if(t.target.files&&t.target.files.length>0){const C=t.target.files[0];if(C.size>5*1024*1024){p(j=>({...j,submit:"El archivo supera los 5MB permitidos."}));return}m(j=>({...j,[b]:C})),b==="certificadoTrabajoFile"&&p(j=>({...j,trabaja:void 0})),b==="cvFile"&&p(j=>({...j,cvFile:void 0}))}},B=async(t,b)=>{if(!(u!=null&&u.id))throw new Error("No ID");const C=t.name.split(".").pop(),j=`${u.id}/${b}_${Date.now()}.${C}`,{error:A}=await V.storage.from("documentos_estudiantes").upload(j,t,{upsert:!0});if(A)throw new Error(A.message);const{data:D}=V.storage.from("documentos_estudiantes").getPublicUrl(j);return D.publicUrl},re=async t=>{var C;t.preventDefault(),p({});const b=E.safeParse(s);if(!b.success){const j=b.error.flatten().fieldErrors,A={};for(const $ in j)A[$]=(C=j[$])==null?void 0:C[0];p(A);const D=document.querySelector('[data-error="true"]');D==null||D.scrollIntoView({behavior:"smooth",block:"center"});return}try{let j=s.trabaja?s.existingCertificadoTrabajo:null,A=null;if(s.trabaja&&s.certificadoTrabajoFile||s.cvFile){N(10);const D=setInterval(()=>N($=>Math.min($+20,90)),300);s.trabaja&&s.certificadoTrabajoFile&&(j=await B(s.certificadoTrabajoFile,"certificado_trabajo")),s.cvFile&&(A=await B(s.cvFile,"cv")),clearInterval(D),N(100)}await o({...b.data,certificadoTrabajoUrl:j,cvUrl:A})}catch(j){p({submit:j.message||"Error al enviar."})}};return a?e.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:c,children:e.jsxs("div",{className:"relative w-[95vw] max-h-[90dvh] sm:w-full sm:max-w-2xl sm:max-h-[90vh] bg-white dark:bg-slate-900 rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800 transition-transform duration-300 animate-scale-in",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex-shrink-0 px-4 py-4 sm:px-6 sm:py-5 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-b border-slate-100 dark:border-slate-800 z-10 flex items-center justify-between safe-area-top",children:[e.jsxs("div",{className:"min-w-0 pr-4",children:[e.jsx("p",{className:"text-[10px] font-extrabold text-blue-600 dark:text-blue-400 uppercase tracking-widest mb-0.5",children:"Inscripción"}),e.jsx("h2",{className:"text-xl font-black text-slate-900 dark:text-white leading-tight truncate",children:r})]}),e.jsx("button",{onClick:c,className:"p-2 -mr-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full transition-colors",children:e.jsx("span",{className:"material-icons !text-xl",children:"close"})})]}),(w||l&&n.length>0)&&e.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 px-6 py-3 border-b border-blue-100/50 dark:border-blue-800/30 flex items-center gap-3",children:[e.jsx("span",{className:"material-icons text-blue-500 dark:text-blue-400 !text-lg",children:"schedule"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wide",children:l?"Horarios (Obligatorios)":"Horario de la Práctica"}),e.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white leading-none",children:l?n.join("; "):n[0]})]})]}),e.jsxs("form",{ref:S,onSubmit:re,className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-6 sm:space-y-8 custom-scrollbar pb-safe",children:[i.submit&&e.jsxs("div",{className:"p-4 rounded-xl bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-800 text-rose-700 dark:text-rose-300 text-sm font-semibold flex items-start gap-2",children:[e.jsx("span",{className:"material-icons !text-lg mt-0.5",children:"error"}),e.jsx("span",{children:i.submit})]}),e.jsxs("div",{className:"flex gap-4 p-4 sm:p-5 rounded-2xl bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/30",children:[e.jsx("span",{className:"material-icons text-amber-500 !text-2xl shrink-0 mt-0.5",children:"warning_amber"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Compromiso y Responsabilidad"}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1 leading-relaxed font-medium block sm:hidden",children:"Al inscribirte asumes un compromiso. La falta de responsabilidad afectará futuras convocatorias."}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1 leading-relaxed font-medium hidden sm:block",children:"Al inscribirte, asumes un compromiso con la institución y la facultad. Darse de baja sobre la fecha, ausentarse sin aviso o cualquier otra decisión que demuestre falta de responsabilidad, será tenido en cuenta en futuras convocatorias."})]})]}),v&&e.jsxs("section",{children:[e.jsxs("h3",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wide mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-icons !text-sm",children:"work"})," Situación Laboral"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ne,{label:"¿Trabajas actualmente?",checked:s.trabaja,onChange:P}),e.jsx("div",{className:`grid transition-[grid-template-rows,opacity,padding] duration-300 ease-out ${s.trabaja?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:e.jsx("div",{className:"overflow-hidden min-h-0",children:e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-200 dark:border-slate-700",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-500 dark:text-slate-400 mb-3 block uppercase tracking-wide",children:"Certificado Laboral (Obligatorio)"}),s.existingCertificadoTrabajo&&!s.certificadoTrabajoFile&&e.jsxs("div",{className:"flex items-center justify-between bg-emerald-50 dark:bg-emerald-900/20 px-4 py-3 rounded-xl border border-emerald-100 dark:border-emerald-800/50 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-emerald-700 dark:text-emerald-400",children:[e.jsx("span",{className:"material-icons !text-lg",children:"check_circle"}),e.jsx("span",{children:"Certificado Vigente"})]}),e.jsx("a",{href:s.existingCertificadoTrabajo,target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-blue-600 dark:text-blue-400 hover:underline",children:"Ver archivo"})]}),e.jsx("input",{type:"file",ref:I,className:"hidden",accept:".pdf,.jpg,.png,.jpeg",onChange:t=>M(t,"certificadoTrabajoFile")}),e.jsx(K,{onClick:()=>{var t;return(t=I.current)==null?void 0:t.click()},label:s.certificadoTrabajoFile?"Cambiar Archivo":s.existingCertificadoTrabajo?"Actualizar Certificado":"Subir Certificado",fileName:(H=s.certificadoTrabajoFile)==null?void 0:H.name,hasError:!!i.trabaja}),i.trabaja&&e.jsxs("p",{className:"text-xs text-rose-500 font-semibold mt-2 flex items-center gap-1",children:[e.jsx("span",{className:"material-icons !text-xs",children:"error"})," ",i.trabaja]})]})})})]})]}),g&&e.jsxs("section",{"data-error":!!i.horarios,children:[e.jsxs("h3",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wide mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-icons !text-sm",children:"schedule"})," Disponibilidad Horaria"]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:n.map(t=>e.jsxs("div",{onClick:()=>_(t),className:`
                                        cursor-pointer px-5 py-4 rounded-2xl border transition-all flex items-center justify-between group select-none
                                        ${s.horarios.includes(t)?"border-blue-600 bg-blue-50 dark:bg-blue-600/20 dark:border-blue-500 shadow-md ring-1 ring-blue-500/20":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-sm"}
                                    `,children:[e.jsx("span",{className:`text-sm font-bold ${s.horarios.includes(t)?"text-blue-900 dark:text-blue-100":"text-slate-700 dark:text-slate-300"}`,children:t}),s.horarios.includes(t)&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 text-white flex items-center justify-center animate-scale-in",children:e.jsx("span",{className:"material-icons !text-sm",children:"check"})})]},t))}),i.horarios&&e.jsx("p",{className:"text-xs text-rose-500 font-semibold mt-2 ml-1",children:i.horarios})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wide mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-icons !text-sm",children:"school"})," Estado Académico"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{"data-error":!!i.terminoDeCursar,children:[e.jsx("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-3",children:"¿Terminaste de cursar?"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(O,{title:"Sí",subtitle:"Solo debo finales o TIF",icon:"school",selected:s.terminoDeCursar===!0,onClick:()=>m(t=>({...t,terminoDeCursar:!0,cursandoElectivas:null}))}),e.jsx(O,{title:"No",subtitle:"Aún curso materias",icon:"menu_book",selected:s.terminoDeCursar===!1,onClick:()=>m(t=>({...t,terminoDeCursar:!1,finalesAdeudados:""}))})]}),i.terminoDeCursar&&e.jsx("p",{className:"text-xs text-rose-500 font-semibold mt-2 ml-1",children:i.terminoDeCursar})]}),s.terminoDeCursar===!0&&e.jsxs("div",{className:"animate-fade-in","data-error":!!i.finalesAdeudados,children:[e.jsx("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-3",children:"Finales Adeudados"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:["Solo TIF/PPS","1 Final","2 Finales","3 Finales","4 Finales","5+"].map(t=>e.jsx("div",{onClick:()=>m(b=>({...b,finalesAdeudados:t})),className:`
                                                cursor-pointer px-3 py-3 rounded-xl border text-xs font-bold text-center transition-all duration-200 select-none
                                                ${s.finalesAdeudados===t?"border-blue-600 bg-blue-50 text-blue-700 dark:bg-blue-600/20 dark:border-blue-400 dark:text-blue-100 ring-1 ring-blue-500/20 shadow-md":"bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400 hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-md"}
                                            `,children:t},t))}),i.finalesAdeudados&&e.jsx("p",{className:"text-xs text-rose-500 font-semibold mt-2 ml-1",children:i.finalesAdeudados})]}),s.terminoDeCursar===!1&&e.jsxs("div",{className:"animate-fade-in","data-error":!!i.cursandoElectivas,children:[e.jsx("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-3",children:"¿Cursas Electivas?"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(O,{title:"Sí",selected:s.cursandoElectivas===!0,onClick:()=>m(t=>({...t,cursandoElectivas:!0}))}),e.jsx(O,{title:"No",selected:s.cursandoElectivas===!1,onClick:()=>m(t=>({...t,cursandoElectivas:!1}))})]}),i.cursandoElectivas&&e.jsx("p",{className:"text-xs text-rose-500 font-semibold mt-2 ml-1",children:i.cursandoElectivas})]}),e.jsxs("div",{"data-error":!!i.otraSituacionAcademica,children:[e.jsx("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Comentarios (Opcional)"}),e.jsx("textarea",{value:s.otraSituacionAcademica,onChange:t=>m(b=>({...b,otraSituacionAcademica:t.target.value})),className:"w-full p-4 rounded-2xl border border-slate-300 dark:border-slate-800 bg-white dark:bg-slate-950 text-sm focus:ring-4 focus:ring-blue-100 dark:focus:ring-blue-900/30 focus:border-blue-500 outline-none resize-none transition-all placeholder:text-slate-400",placeholder:"Ej: Estoy cursando el TIF...",rows:2}),i.otraSituacionAcademica&&e.jsx("p",{className:"text-xs text-rose-500 font-semibold mt-2 ml-1",children:i.otraSituacionAcademica})]})]})]}),h&&e.jsxs("section",{"data-error":!!i.cvFile,children:[e.jsxs("h3",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wide mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-icons !text-sm",children:"description"})," Curriculum Vitae"]}),e.jsx("input",{type:"file",ref:T,className:"hidden",accept:".pdf,.doc,.docx",onChange:t=>M(t,"cvFile")}),e.jsx(K,{onClick:()=>{var t;return(t=T.current)==null?void 0:t.click()},label:s.cvFile?"CV Seleccionado":"Adjuntar CV (PDF/Word)",fileName:(z=s.cvFile)==null?void 0:z.name,hasError:!!i.cvFile}),i.cvFile&&e.jsxs("p",{className:"text-xs text-rose-500 font-semibold mt-2 flex items-center gap-1",children:[e.jsx("span",{className:"material-icons !text-xs",children:"error"})," ",i.cvFile]})]}),e.jsx("div",{className:"h-10 sm:h-0"})]}),e.jsxs("div",{className:"flex-shrink-0 p-4 sm:p-6 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 flex flex-col sm:flex-row gap-3 relative z-20 safe-area-bottom",children:[k>0&&k<100&&e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-slate-100 dark:bg-slate-800",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${k}%`}})}),e.jsx("button",{onClick:c,disabled:x,className:"w-full sm:flex-1 py-3.5 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors text-sm",children:"Cancelar"}),e.jsx("button",{onClick:t=>{S.current&&S.current.requestSubmit()},disabled:x,className:"w-full sm:flex-[2] py-3.5 rounded-xl font-bold text-white bg-slate-900 dark:bg-white dark:text-slate-900 hover:bg-slate-800 dark:hover:bg-slate-200 shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:translate-y-0 text-sm",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white dark:border-slate-900/30 dark:border-t-slate-900 rounded-full animate-spin"}),e.jsx("span",{children:"Procesando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Confirmar Inscripción"}),e.jsx("span",{className:"material-icons !text-lg",children:"arrow_forward"})]})})]})]})}):null};class ye extends d.Component{getSnapshotBeforeUpdate(c){const o=this.props.childRef.current;if(o&&c.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=o.offsetHeight||0,r.width=o.offsetWidth||0,r.top=o.offsetTop,r.left=o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ce({children:a,isPresent:c}){const o=d.useId(),r=d.useRef(null),x=d.useRef({width:0,height:0,top:0,left:0}),{nonce:n}=d.useContext(fe);return d.useInsertionEffect(()=>{const{width:f,height:u,top:v,left:h}=x.current;if(c||!r.current||!f||!u)return;r.current.dataset.motionPopId=o;const l=document.createElement("style");return n&&(l.nonce=n),document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${u}px !important;
            top: ${v}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[c]),e.jsx(ye,{isPresent:c,childRef:r,sizeRef:x,children:d.cloneElement(a,{ref:r})})}const Ee=({children:a,initial:c,isPresent:o,onExitComplete:r,custom:x,presenceAffectsLayout:n,mode:f})=>{const u=se(Se),v=d.useId(),h=d.useCallback(s=>{u.set(s,!0);for(const m of u.values())if(!m)return;r&&r()},[u,r]),l=d.useMemo(()=>({id:v,initial:c,isPresent:o,custom:x,onExitComplete:h,register:s=>(u.set(s,!1),()=>u.delete(s))}),n?[Math.random(),h]:[o,h]);return d.useMemo(()=>{u.forEach((s,m)=>u.set(m,!1))},[o]),d.useEffect(()=>{!o&&!u.size&&r&&r()},[o]),f==="popLayout"&&(a=e.jsx(Ce,{isPresent:o,children:a})),e.jsx(pe.Provider,{value:l,children:a})};function Se(){return new Map}const L=a=>a.key||"";function X(a){const c=[];return d.Children.forEach(a,o=>{d.isValidElement(o)&&c.push(o)}),c}const Y=({children:a,custom:c,initial:o=!0,onExitComplete:r,presenceAffectsLayout:x=!0,mode:n="sync",propagate:f=!1})=>{const[u,v]=ge(f),h=d.useMemo(()=>X(a),[a]),l=f&&!u?[]:h.map(L),s=d.useRef(!0),m=d.useRef(h),i=se(()=>new Map),[p,k]=d.useState(h),[N,S]=d.useState(h);je(()=>{s.current=!1,m.current=h;for(let w=0;w<N.length;w++){const g=L(N[w]);l.includes(g)?i.delete(g):i.get(g)!==!0&&i.set(g,!1)}},[N,l.length,l.join("-")]);const I=[];if(h!==p){let w=[...h];for(let g=0;g<N.length;g++){const E=N[g],_=L(E);l.includes(_)||(w.splice(g,0,E),I.push(E))}n==="wait"&&I.length&&(w=I),S(X(w)),k(h);return}const{forceRender:T}=d.useContext(ve);return e.jsx(e.Fragment,{children:N.map(w=>{const g=L(w),E=f&&!u?!1:h===N||l.includes(g),_=()=>{if(i.has(g))i.set(g,!0);else return;let P=!0;i.forEach(M=>{M||(P=!1)}),P&&(T==null||T(),S(m.current),f&&(v==null||v()),r&&r())};return e.jsx(Ee,{isPresent:E,initial:!s.current||o?void 0:!1,custom:E?void 0:c,presenceAffectsLayout:x,mode:n,onExitComplete:E?void 0:_,children:w},g)})})},Ie=({student:a})=>e.jsxs(U.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"flex items-center justify-between p-3.5 rounded-xl bg-white dark:bg-slate-800/50 border border-slate-100 dark:border-slate-800 hover:border-blue-300 dark:hover:border-blue-600 hover:shadow-md hover:-translate-y-0.5 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`
            w-10 h-10 rounded-full flex items-center justify-center text-sm font-black shadow-sm transform transition-transform group-hover:scale-110
            ${a.nombre==="Nombre Desconocido"?"bg-slate-100 text-slate-400 dark:bg-slate-800 dark:text-slate-500":"bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-blue-500/30"}
        `,children:a.nombre.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`font-bold text-sm ${a.nombre==="Nombre Desconocido"?"text-slate-400 italic":"text-slate-800 dark:text-slate-100"}`,children:a.nombre}),e.jsx("span",{className:"text-[10px] font-mono text-slate-500 dark:text-slate-400 sm:hidden",children:a.legajo})]})]}),e.jsx("span",{className:"hidden sm:inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-mono font-medium bg-slate-50 text-slate-600 border border-slate-200 dark:bg-slate-900 dark:text-slate-400 dark:border-slate-700",children:a.legajo})]}),Te=({isOpen:a,onClose:c,seleccionados:o,convocatoriaName:r})=>{const[x,n]=d.useState(!1),[f,u]=d.useState("");d.useEffect(()=>(n(!0),()=>n(!1)),[]),d.useEffect(()=>(a?(document.body.style.overflow="hidden",u("")):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]);const v=d.useMemo(()=>{if(!o)return null;if(!f)return o;const l=f.toLowerCase(),s={};let m=!1;return Object.entries(o).forEach(([i,p])=>{const k=p.filter(N=>N.nombre.toLowerCase().includes(l)||N.legajo.toLowerCase().includes(l));k.length>0&&(s[i]=k,m=!0)}),m?s:null},[o,f]),h=o?Object.values(o).reduce((l,s)=>l+s.length,0):0;return x?te.createPortal(e.jsx(Y,{children:a&&e.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[1100] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4",onClick:c,children:e.jsxs(U.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:l=>l.stopPropagation(),className:"relative w-[95vw] max-h-[85dvh] sm:w-full sm:max-w-lg sm:max-h-[90vh] bg-white dark:bg-slate-900 rounded-3xl shadow-2xl flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800",children:[e.jsxs("div",{className:"flex-shrink-0 px-6 py-5 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md border-b border-slate-100 dark:border-slate-800 z-10",children:[e.jsxs("div",{className:`flex justify-between items-start ${h>=20?"mb-4":""}`,children:[e.jsxs("div",{className:"min-w-0 pr-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-[10px] font-extrabold text-blue-600 dark:text-blue-400 uppercase tracking-widest",children:"Resultados Oficiales"}),h>0&&e.jsx("span",{className:"inline-flex items-center justify-center bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-[10px] font-bold px-2 py-0.5 rounded-full leading-none",children:h})]}),e.jsx("h2",{className:"text-xl font-black text-slate-900 dark:text-white leading-tight truncate",title:r,children:r})]}),e.jsx("button",{type:"button",onClick:c,className:"p-2 -mr-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:e.jsx("span",{className:"material-icons !text-xl",children:"close"})})]}),h>=20&&e.jsxs("div",{className:"relative animate-fade-in",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 material-icons text-slate-400 !text-lg",children:"search"}),e.jsx("input",{type:"text",placeholder:"Buscar por alumno o legajo...",value:f,onChange:l=>u(l.target.value),className:"w-full bg-slate-50 dark:bg-black/20 border border-slate-200 dark:border-slate-700 text-slate-800 dark:text-white text-sm rounded-xl py-2.5 pl-10 pr-4 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all placeholder:text-slate-400"})]})]}),e.jsx("div",{className:"p-6 overflow-y-auto flex-grow custom-scrollbar bg-slate-50/30 dark:bg-black/20",children:v?!o||Object.keys(o).length===0?e.jsx(oe,{icon:"person_off",title:"Lista no disponible",message:"Aún no se ha publicado la lista de seleccionados.",className:"bg-transparent border-none shadow-none mt-4"}):e.jsx("div",{className:"space-y-8",children:Object.entries(v).map(([l,s])=>e.jsxs("div",{className:"relative",children:[l!=="No especificado"&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 py-1 z-0",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),e.jsx("h3",{className:"text-xs font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:l}),e.jsx("div",{className:"flex-grow border-b border-slate-200 dark:border-slate-800 ml-2"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:s.length})]}),e.jsx("ul",{className:"space-y-3",children:e.jsx(Y,{children:s.map(m=>e.jsx(Ie,{student:m},`${m.legajo}-${l}`))})})]},l))}):e.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center opacity-60",children:[e.jsx("span",{className:"material-icons !text-4xl text-slate-300 mb-2",children:"person_search"}),e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No se encontraron resultados para tu búsqueda."})]})}),e.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900",children:e.jsx("button",{onClick:c,className:"w-full px-6 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:bg-slate-800 dark:hover:bg-slate-200 font-bold rounded-xl text-sm transition-all shadow-md hover:shadow-lg active:scale-95 flex items-center justify-center gap-2",children:"Entendido"})})]})})}),document.body):null},Ae=ae({nombreInstitucion:y().min(3,"El nombre de la institución es requerido"),localidad:y().min(2,"La localidad es requerida"),direccion:y().min(5,"La dirección es requerida"),emailInstitucion:y().min(1,"El email es requerido").email("Email inválido"),telefonoInstitucion:y().min(5,"El teléfono es requerido"),referente:y().min(3,"El referente institucional es requerido"),tieneConvenio:J(["Sí","No","No sé"]),nombreTutor:y().min(3,"El nombre del Lic. en Psicología es requerido"),alcance:J(["Individual","Grupal"]),cantidadEstudiantes:y().optional(),descripcion:y().min(10,"Por favor describe brevemente las actividades")}).superRefine((a,c)=>{a.alcance==="Grupal"&&(!a.cantidadEstudiantes||a.cantidadEstudiantes.trim()==="")&&c.addIssue({code:R.custom,path:["cantidadEstudiantes"],message:"Por favor indica la cantidad aproximada"})}),ee={nombreInstitucion:"",localidad:"",direccion:"",emailInstitucion:"",telefonoInstitucion:"",referente:"",tieneConvenio:"No sé",nombreTutor:"",alcance:"Individual",cantidadEstudiantes:"",descripcion:""},Fe=({isOpen:a,onClose:c,onSubmit:o})=>{const[r,x]=d.useState(ee),[n,f]=d.useState({}),[u,v]=d.useState(!1),h=d.useRef(null);d.useEffect(()=>{a&&(x(ee),f({}))},[a]);const l=m=>{const{name:i,value:p}=m.target;x(k=>({...k,[i]:p})),n[i]&&f(k=>({...k,[i]:void 0}))},s=async m=>{m.preventDefault();const i=Ae.safeParse(r);if(!i.success){const p={};i.error.issues.forEach(k=>{k.path[0]&&(p[k.path[0]]=k.message)}),f(p);return}v(!0);try{const p={...i.data,contactoTutor:i.data.nombreTutor,tipoPractica:i.data.alcance==="Individual"?"Individual":`Grupal (${i.data.cantidadEstudiantes} estudiantes)`,tieneTutor:"Sí"};await o(p),c()}catch(p){console.error(p)}finally{v(!1)}};return a?e.jsx("div",{className:"fixed inset-0 z-[1300] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm transition-opacity duration-300",onClick:c,children:e.jsxs("div",{ref:h,onClick:m=>m.stopPropagation(),className:"relative w-[95vw] max-h-[90dvh] sm:w-full sm:max-w-3xl sm:max-h-[90vh] bg-white dark:bg-slate-900 rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800 transition-transform duration-300 animate-scale-in",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/50 flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl",children:e.jsx("span",{className:"material-icons !text-2xl",children:"add_business"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Solicitar Nueva PPS"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Propuesta de institución para autogestión."})]})]}),e.jsx("button",{onClick:c,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx("span",{className:"material-icons !text-2xl",children:"close"})})]}),e.jsxs("form",{onSubmit:s,className:"flex-grow overflow-y-auto p-6 space-y-6 custom-scrollbar bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 uppercase tracking-wider border-b border-slate-200 dark:border-slate-700 pb-2 mb-4",children:"Datos de la Institución"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:["Nombre de la Institución ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{name:"nombreInstitucion",value:r.nombreInstitucion,onChange:l,placeholder:"Ej: Hospital Zonal..."}),n.nombreInstitucion&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-semibold",children:n.nombreInstitucion})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:["Localidad ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{name:"localidad",value:r.localidad,onChange:l,placeholder:"Ej: Cipolletti"}),n.localidad&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-semibold",children:n.localidad})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:["Dirección Completa ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{name:"direccion",value:r.direccion,onChange:l,placeholder:"Calle y Altura"}),n.direccion&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-semibold",children:n.direccion})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:["Email de Contacto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{name:"emailInstitucion",type:"email",value:r.emailInstitucion,onChange:l,placeholder:"contacto@institucion.com"}),n.emailInstitucion&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-semibold",children:n.emailInstitucion})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:["Teléfono ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{name:"telefonoInstitucion",type:"tel",value:r.telefonoInstitucion,onChange:l,placeholder:"Cod. Área + Número"}),n.telefonoInstitucion&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-semibold",children:n.telefonoInstitucion})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 uppercase tracking-wider border-b border-slate-200 dark:border-slate-700 pb-2 mb-4",children:"Referentes y Convenio"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:["Referente Institucional (Director/Coord) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{name:"referente",value:r.referente,onChange:l,placeholder:"Autoridad de la institución"}),n.referente&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-semibold",children:n.referente})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"¿Tiene convenio con UFLO?"}),e.jsxs(W,{name:"tieneConvenio",value:r.tieneConvenio,onChange:l,children:[e.jsx("option",{value:"No sé",children:"No lo sé"}),e.jsx("option",{value:"Sí",children:"Sí, tiene convenio vigente"}),e.jsx("option",{value:"No",children:"No, hay que gestionarlo"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:["Nombre del Lic. en Psicología (Tutor) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{name:"nombreTutor",value:r.nombreTutor,onChange:l,placeholder:"Nombre del profesional que supervisará"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:"Debe ser un psicólogo/a graduado que trabaje en la institución."}),n.nombreTutor&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-semibold",children:n.nombreTutor})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 uppercase tracking-wider border-b border-slate-200 dark:border-slate-700 pb-2 mb-4",children:"Sobre la Práctica"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Alcance de la Práctica"}),e.jsxs(W,{name:"alcance",value:r.alcance,onChange:l,children:[e.jsx("option",{value:"Individual",children:"Solo para mí"}),e.jsx("option",{value:"Grupal",children:"Para varios estudiantes"})]})]}),r.alcance==="Grupal"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:["Cantidad aprox. de estudiantes ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{name:"cantidadEstudiantes",value:r.cantidadEstudiantes,onChange:l,placeholder:"Ej: 3 o 4"}),n.cantidadEstudiantes&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-semibold",children:n.cantidadEstudiantes})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:["Descripción de Actividades ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"descripcion",value:r.descripcion,onChange:l,rows:3,className:"w-full rounded-xl border-2 border-slate-300 dark:border-slate-500 p-3 text-sm font-medium bg-white dark:bg-slate-950 focus:border-blue-600 dark:focus:border-blue-400 focus:ring-4 focus:ring-blue-100 dark:focus:ring-blue-900/40 outline-none transition-all resize-none text-slate-900 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-500",placeholder:"Describe brevemente qué actividades se realizarían (ej: observación, admisión, talleres)..."}),n.descripcion&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-semibold",children:n.descripcion})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/50 flex justify-end gap-3 safe-area-bottom",children:[e.jsx(Z,{variant:"secondary",onClick:c,disabled:u,children:"Cancelar"}),e.jsx(Z,{onClick:s,isLoading:u,disabled:u,icon:"send",children:"Enviar Solicitud"})]})]})}):null},Me=()=>{const{modalInfo:a,closeModal:c,isEnrollmentFormOpen:o,closeEnrollmentForm:r,selectedLanzamientoForEnrollment:x,studentProfileForEnrollment:n,isSeleccionadosModalOpen:f,closeSeleccionadosModal:u,seleccionadosData:v,convocatoriaForModal:h,isSubmittingEnrollment:l,onSubmitEnrollment:s,isSolicitudPPSModalOpen:m,closeSolicitudPPSModal:i,onSubmitSolicitudPPS:p}=ne(),k=(x==null?void 0:x[de])||"",N=k?k.split(";").map(E=>E.trim()).filter(Boolean):[],S=!!(x!=null&&x[ce]),I=(x==null?void 0:x[xe])!==!1,T=!!(x!=null&&x[ue]),w=!!(x!=null&&x[me]),g=(x==null?void 0:x[be])||"Convocatoria";return e.jsxs(e.Fragment,{children:[e.jsx(ke,{isOpen:!!a,title:(a==null?void 0:a.title)||"",message:(a==null?void 0:a.message)||"",onClose:c}),e.jsx(we,{isOpen:o,onClose:r,onSubmit:s||(()=>Promise.resolve()),convocatoriaName:g,horariosDisponibles:N,isSubmitting:l,permiteCertificado:S,studentProfile:n,reqCertificadoTrabajo:I,reqCv:T,horariosFijos:w}),e.jsx(Te,{isOpen:f,onClose:u,seleccionados:v,convocatoriaName:h}),e.jsx(Fe,{isOpen:m,onClose:i,onSubmit:p||(()=>Promise.resolve())})]})};export{Me as A};

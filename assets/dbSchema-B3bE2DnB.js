import{r as O,aA as S,j as e,R,aC as x,aB as m,b6 as u,a3 as D,b7 as k,aJ as g,aH as f,b8 as j,a_ as v,D as y,b9 as M,a$ as V,b5 as U,ba as P,G as w,I as Z,bb as B,af as H,ag as G,ah as J,aq as z,$ as q,au as $,aw as K,ai as Q,ae as W,aj as X,al as Y,am as ee,bc as ae,an as se,ao as te,ap as re,Z as ne,h as le,F as oe,a1 as Ie,V as ce,_ as ie,U as Ae,bd as Ee,at as Ne,be as _e,aE as de,bf as Oe,bg as Ce,bh as be,bi as Te,bj as Se,aK as xe,aI as me,aG as ue,bk as De,aL as Le,aM as he,aN as Fe,aO as pe,bl as Re,bm as ke,bn as ge,bo as fe,bp as je,bq as ve,br as ye,aV as Me,az as Ve,aU as Ue,aR as Pe,aS as we,aT as Ze,ax as Be,bs as He,bt as Ge,a2 as Je,bu as ze,av as qe,bv as $e,ac as Ke,a7 as Qe,a6 as We,bw as Xe}from"./index-ZXlslG1z.js";const ea=({isOpen:L,onClose:N,record:n,initialData:o,tableConfig:I,onSave:h,isSaving:C})=>{const[b,T]=O.useState({}),l=!n,_=O.useRef(null);O.useEffect(()=>{const a={};I.fieldConfig.forEach(s=>{let t;if(l)o&&o[s.key]!==void 0?t=o[s.key]:t=s.type==="checkbox"?!1:"";else{const c=s.key;t=n?n[c]:""}typeof t=="string"||Array.isArray(t)?a[s.key]=S(t):a[s.key]=t}),T(a)},[n,I,l,o]);const A=a=>{const{name:s,value:t,type:c}=a.target,i=c==="checkbox",E=a.target.checked;T(r=>({...r,[s]:i?E:t}))},F=()=>{const a={...b};I.fieldConfig.forEach(s=>{const t=a[s.key];s.type==="number"?t===""||t===null||t===void 0?a[s.key]=null:a[s.key]=Number(t):(s.type==="text"||s.type==="textarea"||s.type==="select")&&(a[s.key]=S(t))}),h(n?n.id:null,a)};if(!L)return null;const p=a=>{var E;const s=b[a.key]??"",t=a.type==="checkbox",c=a.type==="textarea",i=`
            w-full rounded-xl border-2 
            border-slate-300 dark:border-slate-500 
            p-2.5 text-sm font-medium 
            bg-white dark:bg-slate-950 
            text-slate-900 dark:text-slate-100
            focus:border-blue-600 dark:focus:border-blue-400 
            focus:ring-4 focus:ring-blue-100 dark:focus:ring-blue-900/40 
            outline-none transition-all
            ${t?"h-5 w-5 text-blue-600 rounded cursor-pointer":""}
        `;if(!l&&n){let r=null,d="link";if(a.key===x||a.key===m?(r=n.__studentName,d="person"):(a.key===u||a.key===D)&&(r=n.__lanzamientoName,d="rocket_launch"),r)return e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1.5",children:a.label}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 flex items-center justify-center flex-shrink-0 border border-slate-200 dark:border-slate-600 shadow-sm",children:e.jsx("span",{className:"material-icons !text-sm",children:d})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 truncate",children:r}),e.jsxs("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-mono truncate",children:["ID: ",s]})]})]}),e.jsx("input",{type:"hidden",name:a.key,value:s})]})}return c?e.jsxs("div",{className:"col-span-1 sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1.5",children:a.label}),e.jsx("textarea",{name:a.key,value:s,onChange:A,rows:3,className:i})]}):a.type==="select"?e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1.5",children:a.label}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:a.key,value:s,onChange:A,className:`${i} appearance-none pr-10`,children:[e.jsx("option",{value:"",children:"Seleccionar..."}),(E=a.options)==null?void 0:E.map(r=>typeof r=="string"?e.jsx("option",{value:r,children:r},r):e.jsx("option",{value:r.value,children:r.label},r.value))]}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 material-icons text-slate-400 dark:text-slate-500 pointer-events-none !text-lg",children:"expand_more"})]})]}):t?e.jsxs("div",{className:"col-span-1 flex items-center gap-3 mt-6 p-1",children:[e.jsx("input",{type:"checkbox",id:a.key,name:a.key,checked:!!s,onChange:A,className:"w-5 h-5 rounded border-2 border-slate-300 dark:border-slate-500 text-blue-600 focus:ring-blue-500 cursor-pointer"}),e.jsx("label",{htmlFor:a.key,className:"text-sm font-bold text-slate-700 dark:text-slate-200 cursor-pointer select-none",children:a.label})]}):e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1.5",children:a.label}),e.jsx("input",{type:a.type,name:a.key,value:s,onChange:A,className:i})]})};return e.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-fade-in",onMouseDown:a=>{_.current=a.target},onMouseUp:a=>{_.current===a.currentTarget&&a.target===a.currentTarget&&N(),_.current=null},children:e.jsxs("div",{className:"relative w-[95vw] max-h-[90dvh] sm:w-full sm:max-w-2xl sm:max-h-[90vh] bg-white dark:bg-slate-900 rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800 transition-transform duration-300 animate-scale-in",onClick:a=>a.stopPropagation(),onMouseDown:a=>a.stopPropagation(),children:[e.jsxs("header",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center bg-slate-50/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl shadow-sm ${l?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:e.jsx("span",{className:"material-icons !text-2xl",children:l?o?"content_copy":"add_circle":"edit_note"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white tracking-tight leading-none",children:l?o?"Duplicar Registro":"Nuevo Registro":"Editar Registro"}),e.jsx("span",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mt-1 block",children:I.label})]})]}),e.jsx("button",{onClick:N,className:"p-2 rounded-full text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:e.jsx("span",{className:"material-icons",children:"close"})})]}),e.jsx("main",{className:"p-6 overflow-y-auto custom-scrollbar bg-slate-50/30 dark:bg-slate-900/30 flex-grow",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-6",children:I.fieldConfig.map(a=>e.jsx(R.Fragment,{children:p(a)},a.key))})}),e.jsxs("footer",{className:"p-5 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3 safe-area-bottom",children:[e.jsx("button",{onClick:N,className:"px-6 py-2.5 text-sm font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:F,disabled:C,className:"px-6 py-2.5 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 rounded-xl shadow-lg hover:shadow-blue-500/20 transition-all disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-2 active:scale-95 transform",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/50 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Guardando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons !text-lg",children:"save"}),e.jsx("span",{children:l?"Crear":"Guardar"})]})})]})]})})},aa={estudiantes:{_tableName:B,legajo:Z,nombre:w,orientacionElegida:P,notasInternas:U,dni:V,fechaNacimiento:M,correo:y,telefono:v,fechaFinalizacion:j,trabaja:f,certificadoTrabajo:g,finalizaron:k},practicas:{_tableName:Se,nota:Te,estudianteLink:x,lanzamientoVinculado:u,especialidad:be,fechaInicio:Ce,fechaFin:Oe,horasRealizadas:de,estado:_e,institucionLink:Ne,nombreInstitucion:Ee},convocatorias:{_tableName:Je,informeSubido:Ge,fechaEntregaInforme:He,estadoInscripcion:Be,lanzamientoVinculado:D,estudianteInscripto:m,nombrePPS:Ze,fechaInicio:we,fechaFin:Pe,direccion:Ue,horario:Ve,orientacion:Me,horasAcreditadas:ye,cuposDisponibles:ve,legajo:je,dni:fe,correo:ge,fechaNacimiento:ke,telefono:Re,terminoCursar:pe,cursandoElectivas:Fe,finalesAdeuda:he,otraSituacion:Le,certificado:De,trabaja:ue,certificadoTrabajo:me,cvUrl:xe},lanzamientos:{_tableName:Ae,estadoGestion:ie,notasGestion:ce,estadoConvocatoria:Ie,nombrePPS:oe,fechaInicio:le,fechaFin:ne,orientacion:re,horasAcreditadas:te,cuposDisponibles:se,permiteCertificado:ae,reqCertificadoTrabajo:ee,reqCv:Y,descripcion:X,actividades:W,requisitoObligatorio:Q,codigoCampus:K,fechaInicioInscripcion:$,fechaFinInscripcion:q,fechaPublicacion:z,mensajeWhatsApp:J,actividadesLabel:G,horariosFijos:H},instituciones:{_tableName:Xe,nombre:We,direccion:Qe,telefono:Ke,convenioNuevo:$e,codigoCampus:qe,orientaciones:ze}};export{ea as R,aa as s};

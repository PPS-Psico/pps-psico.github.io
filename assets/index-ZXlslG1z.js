const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./StudentView-De99uWK8.js","./AppModals-D8FkQV9k.js","./types-CzNk-woI.js","./proxy-BFxRqQFC.js","./Select-DhRNnplj.js","./StudentDashboard-_sgKRHhD.js","./types-Cg8ilULs.js","./PreSolicitudCheckModal-J-N_Aj9Q.js","./Tabs-3YiwyxBG.js","./ProfileView-CEvSVS12.js","./ConvocatoriaCardPremium-Cd-vXGWP.js","./SolicitudesView-YKQmvci7.js","./StudentProfileView-CGfDkxH7.js","./AdminView-D_ssnPNn.js","./UnifiedTabs-xSvmzb6C.js","./AdminDashboard-BW32dpJn.js","./differenceInDays-B0Mox2cD.js","./LanzadorView-BXU4N7re.js","./SubTabs-B9w5BDf5.js","./dbSchema-B3bE2DnB.js","./CollapsibleSection-DXbQB952.js","./emailService-DD1-Dxe1.js","./ConfirmModal-DfSwa4qW.js","./GestionView-BxmB3GZu.js","./ConvocatoriaManager-DsSUfls_.js","./HerramientasView-DmsAFi25.js","./AdminSearch-DMlT1HSE.js","./MetricsView-Cvn33uc4.js","./TimelineView-323S62Er.js","./SolicitudesManager-B0vYm3k3.js","./JefeView-TbmhlitR.js","./WelcomeBannerAdmin-Ds9CiK7J.js","./DirectivoView-CkyN4-TO.js","./ReporteroView-DW6yIF6g.js","./AdminTestingView-KwSPkikm.js"])))=>i.map(i=>d[i]);
var Dx=Object.defineProperty;var L0=t=>{throw TypeError(t)};var Fx=(t,e,r)=>e in t?Dx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var sr=(t,e,r)=>Fx(t,typeof e!="symbol"?e+"":e,r),wh=(t,e,r)=>e.has(t)||L0("Cannot "+r);var T=(t,e,r)=>(wh(t,e,"read from private field"),r?r.call(t):e.get(t)),he=(t,e,r)=>e.has(t)?L0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ee=(t,e,r,s)=>(wh(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),xe=(t,e,r)=>(wh(t,e,"access private method"),r);var nu=(t,e,r,s)=>({set _(o){ee(t,e,o,r)},get _(){return T(t,e,s)}});function N_(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var TL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function La(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),r}var bh={exports:{}},sa={},Eh={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function Mx(){if(D0)return Ie;D0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function E(C,$,X){this.props=C,this.context=$,this.refs=S,this.updater=X||b}E.prototype.isReactComponent={},E.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},E.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function N(){}N.prototype=E.prototype;function F(C,$,X){this.props=C,this.context=$,this.refs=S,this.updater=X||b}var j=F.prototype=new N;j.constructor=F,x(j,E.prototype),j.isPureReactComponent=!0;var B=Array.isArray,H=Object.prototype.hasOwnProperty,G={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function oe(C,$,X){var ne,me={},Ee=null,Ce=null;if($!=null)for(ne in $.ref!==void 0&&(Ce=$.ref),$.key!==void 0&&(Ee=""+$.key),$)H.call($,ne)&&!Z.hasOwnProperty(ne)&&(me[ne]=$[ne]);var ke=arguments.length-2;if(ke===1)me.children=X;else if(1<ke){for(var Re=Array(ke),_t=0;_t<ke;_t++)Re[_t]=arguments[_t+2];me.children=Re}if(C&&C.defaultProps)for(ne in ke=C.defaultProps,ke)me[ne]===void 0&&(me[ne]=ke[ne]);return{$$typeof:t,type:C,key:Ee,ref:Ce,props:me,_owner:G.current}}function ae(C,$){return{$$typeof:t,type:C.type,key:$,ref:C.ref,props:C.props,_owner:C._owner}}function te(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function fe(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(X){return $[X]})}var Te=/\/+/g;function pe(C,$){return typeof C=="object"&&C!==null&&C.key!=null?fe(""+C.key):$.toString(36)}function V(C,$,X,ne,me){var Ee=typeof C;(Ee==="undefined"||Ee==="boolean")&&(C=null);var Ce=!1;if(C===null)Ce=!0;else switch(Ee){case"string":case"number":Ce=!0;break;case"object":switch(C.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=C,me=me(Ce),C=ne===""?"."+pe(Ce,0):ne,B(me)?(X="",C!=null&&(X=C.replace(Te,"$&/")+"/"),V(me,$,X,"",function(_t){return _t})):me!=null&&(te(me)&&(me=ae(me,X+(!me.key||Ce&&Ce.key===me.key?"":(""+me.key).replace(Te,"$&/")+"/")+C)),$.push(me)),1;if(Ce=0,ne=ne===""?".":ne+":",B(C))for(var ke=0;ke<C.length;ke++){Ee=C[ke];var Re=ne+pe(Ee,ke);Ce+=V(Ee,$,X,Re,me)}else if(Re=_(C),typeof Re=="function")for(C=Re.call(C),ke=0;!(Ee=C.next()).done;)Ee=Ee.value,Re=ne+pe(Ee,ke++),Ce+=V(Ee,$,X,Re,me);else if(Ee==="object")throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ce}function A(C,$,X){if(C==null)return C;var ne=[],me=0;return V(C,ne,"","",function(Ee){return $.call(X,Ee,me++)}),ne}function L(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(X){(C._status===0||C._status===-1)&&(C._status=1,C._result=X)},function(X){(C._status===0||C._status===-1)&&(C._status=2,C._result=X)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var D={current:null},P={transition:null},q={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:G};function W(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:A,forEach:function(C,$,X){A(C,function(){$.apply(this,arguments)},X)},count:function(C){var $=0;return A(C,function(){$++}),$},toArray:function(C){return A(C,function($){return $})||[]},only:function(C){if(!te(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ie.Component=E,Ie.Fragment=r,Ie.Profiler=o,Ie.PureComponent=F,Ie.StrictMode=s,Ie.Suspense=h,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Ie.act=W,Ie.cloneElement=function(C,$,X){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ne=x({},C.props),me=C.key,Ee=C.ref,Ce=C._owner;if($!=null){if($.ref!==void 0&&(Ee=$.ref,Ce=G.current),$.key!==void 0&&(me=""+$.key),C.type&&C.type.defaultProps)var ke=C.type.defaultProps;for(Re in $)H.call($,Re)&&!Z.hasOwnProperty(Re)&&(ne[Re]=$[Re]===void 0&&ke!==void 0?ke[Re]:$[Re])}var Re=arguments.length-2;if(Re===1)ne.children=X;else if(1<Re){ke=Array(Re);for(var _t=0;_t<Re;_t++)ke[_t]=arguments[_t+2];ne.children=ke}return{$$typeof:t,type:C.type,key:me,ref:Ee,props:ne,_owner:Ce}},Ie.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:a,_context:C},C.Consumer=C},Ie.createElement=oe,Ie.createFactory=function(C){var $=oe.bind(null,C);return $.type=C,$},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(C){return{$$typeof:d,render:C}},Ie.isValidElement=te,Ie.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:L}},Ie.memo=function(C,$){return{$$typeof:p,type:C,compare:$===void 0?null:$}},Ie.startTransition=function(C){var $=P.transition;P.transition={};try{C()}finally{P.transition=$}},Ie.unstable_act=W,Ie.useCallback=function(C,$){return D.current.useCallback(C,$)},Ie.useContext=function(C){return D.current.useContext(C)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(C){return D.current.useDeferredValue(C)},Ie.useEffect=function(C,$){return D.current.useEffect(C,$)},Ie.useId=function(){return D.current.useId()},Ie.useImperativeHandle=function(C,$,X){return D.current.useImperativeHandle(C,$,X)},Ie.useInsertionEffect=function(C,$){return D.current.useInsertionEffect(C,$)},Ie.useLayoutEffect=function(C,$){return D.current.useLayoutEffect(C,$)},Ie.useMemo=function(C,$){return D.current.useMemo(C,$)},Ie.useReducer=function(C,$,X){return D.current.useReducer(C,$,X)},Ie.useRef=function(C){return D.current.useRef(C)},Ie.useState=function(C){return D.current.useState(C)},Ie.useSyncExternalStore=function(C,$,X){return D.current.useSyncExternalStore(C,$,X)},Ie.useTransition=function(){return D.current.useTransition()},Ie.version="18.3.1",Ie}var F0;function rp(){return F0||(F0=1,Eh.exports=Mx()),Eh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function Ux(){if(M0)return sa;M0=1;var t=rp(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var y,v={},_=null,b=null;p!==void 0&&(_=""+p),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(b=h.ref);for(y in h)s.call(h,y)&&!a.hasOwnProperty(y)&&(v[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)v[y]===void 0&&(v[y]=h[y]);return{$$typeof:e,type:d,key:_,ref:b,props:v,_owner:o.current}}return sa.Fragment=r,sa.jsx=u,sa.jsxs=u,sa}var U0;function $x(){return U0||(U0=1,bh.exports=Ux()),bh.exports}var g=$x(),I=rp();const np=tp(I),Bx=N_({__proto__:null,default:np},[I]);var su={},Sh={exports:{}},Ut={},xh={exports:{}},kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function zx(){return $0||($0=1,(function(t){function e(P,q){var W=P.length;P.push(q);e:for(;0<W;){var C=W-1>>>1,$=P[C];if(0<o($,q))P[C]=q,P[W]=$,W=C;else break e}}function r(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var q=P[0],W=P.pop();if(W!==q){P[0]=W;e:for(var C=0,$=P.length,X=$>>>1;C<X;){var ne=2*(C+1)-1,me=P[ne],Ee=ne+1,Ce=P[Ee];if(0>o(me,W))Ee<$&&0>o(Ce,me)?(P[C]=Ce,P[Ee]=W,C=Ee):(P[C]=me,P[ne]=W,C=ne);else if(Ee<$&&0>o(Ce,W))P[C]=Ce,P[Ee]=W,C=Ee;else break e}}return q}function o(P,q){var W=P.sortIndex-q.sortIndex;return W!==0?W:P.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],y=1,v=null,_=3,b=!1,x=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(P){for(var q=r(p);q!==null;){if(q.callback===null)s(p);else if(q.startTime<=P)s(p),q.sortIndex=q.expirationTime,e(h,q);else break;q=r(p)}}function B(P){if(S=!1,j(P),!x)if(r(h)!==null)x=!0,L(H);else{var q=r(p);q!==null&&D(B,q.startTime-P)}}function H(P,q){x=!1,S&&(S=!1,N(oe),oe=-1),b=!0;var W=_;try{for(j(q),v=r(h);v!==null&&(!(v.expirationTime>q)||P&&!fe());){var C=v.callback;if(typeof C=="function"){v.callback=null,_=v.priorityLevel;var $=C(v.expirationTime<=q);q=t.unstable_now(),typeof $=="function"?v.callback=$:v===r(h)&&s(h),j(q)}else s(h);v=r(h)}if(v!==null)var X=!0;else{var ne=r(p);ne!==null&&D(B,ne.startTime-q),X=!1}return X}finally{v=null,_=W,b=!1}}var G=!1,Z=null,oe=-1,ae=5,te=-1;function fe(){return!(t.unstable_now()-te<ae)}function Te(){if(Z!==null){var P=t.unstable_now();te=P;var q=!0;try{q=Z(!0,P)}finally{q?pe():(G=!1,Z=null)}}else G=!1}var pe;if(typeof F=="function")pe=function(){F(Te)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,A=V.port2;V.port1.onmessage=Te,pe=function(){A.postMessage(null)}}else pe=function(){E(Te,0)};function L(P){Z=P,G||(G=!0,pe())}function D(P,q){oe=E(function(){P(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,L(H))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(P){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var W=_;_=q;try{return P()}finally{_=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=_;_=P;try{return q()}finally{_=W}},t.unstable_scheduleCallback=function(P,q,W){var C=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?C+W:C):W=C,P){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=W+$,P={id:y++,callback:q,priorityLevel:P,startTime:W,expirationTime:$,sortIndex:-1},W>C?(P.sortIndex=W,e(p,P),r(h)===null&&P===r(p)&&(S?(N(oe),oe=-1):S=!0,D(B,W-C))):(P.sortIndex=$,e(h,P),x||b||(x=!0,L(H))),P},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(P){var q=_;return function(){var W=_;_=q;try{return P.apply(this,arguments)}finally{_=W}}}})(kh)),kh}var B0;function Vx(){return B0||(B0=1,xh.exports=zx()),xh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Wx(){if(z0)return Ut;z0=1;var t=rp(),e=Vx();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function _(n){return h.call(v,n)?!0:h.call(y,n)?!1:p.test(n)?v[n]=!0:(y[n]=!0,!1)}function b(n,i,l,c){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x(n,i,l,c){if(i===null||typeof i>"u"||b(n,i,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(n,i,l,c,f,m,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=w}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new S(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];E[i]=new S(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new S(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new S(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new S(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new S(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new S(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new S(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new S(n,5,!1,n.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function F(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(N,F);E[i]=new S(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(N,F);E[i]=new S(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(N,F);E[i]=new S(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new S(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new S(n,1,!1,n.toLowerCase(),null,!0,!0)});function j(n,i,l,c){var f=E.hasOwnProperty(i)?E[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(x(i,l,f,c)&&(l=null),c||f===null?_(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):f.mustUseProperty?n[f.propertyName]=l===null?f.type===3?!1:"":l:(i=f.attributeName,c=f.attributeNamespace,l===null?n.removeAttribute(i):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,c?n.setAttributeNS(c,i,l):n.setAttribute(i,l))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),fe=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),P=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var W=Object.assign,C;function $(n){if(C===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);C=i&&i[1]||""}return`
`+C+n}var X=!1;function ne(n,i){if(!n||X)return"";X=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var c=z}Reflect.construct(n,[],i)}else{try{i.call()}catch(z){c=z}n.call(i.prototype)}else{try{throw Error()}catch(z){c=z}n()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),m=c.stack.split(`
`),w=f.length-1,k=m.length-1;1<=w&&0<=k&&f[w]!==m[k];)k--;for(;1<=w&&0<=k;w--,k--)if(f[w]!==m[k]){if(w!==1||k!==1)do if(w--,k--,0>k||f[w]!==m[k]){var O=`
`+f[w].replace(" at new "," at ");return n.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",n.displayName)),O}while(1<=w&&0<=k);break}}}finally{X=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?$(n):""}function me(n){switch(n.tag){case 5:return $(n.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return n=ne(n.type,!1),n;case 11:return n=ne(n.type.render,!1),n;case 1:return n=ne(n.type,!0),n;default:return""}}function Ee(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Z:return"Fragment";case G:return"Portal";case ae:return"Profiler";case oe:return"StrictMode";case pe:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case fe:return(n.displayName||"Context")+".Consumer";case te:return(n._context.displayName||"Context")+".Provider";case Te:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case A:return i=n.displayName||null,i!==null?i:Ee(n.type)||"Memo";case L:i=n._payload,n=n._init;try{return Ee(n(i))}catch{}}return null}function Ce(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(i);case 8:return i===oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ke(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Re(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _t(n){var i=Re(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,m.call(this,w)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ri(n){n._valueTracker||(n._valueTracker=_t(n))}function Bp(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return n&&(c=Re(n)?n.checked?"true":"false":n.value),n=c,n!==l?(i.setValue(n),!0):!1}function Ka(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Cc(n,i){var l=i.checked;return W({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function zp(n,i){var l=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;l=ke(i.value!=null?i.value:l),n._wrapperState={initialChecked:c,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Vp(n,i){i=i.checked,i!=null&&j(n,"checked",i,!1)}function Ic(n,i){Vp(n,i);var l=ke(i.value),c=i.type;if(l!=null)c==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Oc(n,i.type,l):i.hasOwnProperty("defaultValue")&&Oc(n,i.type,ke(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Wp(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Oc(n,i,l){(i!=="number"||Ka(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var _o=Array.isArray;function ni(n,i,l,c){if(n=n.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<n.length;l++)f=i.hasOwnProperty("$"+n[l].value),n[l].selected!==f&&(n[l].selected=f),f&&c&&(n[l].defaultSelected=!0)}else{for(l=""+ke(l),i=null,f=0;f<n.length;f++){if(n[f].value===l){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Ac(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Hp(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(r(92));if(_o(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:ke(l)}}function qp(n,i){var l=ke(i.value),c=ke(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),c!=null&&(n.defaultValue=""+c)}function Gp(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Kp(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nc(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Kp(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Qa,Qp=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,l,c,f)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Qa=Qa||document.createElement("div"),Qa.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Qa.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function wo(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$E=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(n){$E.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),bo[i]=bo[n]})});function Jp(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||bo.hasOwnProperty(n)&&bo[n]?(""+i).trim():i+"px"}function Yp(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var c=l.indexOf("--")===0,f=Jp(l,i[l],c);l==="float"&&(l="cssFloat"),c?n.setProperty(l,f):n[l]=f}}var BE=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rc(n,i){if(i){if(BE[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Pc(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=null;function Lc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Dc=null,si=null,ii=null;function Zp(n){if(n=Vo(n)){if(typeof Dc!="function")throw Error(r(280));var i=n.stateNode;i&&(i=vl(i),Dc(n.stateNode,n.type,i))}}function Xp(n){si?ii?ii.push(n):ii=[n]:si=n}function em(){if(si){var n=si,i=ii;if(ii=si=null,Zp(n),i)for(n=0;n<i.length;n++)Zp(i[n])}}function tm(n,i){return n(i)}function rm(){}var Fc=!1;function nm(n,i,l){if(Fc)return n(i,l);Fc=!0;try{return tm(n,i,l)}finally{Fc=!1,(si!==null||ii!==null)&&(rm(),em())}}function Eo(n,i){var l=n.stateNode;if(l===null)return null;var c=vl(l);if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var Mc=!1;if(d)try{var So={};Object.defineProperty(So,"passive",{get:function(){Mc=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{Mc=!1}function zE(n,i,l,c,f,m,w,k,O){var z=Array.prototype.slice.call(arguments,3);try{i.apply(l,z)}catch(Q){this.onError(Q)}}var xo=!1,Ja=null,Ya=!1,Uc=null,VE={onError:function(n){xo=!0,Ja=n}};function WE(n,i,l,c,f,m,w,k,O){xo=!1,Ja=null,zE.apply(VE,arguments)}function HE(n,i,l,c,f,m,w,k,O){if(WE.apply(this,arguments),xo){if(xo){var z=Ja;xo=!1,Ja=null}else throw Error(r(198));Ya||(Ya=!0,Uc=z)}}function ls(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function sm(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function im(n){if(ls(n)!==n)throw Error(r(188))}function qE(n){var i=n.alternate;if(!i){if(i=ls(n),i===null)throw Error(r(188));return i!==n?null:n}for(var l=n,c=i;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return im(f),n;if(m===c)return im(f),i;m=m.sibling}throw Error(r(188))}if(l.return!==c.return)l=f,c=m;else{for(var w=!1,k=f.child;k;){if(k===l){w=!0,l=f,c=m;break}if(k===c){w=!0,c=f,l=m;break}k=k.sibling}if(!w){for(k=m.child;k;){if(k===l){w=!0,l=m,c=f;break}if(k===c){w=!0,c=m,l=f;break}k=k.sibling}if(!w)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:i}function om(n){return n=qE(n),n!==null?am(n):null}function am(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=am(n);if(i!==null)return i;n=n.sibling}return null}var lm=e.unstable_scheduleCallback,um=e.unstable_cancelCallback,GE=e.unstable_shouldYield,KE=e.unstable_requestPaint,Ye=e.unstable_now,QE=e.unstable_getCurrentPriorityLevel,$c=e.unstable_ImmediatePriority,cm=e.unstable_UserBlockingPriority,Za=e.unstable_NormalPriority,JE=e.unstable_LowPriority,dm=e.unstable_IdlePriority,Xa=null,Ar=null;function YE(n){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Xa,n,void 0,(n.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:eS,ZE=Math.log,XE=Math.LN2;function eS(n){return n>>>=0,n===0?32:31-(ZE(n)/XE|0)|0}var el=64,tl=4194304;function ko(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function rl(n,i){var l=n.pendingLanes;if(l===0)return 0;var c=0,f=n.suspendedLanes,m=n.pingedLanes,w=l&268435455;if(w!==0){var k=w&~f;k!==0?c=ko(k):(m&=w,m!==0&&(c=ko(m)))}else w=l&~f,w!==0?c=ko(w):m!==0&&(c=ko(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)l=31-pr(i),f=1<<l,c|=n[l],i&=~f;return c}function tS(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rS(n,i){for(var l=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var w=31-pr(m),k=1<<w,O=f[w];O===-1?((k&l)===0||(k&c)!==0)&&(f[w]=tS(k,i)):O<=i&&(n.expiredLanes|=k),m&=~k}}function Bc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function hm(){var n=el;return el<<=1,(el&4194240)===0&&(el=64),n}function zc(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function To(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-pr(i),n[i]=l}function nS(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<l;){var f=31-pr(l),m=1<<f;i[f]=0,c[f]=-1,n[f]=-1,l&=~m}}function Vc(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var c=31-pr(l),f=1<<c;f&i|n[c]&i&&(n[c]|=i),l&=~f}}var Le=0;function fm(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var pm,Wc,mm,gm,ym,Hc=!1,nl=[],_n=null,wn=null,bn=null,Co=new Map,Io=new Map,En=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vm(n,i){switch(n){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Co.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(i.pointerId)}}function Oo(n,i,l,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Vo(i),i!==null&&Wc(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function iS(n,i,l,c,f){switch(i){case"focusin":return _n=Oo(_n,n,i,l,c,f),!0;case"dragenter":return wn=Oo(wn,n,i,l,c,f),!0;case"mouseover":return bn=Oo(bn,n,i,l,c,f),!0;case"pointerover":var m=f.pointerId;return Co.set(m,Oo(Co.get(m)||null,n,i,l,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Io.set(m,Oo(Io.get(m)||null,n,i,l,c,f)),!0}return!1}function _m(n){var i=us(n.target);if(i!==null){var l=ls(i);if(l!==null){if(i=l.tag,i===13){if(i=sm(l),i!==null){n.blockedOn=i,ym(n.priority,function(){mm(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=Gc(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);jc=c,l.target.dispatchEvent(c),jc=null}else return i=Vo(l),i!==null&&Wc(i),n.blockedOn=l,!1;i.shift()}return!0}function wm(n,i,l){sl(n)&&l.delete(i)}function oS(){Hc=!1,_n!==null&&sl(_n)&&(_n=null),wn!==null&&sl(wn)&&(wn=null),bn!==null&&sl(bn)&&(bn=null),Co.forEach(wm),Io.forEach(wm)}function Ao(n,i){n.blockedOn===i&&(n.blockedOn=null,Hc||(Hc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oS)))}function No(n){function i(f){return Ao(f,n)}if(0<nl.length){Ao(nl[0],n);for(var l=1;l<nl.length;l++){var c=nl[l];c.blockedOn===n&&(c.blockedOn=null)}}for(_n!==null&&Ao(_n,n),wn!==null&&Ao(wn,n),bn!==null&&Ao(bn,n),Co.forEach(i),Io.forEach(i),l=0;l<En.length;l++)c=En[l],c.blockedOn===n&&(c.blockedOn=null);for(;0<En.length&&(l=En[0],l.blockedOn===null);)_m(l),l.blockedOn===null&&En.shift()}var oi=B.ReactCurrentBatchConfig,il=!0;function aS(n,i,l,c){var f=Le,m=oi.transition;oi.transition=null;try{Le=1,qc(n,i,l,c)}finally{Le=f,oi.transition=m}}function lS(n,i,l,c){var f=Le,m=oi.transition;oi.transition=null;try{Le=4,qc(n,i,l,c)}finally{Le=f,oi.transition=m}}function qc(n,i,l,c){if(il){var f=Gc(n,i,l,c);if(f===null)cd(n,i,c,ol,l),vm(n,c);else if(iS(f,n,i,l,c))c.stopPropagation();else if(vm(n,c),i&4&&-1<sS.indexOf(n)){for(;f!==null;){var m=Vo(f);if(m!==null&&pm(m),m=Gc(n,i,l,c),m===null&&cd(n,i,c,ol,l),m===f)break;f=m}f!==null&&c.stopPropagation()}else cd(n,i,c,null,l)}}var ol=null;function Gc(n,i,l,c){if(ol=null,n=Lc(c),n=us(n),n!==null)if(i=ls(n),i===null)n=null;else if(l=i.tag,l===13){if(n=sm(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return ol=n,null}function bm(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QE()){case $c:return 1;case cm:return 4;case Za:case JE:return 16;case dm:return 536870912;default:return 16}default:return 16}}var Sn=null,Kc=null,al=null;function Em(){if(al)return al;var n,i=Kc,l=i.length,c,f="value"in Sn?Sn.value:Sn.textContent,m=f.length;for(n=0;n<l&&i[n]===f[n];n++);var w=l-n;for(c=1;c<=w&&i[l-c]===f[m-c];c++);return al=f.slice(n,1<c?1-c:void 0)}function ll(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ul(){return!0}function Sm(){return!1}function Wt(n){function i(l,c,f,m,w){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(l=n[k],this[k]=l?l(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ul:Sm,this.isPropagationStopped=Sm,this}return W(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),i}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qc=Wt(ai),Ro=W({},ai,{view:0,detail:0}),uS=Wt(Ro),Jc,Yc,Po,cl=W({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Po&&(Po&&n.type==="mousemove"?(Jc=n.screenX-Po.screenX,Yc=n.screenY-Po.screenY):Yc=Jc=0,Po=n),Jc)},movementY:function(n){return"movementY"in n?n.movementY:Yc}}),xm=Wt(cl),cS=W({},cl,{dataTransfer:0}),dS=Wt(cS),hS=W({},Ro,{relatedTarget:0}),Zc=Wt(hS),fS=W({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),pS=Wt(fS),mS=W({},ai,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gS=Wt(mS),yS=W({},ai,{data:0}),km=Wt(yS),vS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=wS[n])?!!i[n]:!1}function Xc(){return bS}var ES=W({},Ro,{key:function(n){if(n.key){var i=vS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ll(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_S[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xc,charCode:function(n){return n.type==="keypress"?ll(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ll(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),SS=Wt(ES),xS=W({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tm=Wt(xS),kS=W({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xc}),TS=Wt(kS),CS=W({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),IS=Wt(CS),OS=W({},cl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),AS=Wt(OS),NS=[9,13,27,32],ed=d&&"CompositionEvent"in window,jo=null;d&&"documentMode"in document&&(jo=document.documentMode);var RS=d&&"TextEvent"in window&&!jo,Cm=d&&(!ed||jo&&8<jo&&11>=jo),Im=" ",Om=!1;function Am(n,i){switch(n){case"keyup":return NS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var li=!1;function PS(n,i){switch(n){case"compositionend":return Nm(i);case"keypress":return i.which!==32?null:(Om=!0,Im);case"textInput":return n=i.data,n===Im&&Om?null:n;default:return null}}function jS(n,i){if(li)return n==="compositionend"||!ed&&Am(n,i)?(n=Em(),al=Kc=Sn=null,li=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Cm&&i.locale!=="ko"?null:i.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!LS[n.type]:i==="textarea"}function Pm(n,i,l,c){Xp(c),i=ml(i,"onChange"),0<i.length&&(l=new Qc("onChange","change",null,l,c),n.push({event:l,listeners:i}))}var Lo=null,Do=null;function DS(n){Ym(n,0)}function dl(n){var i=fi(n);if(Bp(i))return n}function FS(n,i){if(n==="change")return i}var jm=!1;if(d){var td;if(d){var rd="oninput"in document;if(!rd){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),rd=typeof Lm.oninput=="function"}td=rd}else td=!1;jm=td&&(!document.documentMode||9<document.documentMode)}function Dm(){Lo&&(Lo.detachEvent("onpropertychange",Fm),Do=Lo=null)}function Fm(n){if(n.propertyName==="value"&&dl(Do)){var i=[];Pm(i,Do,n,Lc(n)),nm(DS,i)}}function MS(n,i,l){n==="focusin"?(Dm(),Lo=i,Do=l,Lo.attachEvent("onpropertychange",Fm)):n==="focusout"&&Dm()}function US(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return dl(Do)}function $S(n,i){if(n==="click")return dl(i)}function BS(n,i){if(n==="input"||n==="change")return dl(i)}function zS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var mr=typeof Object.is=="function"?Object.is:zS;function Fo(n,i){if(mr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!h.call(i,f)||!mr(n[f],i[f]))return!1}return!0}function Mm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Um(n,i){var l=Mm(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=i&&c>=i)return{node:l,offset:i-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mm(l)}}function $m(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?$m(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Bm(){for(var n=window,i=Ka();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=Ka(n.document)}return i}function nd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function VS(n){var i=Bm(),l=n.focusedElem,c=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&$m(l.ownerDocument.documentElement,l)){if(c!==null&&nd(l)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=l.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!n.extend&&m>c&&(f=c,c=m,m=f),f=Um(l,m);var w=Um(l,c);f&&w&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var WS=d&&"documentMode"in document&&11>=document.documentMode,ui=null,sd=null,Mo=null,id=!1;function zm(n,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;id||ui==null||ui!==Ka(c)||(c=ui,"selectionStart"in c&&nd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mo&&Fo(Mo,c)||(Mo=c,c=ml(sd,"onSelect"),0<c.length&&(i=new Qc("onSelect","select",null,i,l),n.push({event:i,listeners:c}),i.target=ui)))}function hl(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var ci={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},od={},Vm={};d&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function fl(n){if(od[n])return od[n];if(!ci[n])return n;var i=ci[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in Vm)return od[n]=i[l];return n}var Wm=fl("animationend"),Hm=fl("animationiteration"),qm=fl("animationstart"),Gm=fl("transitionend"),Km=new Map,Qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(n,i){Km.set(n,i),a(i,[n])}for(var ad=0;ad<Qm.length;ad++){var ld=Qm[ad],HS=ld.toLowerCase(),qS=ld[0].toUpperCase()+ld.slice(1);xn(HS,"on"+qS)}xn(Wm,"onAnimationEnd"),xn(Hm,"onAnimationIteration"),xn(qm,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Gm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function Jm(n,i,l){var c=n.type||"unknown-event";n.currentTarget=l,HE(c,i,void 0,n),n.currentTarget=null}function Ym(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var w=c.length-1;0<=w;w--){var k=c[w],O=k.instance,z=k.currentTarget;if(k=k.listener,O!==m&&f.isPropagationStopped())break e;Jm(f,k,z),m=O}else for(w=0;w<c.length;w++){if(k=c[w],O=k.instance,z=k.currentTarget,k=k.listener,O!==m&&f.isPropagationStopped())break e;Jm(f,k,z),m=O}}}if(Ya)throw n=Uc,Ya=!1,Uc=null,n}function Be(n,i){var l=i[gd];l===void 0&&(l=i[gd]=new Set);var c=n+"__bubble";l.has(c)||(Zm(i,n,2,!1),l.add(c))}function ud(n,i,l){var c=0;i&&(c|=4),Zm(l,n,c,i)}var pl="_reactListening"+Math.random().toString(36).slice(2);function $o(n){if(!n[pl]){n[pl]=!0,s.forEach(function(l){l!=="selectionchange"&&(GS.has(l)||ud(l,!1,n),ud(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[pl]||(i[pl]=!0,ud("selectionchange",!1,i))}}function Zm(n,i,l,c){switch(bm(i)){case 1:var f=aS;break;case 4:f=lS;break;default:f=qc}l=f.bind(null,i,l,n),f=void 0,!Mc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,l,{capture:!0,passive:f}):n.addEventListener(i,l,!0):f!==void 0?n.addEventListener(i,l,{passive:f}):n.addEventListener(i,l,!1)}function cd(n,i,l,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var k=c.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;w=w.return}for(;k!==null;){if(w=us(k),w===null)return;if(O=w.tag,O===5||O===6){c=m=w;continue e}k=k.parentNode}}c=c.return}nm(function(){var z=m,Q=Lc(l),J=[];e:{var K=Km.get(n);if(K!==void 0){var re=Qc,le=n;switch(n){case"keypress":if(ll(l)===0)break e;case"keydown":case"keyup":re=SS;break;case"focusin":le="focus",re=Zc;break;case"focusout":le="blur",re=Zc;break;case"beforeblur":case"afterblur":re=Zc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=dS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=TS;break;case Wm:case Hm:case qm:re=pS;break;case Gm:re=IS;break;case"scroll":re=uS;break;case"wheel":re=AS;break;case"copy":case"cut":case"paste":re=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Tm}var ue=(i&4)!==0,Ze=!ue&&n==="scroll",M=ue?K!==null?K+"Capture":null:K;ue=[];for(var R=z,U;R!==null;){U=R;var Y=U.stateNode;if(U.tag===5&&Y!==null&&(U=Y,M!==null&&(Y=Eo(R,M),Y!=null&&ue.push(Bo(R,Y,U)))),Ze)break;R=R.return}0<ue.length&&(K=new re(K,le,null,l,Q),J.push({event:K,listeners:ue}))}}if((i&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",K&&l!==jc&&(le=l.relatedTarget||l.fromElement)&&(us(le)||le[qr]))break e;if((re||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,re?(le=l.relatedTarget||l.toElement,re=z,le=le?us(le):null,le!==null&&(Ze=ls(le),le!==Ze||le.tag!==5&&le.tag!==6)&&(le=null)):(re=null,le=z),re!==le)){if(ue=xm,Y="onMouseLeave",M="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(ue=Tm,Y="onPointerLeave",M="onPointerEnter",R="pointer"),Ze=re==null?K:fi(re),U=le==null?K:fi(le),K=new ue(Y,R+"leave",re,l,Q),K.target=Ze,K.relatedTarget=U,Y=null,us(Q)===z&&(ue=new ue(M,R+"enter",le,l,Q),ue.target=U,ue.relatedTarget=Ze,Y=ue),Ze=Y,re&&le)t:{for(ue=re,M=le,R=0,U=ue;U;U=di(U))R++;for(U=0,Y=M;Y;Y=di(Y))U++;for(;0<R-U;)ue=di(ue),R--;for(;0<U-R;)M=di(M),U--;for(;R--;){if(ue===M||M!==null&&ue===M.alternate)break t;ue=di(ue),M=di(M)}ue=null}else ue=null;re!==null&&Xm(J,K,re,ue,!1),le!==null&&Ze!==null&&Xm(J,Ze,le,ue,!0)}}e:{if(K=z?fi(z):window,re=K.nodeName&&K.nodeName.toLowerCase(),re==="select"||re==="input"&&K.type==="file")var ce=FS;else if(Rm(K))if(jm)ce=BS;else{ce=US;var ge=MS}else(re=K.nodeName)&&re.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ce=$S);if(ce&&(ce=ce(n,z))){Pm(J,ce,l,Q);break e}ge&&ge(n,K,z),n==="focusout"&&(ge=K._wrapperState)&&ge.controlled&&K.type==="number"&&Oc(K,"number",K.value)}switch(ge=z?fi(z):window,n){case"focusin":(Rm(ge)||ge.contentEditable==="true")&&(ui=ge,sd=z,Mo=null);break;case"focusout":Mo=sd=ui=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,zm(J,l,Q);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":zm(J,l,Q)}var ye;if(ed)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else li?Am(n,l)&&(we="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(Cm&&l.locale!=="ko"&&(li||we!=="onCompositionStart"?we==="onCompositionEnd"&&li&&(ye=Em()):(Sn=Q,Kc="value"in Sn?Sn.value:Sn.textContent,li=!0)),ge=ml(z,we),0<ge.length&&(we=new km(we,n,null,l,Q),J.push({event:we,listeners:ge}),ye?we.data=ye:(ye=Nm(l),ye!==null&&(we.data=ye)))),(ye=RS?PS(n,l):jS(n,l))&&(z=ml(z,"onBeforeInput"),0<z.length&&(Q=new km("onBeforeInput","beforeinput",null,l,Q),J.push({event:Q,listeners:z}),Q.data=ye))}Ym(J,i)})}function Bo(n,i,l){return{instance:n,listener:i,currentTarget:l}}function ml(n,i){for(var l=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=Eo(n,l),m!=null&&c.unshift(Bo(n,m,f)),m=Eo(n,i),m!=null&&c.push(Bo(n,m,f))),n=n.return}return c}function di(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Xm(n,i,l,c,f){for(var m=i._reactName,w=[];l!==null&&l!==c;){var k=l,O=k.alternate,z=k.stateNode;if(O!==null&&O===c)break;k.tag===5&&z!==null&&(k=z,f?(O=Eo(l,m),O!=null&&w.unshift(Bo(l,O,k))):f||(O=Eo(l,m),O!=null&&w.push(Bo(l,O,k)))),l=l.return}w.length!==0&&n.push({event:i,listeners:w})}var KS=/\r\n?/g,QS=/\u0000|\uFFFD/g;function eg(n){return(typeof n=="string"?n:""+n).replace(KS,`
`).replace(QS,"")}function gl(n,i,l){if(i=eg(i),eg(n)!==i&&l)throw Error(r(425))}function yl(){}var dd=null,hd=null;function fd(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pd=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,YS=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(n){return tg.resolve(null).then(n).catch(ZS)}:pd;function ZS(n){setTimeout(function(){throw n})}function md(n,i){var l=i,c=0;do{var f=l.nextSibling;if(n.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(c===0){n.removeChild(f),No(i);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=f}while(l);No(i)}function kn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function rg(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var hi=Math.random().toString(36).slice(2),Nr="__reactFiber$"+hi,zo="__reactProps$"+hi,qr="__reactContainer$"+hi,gd="__reactEvents$"+hi,XS="__reactListeners$"+hi,ex="__reactHandles$"+hi;function us(n){var i=n[Nr];if(i)return i;for(var l=n.parentNode;l;){if(i=l[qr]||l[Nr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=rg(n);n!==null;){if(l=n[Nr])return l;n=rg(n)}return i}n=l,l=n.parentNode}return null}function Vo(n){return n=n[Nr]||n[qr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function fi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function vl(n){return n[zo]||null}var yd=[],pi=-1;function Tn(n){return{current:n}}function ze(n){0>pi||(n.current=yd[pi],yd[pi]=null,pi--)}function Ue(n,i){pi++,yd[pi]=n.current,n.current=i}var Cn={},wt=Tn(Cn),jt=Tn(!1),cs=Cn;function mi(n,i){var l=n.type.contextTypes;if(!l)return Cn;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in l)f[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Lt(n){return n=n.childContextTypes,n!=null}function _l(){ze(jt),ze(wt)}function ng(n,i,l){if(wt.current!==Cn)throw Error(r(168));Ue(wt,i),Ue(jt,l)}function sg(n,i,l){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(r(108,Ce(n)||"Unknown",f));return W({},l,c)}function wl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Cn,cs=wt.current,Ue(wt,n),Ue(jt,jt.current),!0}function ig(n,i,l){var c=n.stateNode;if(!c)throw Error(r(169));l?(n=sg(n,i,cs),c.__reactInternalMemoizedMergedChildContext=n,ze(jt),ze(wt),Ue(wt,n)):ze(jt),Ue(jt,l)}var Gr=null,bl=!1,vd=!1;function og(n){Gr===null?Gr=[n]:Gr.push(n)}function tx(n){bl=!0,og(n)}function In(){if(!vd&&Gr!==null){vd=!0;var n=0,i=Le;try{var l=Gr;for(Le=1;n<l.length;n++){var c=l[n];do c=c(!0);while(c!==null)}Gr=null,bl=!1}catch(f){throw Gr!==null&&(Gr=Gr.slice(n+1)),lm($c,In),f}finally{Le=i,vd=!1}}return null}var gi=[],yi=0,El=null,Sl=0,Zt=[],Xt=0,ds=null,Kr=1,Qr="";function hs(n,i){gi[yi++]=Sl,gi[yi++]=El,El=n,Sl=i}function ag(n,i,l){Zt[Xt++]=Kr,Zt[Xt++]=Qr,Zt[Xt++]=ds,ds=n;var c=Kr;n=Qr;var f=32-pr(c)-1;c&=~(1<<f),l+=1;var m=32-pr(i)+f;if(30<m){var w=f-f%5;m=(c&(1<<w)-1).toString(32),c>>=w,f-=w,Kr=1<<32-pr(i)+f|l<<f|c,Qr=m+n}else Kr=1<<m|l<<f|c,Qr=n}function _d(n){n.return!==null&&(hs(n,1),ag(n,1,0))}function wd(n){for(;n===El;)El=gi[--yi],gi[yi]=null,Sl=gi[--yi],gi[yi]=null;for(;n===ds;)ds=Zt[--Xt],Zt[Xt]=null,Qr=Zt[--Xt],Zt[Xt]=null,Kr=Zt[--Xt],Zt[Xt]=null}var Ht=null,qt=null,We=!1,gr=null;function lg(n,i){var l=nr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function ug(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Ht=n,qt=kn(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Ht=n,qt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ds!==null?{id:Kr,overflow:Qr}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=nr(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,Ht=n,qt=null,!0):!1;default:return!1}}function bd(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ed(n){if(We){var i=qt;if(i){var l=i;if(!ug(n,i)){if(bd(n))throw Error(r(418));i=kn(l.nextSibling);var c=Ht;i&&ug(n,i)?lg(c,l):(n.flags=n.flags&-4097|2,We=!1,Ht=n)}}else{if(bd(n))throw Error(r(418));n.flags=n.flags&-4097|2,We=!1,Ht=n}}}function cg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ht=n}function xl(n){if(n!==Ht)return!1;if(!We)return cg(n),We=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!fd(n.type,n.memoizedProps)),i&&(i=qt)){if(bd(n))throw dg(),Error(r(418));for(;i;)lg(n,i),i=kn(i.nextSibling)}if(cg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){qt=kn(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}qt=null}}else qt=Ht?kn(n.stateNode.nextSibling):null;return!0}function dg(){for(var n=qt;n;)n=kn(n.nextSibling)}function vi(){qt=Ht=null,We=!1}function Sd(n){gr===null?gr=[n]:gr.push(n)}var rx=B.ReactCurrentBatchConfig;function Wo(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var c=l.stateNode}if(!c)throw Error(r(147,n));var f=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(w){var k=f.refs;w===null?delete k[m]:k[m]=w},i._stringRef=m,i)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function kl(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function hg(n){var i=n._init;return i(n._payload)}function fg(n){function i(M,R){if(n){var U=M.deletions;U===null?(M.deletions=[R],M.flags|=16):U.push(R)}}function l(M,R){if(!n)return null;for(;R!==null;)i(M,R),R=R.sibling;return null}function c(M,R){for(M=new Map;R!==null;)R.key!==null?M.set(R.key,R):M.set(R.index,R),R=R.sibling;return M}function f(M,R){return M=Dn(M,R),M.index=0,M.sibling=null,M}function m(M,R,U){return M.index=U,n?(U=M.alternate,U!==null?(U=U.index,U<R?(M.flags|=2,R):U):(M.flags|=2,R)):(M.flags|=1048576,R)}function w(M){return n&&M.alternate===null&&(M.flags|=2),M}function k(M,R,U,Y){return R===null||R.tag!==6?(R=ph(U,M.mode,Y),R.return=M,R):(R=f(R,U),R.return=M,R)}function O(M,R,U,Y){var ce=U.type;return ce===Z?Q(M,R,U.props.children,Y,U.key):R!==null&&(R.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===L&&hg(ce)===R.type)?(Y=f(R,U.props),Y.ref=Wo(M,R,U),Y.return=M,Y):(Y=Ql(U.type,U.key,U.props,null,M.mode,Y),Y.ref=Wo(M,R,U),Y.return=M,Y)}function z(M,R,U,Y){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=mh(U,M.mode,Y),R.return=M,R):(R=f(R,U.children||[]),R.return=M,R)}function Q(M,R,U,Y,ce){return R===null||R.tag!==7?(R=ws(U,M.mode,Y,ce),R.return=M,R):(R=f(R,U),R.return=M,R)}function J(M,R,U){if(typeof R=="string"&&R!==""||typeof R=="number")return R=ph(""+R,M.mode,U),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case H:return U=Ql(R.type,R.key,R.props,null,M.mode,U),U.ref=Wo(M,null,R),U.return=M,U;case G:return R=mh(R,M.mode,U),R.return=M,R;case L:var Y=R._init;return J(M,Y(R._payload),U)}if(_o(R)||q(R))return R=ws(R,M.mode,U,null),R.return=M,R;kl(M,R)}return null}function K(M,R,U,Y){var ce=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ce!==null?null:k(M,R,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===ce?O(M,R,U,Y):null;case G:return U.key===ce?z(M,R,U,Y):null;case L:return ce=U._init,K(M,R,ce(U._payload),Y)}if(_o(U)||q(U))return ce!==null?null:Q(M,R,U,Y,null);kl(M,U)}return null}function re(M,R,U,Y,ce){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return M=M.get(U)||null,k(R,M,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return M=M.get(Y.key===null?U:Y.key)||null,O(R,M,Y,ce);case G:return M=M.get(Y.key===null?U:Y.key)||null,z(R,M,Y,ce);case L:var ge=Y._init;return re(M,R,U,ge(Y._payload),ce)}if(_o(Y)||q(Y))return M=M.get(U)||null,Q(R,M,Y,ce,null);kl(R,Y)}return null}function le(M,R,U,Y){for(var ce=null,ge=null,ye=R,we=R=0,ft=null;ye!==null&&we<U.length;we++){ye.index>we?(ft=ye,ye=null):ft=ye.sibling;var Pe=K(M,ye,U[we],Y);if(Pe===null){ye===null&&(ye=ft);break}n&&ye&&Pe.alternate===null&&i(M,ye),R=m(Pe,R,we),ge===null?ce=Pe:ge.sibling=Pe,ge=Pe,ye=ft}if(we===U.length)return l(M,ye),We&&hs(M,we),ce;if(ye===null){for(;we<U.length;we++)ye=J(M,U[we],Y),ye!==null&&(R=m(ye,R,we),ge===null?ce=ye:ge.sibling=ye,ge=ye);return We&&hs(M,we),ce}for(ye=c(M,ye);we<U.length;we++)ft=re(ye,M,we,U[we],Y),ft!==null&&(n&&ft.alternate!==null&&ye.delete(ft.key===null?we:ft.key),R=m(ft,R,we),ge===null?ce=ft:ge.sibling=ft,ge=ft);return n&&ye.forEach(function(Fn){return i(M,Fn)}),We&&hs(M,we),ce}function ue(M,R,U,Y){var ce=q(U);if(typeof ce!="function")throw Error(r(150));if(U=ce.call(U),U==null)throw Error(r(151));for(var ge=ce=null,ye=R,we=R=0,ft=null,Pe=U.next();ye!==null&&!Pe.done;we++,Pe=U.next()){ye.index>we?(ft=ye,ye=null):ft=ye.sibling;var Fn=K(M,ye,Pe.value,Y);if(Fn===null){ye===null&&(ye=ft);break}n&&ye&&Fn.alternate===null&&i(M,ye),R=m(Fn,R,we),ge===null?ce=Fn:ge.sibling=Fn,ge=Fn,ye=ft}if(Pe.done)return l(M,ye),We&&hs(M,we),ce;if(ye===null){for(;!Pe.done;we++,Pe=U.next())Pe=J(M,Pe.value,Y),Pe!==null&&(R=m(Pe,R,we),ge===null?ce=Pe:ge.sibling=Pe,ge=Pe);return We&&hs(M,we),ce}for(ye=c(M,ye);!Pe.done;we++,Pe=U.next())Pe=re(ye,M,we,Pe.value,Y),Pe!==null&&(n&&Pe.alternate!==null&&ye.delete(Pe.key===null?we:Pe.key),R=m(Pe,R,we),ge===null?ce=Pe:ge.sibling=Pe,ge=Pe);return n&&ye.forEach(function(Lx){return i(M,Lx)}),We&&hs(M,we),ce}function Ze(M,R,U,Y){if(typeof U=="object"&&U!==null&&U.type===Z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:e:{for(var ce=U.key,ge=R;ge!==null;){if(ge.key===ce){if(ce=U.type,ce===Z){if(ge.tag===7){l(M,ge.sibling),R=f(ge,U.props.children),R.return=M,M=R;break e}}else if(ge.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===L&&hg(ce)===ge.type){l(M,ge.sibling),R=f(ge,U.props),R.ref=Wo(M,ge,U),R.return=M,M=R;break e}l(M,ge);break}else i(M,ge);ge=ge.sibling}U.type===Z?(R=ws(U.props.children,M.mode,Y,U.key),R.return=M,M=R):(Y=Ql(U.type,U.key,U.props,null,M.mode,Y),Y.ref=Wo(M,R,U),Y.return=M,M=Y)}return w(M);case G:e:{for(ge=U.key;R!==null;){if(R.key===ge)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){l(M,R.sibling),R=f(R,U.children||[]),R.return=M,M=R;break e}else{l(M,R);break}else i(M,R);R=R.sibling}R=mh(U,M.mode,Y),R.return=M,M=R}return w(M);case L:return ge=U._init,Ze(M,R,ge(U._payload),Y)}if(_o(U))return le(M,R,U,Y);if(q(U))return ue(M,R,U,Y);kl(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,R!==null&&R.tag===6?(l(M,R.sibling),R=f(R,U),R.return=M,M=R):(l(M,R),R=ph(U,M.mode,Y),R.return=M,M=R),w(M)):l(M,R)}return Ze}var _i=fg(!0),pg=fg(!1),Tl=Tn(null),Cl=null,wi=null,xd=null;function kd(){xd=wi=Cl=null}function Td(n){var i=Tl.current;ze(Tl),n._currentValue=i}function Cd(n,i,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===l)break;n=n.return}}function bi(n,i){Cl=n,xd=wi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Dt=!0),n.firstContext=null)}function er(n){var i=n._currentValue;if(xd!==n)if(n={context:n,memoizedValue:i,next:null},wi===null){if(Cl===null)throw Error(r(308));wi=n,Cl.dependencies={lanes:0,firstContext:n}}else wi=wi.next=n;return i}var fs=null;function Id(n){fs===null?fs=[n]:fs.push(n)}function mg(n,i,l,c){var f=i.interleaved;return f===null?(l.next=l,Id(i)):(l.next=f.next,f.next=l),i.interleaved=l,Jr(n,c)}function Jr(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var On=!1;function Od(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gg(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Yr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function An(n,i,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ae&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Jr(n,l)}return f=c.interleaved,f===null?(i.next=i,Id(c)):(i.next=f.next,f.next=i),c.interleaved=i,Jr(n,l)}function Il(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,l|=c,i.lanes=l,Vc(n,l)}}function yg(n,i){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?f=m=w:m=m.next=w,l=l.next}while(l!==null);m===null?f=m=i:m=m.next=i}else f=m=i;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function Ol(n,i,l,c){var f=n.updateQueue;On=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var O=k,z=O.next;O.next=null,w===null?m=z:w.next=z,w=O;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,k=Q.lastBaseUpdate,k!==w&&(k===null?Q.firstBaseUpdate=z:k.next=z,Q.lastBaseUpdate=O))}if(m!==null){var J=f.baseState;w=0,Q=z=O=null,k=m;do{var K=k.lane,re=k.eventTime;if((c&K)===K){Q!==null&&(Q=Q.next={eventTime:re,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var le=n,ue=k;switch(K=i,re=l,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){J=le.call(re,J,K);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,K=typeof le=="function"?le.call(re,J,K):le,K==null)break e;J=W({},J,K);break e;case 2:On=!0}}k.callback!==null&&k.lane!==0&&(n.flags|=64,K=f.effects,K===null?f.effects=[k]:K.push(k))}else re={eventTime:re,lane:K,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Q===null?(z=Q=re,O=J):Q=Q.next=re,w|=K;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;K=k,k=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);if(Q===null&&(O=J),f.baseState=O,f.firstBaseUpdate=z,f.lastBaseUpdate=Q,i=f.shared.interleaved,i!==null){f=i;do w|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);gs|=w,n.lanes=w,n.memoizedState=J}}function vg(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=l,typeof f!="function")throw Error(r(191,f));f.call(c)}}}var Ho={},Rr=Tn(Ho),qo=Tn(Ho),Go=Tn(Ho);function ps(n){if(n===Ho)throw Error(r(174));return n}function Ad(n,i){switch(Ue(Go,i),Ue(qo,n),Ue(Rr,Ho),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Nc(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Nc(i,n)}ze(Rr),Ue(Rr,i)}function Ei(){ze(Rr),ze(qo),ze(Go)}function _g(n){ps(Go.current);var i=ps(Rr.current),l=Nc(i,n.type);i!==l&&(Ue(qo,n),Ue(Rr,l))}function Nd(n){qo.current===n&&(ze(Rr),ze(qo))}var qe=Tn(0);function Al(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Rd=[];function Pd(){for(var n=0;n<Rd.length;n++)Rd[n]._workInProgressVersionPrimary=null;Rd.length=0}var Nl=B.ReactCurrentDispatcher,jd=B.ReactCurrentBatchConfig,ms=0,Ge=null,it=null,dt=null,Rl=!1,Ko=!1,Qo=0,nx=0;function bt(){throw Error(r(321))}function Ld(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!mr(n[l],i[l]))return!1;return!0}function Dd(n,i,l,c,f,m){if(ms=m,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Nl.current=n===null||n.memoizedState===null?ax:lx,n=l(c,f),Ko){m=0;do{if(Ko=!1,Qo=0,25<=m)throw Error(r(301));m+=1,dt=it=null,i.updateQueue=null,Nl.current=ux,n=l(c,f)}while(Ko)}if(Nl.current=Ll,i=it!==null&&it.next!==null,ms=0,dt=it=Ge=null,Rl=!1,i)throw Error(r(300));return n}function Fd(){var n=Qo!==0;return Qo=0,n}function Pr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ge.memoizedState=dt=n:dt=dt.next=n,dt}function tr(){if(it===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var i=dt===null?Ge.memoizedState:dt.next;if(i!==null)dt=i,it=n;else{if(n===null)throw Error(r(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},dt===null?Ge.memoizedState=dt=n:dt=dt.next=n}return dt}function Jo(n,i){return typeof i=="function"?i(n):i}function Md(n){var i=tr(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=it,f=c.baseQueue,m=l.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}c.baseQueue=f=m,l.pending=null}if(f!==null){m=f.next,c=c.baseState;var k=w=null,O=null,z=m;do{var Q=z.lane;if((ms&Q)===Q)O!==null&&(O=O.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:n(c,z.action);else{var J={lane:Q,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};O===null?(k=O=J,w=c):O=O.next=J,Ge.lanes|=Q,gs|=Q}z=z.next}while(z!==null&&z!==m);O===null?w=c:O.next=k,mr(c,i.memoizedState)||(Dt=!0),i.memoizedState=c,i.baseState=w,i.baseQueue=O,l.lastRenderedState=c}if(n=l.interleaved,n!==null){f=n;do m=f.lane,Ge.lanes|=m,gs|=m,f=f.next;while(f!==n)}else f===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Ud(n){var i=tr(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=l.dispatch,f=l.pending,m=i.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do m=n(m,w.action),w=w.next;while(w!==f);mr(m,i.memoizedState)||(Dt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,c]}function wg(){}function bg(n,i){var l=Ge,c=tr(),f=i(),m=!mr(c.memoizedState,f);if(m&&(c.memoizedState=f,Dt=!0),c=c.queue,$d(xg.bind(null,l,c,n),[n]),c.getSnapshot!==i||m||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,Yo(9,Sg.bind(null,l,c,f,i),void 0,null),ht===null)throw Error(r(349));(ms&30)!==0||Eg(l,i,f)}return f}function Eg(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function Sg(n,i,l,c){i.value=l,i.getSnapshot=c,kg(i)&&Tg(n)}function xg(n,i,l){return l(function(){kg(i)&&Tg(n)})}function kg(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!mr(n,l)}catch{return!0}}function Tg(n){var i=Jr(n,1);i!==null&&wr(i,n,1,-1)}function Cg(n){var i=Pr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:n},i.queue=n,n=n.dispatch=ox.bind(null,Ge,n),[i.memoizedState,n]}function Yo(n,i,l,c){return n={tag:n,create:i,destroy:l,deps:c,next:null},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,i.lastEffect=n)),n}function Ig(){return tr().memoizedState}function Pl(n,i,l,c){var f=Pr();Ge.flags|=n,f.memoizedState=Yo(1|i,l,void 0,c===void 0?null:c)}function jl(n,i,l,c){var f=tr();c=c===void 0?null:c;var m=void 0;if(it!==null){var w=it.memoizedState;if(m=w.destroy,c!==null&&Ld(c,w.deps)){f.memoizedState=Yo(i,l,m,c);return}}Ge.flags|=n,f.memoizedState=Yo(1|i,l,m,c)}function Og(n,i){return Pl(8390656,8,n,i)}function $d(n,i){return jl(2048,8,n,i)}function Ag(n,i){return jl(4,2,n,i)}function Ng(n,i){return jl(4,4,n,i)}function Rg(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Pg(n,i,l){return l=l!=null?l.concat([n]):null,jl(4,4,Rg.bind(null,i,n),l)}function Bd(){}function jg(n,i){var l=tr();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Ld(i,c[1])?c[0]:(l.memoizedState=[n,i],n)}function Lg(n,i){var l=tr();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Ld(i,c[1])?c[0]:(n=n(),l.memoizedState=[n,i],n)}function Dg(n,i,l){return(ms&21)===0?(n.baseState&&(n.baseState=!1,Dt=!0),n.memoizedState=l):(mr(l,i)||(l=hm(),Ge.lanes|=l,gs|=l,n.baseState=!0),i)}function sx(n,i){var l=Le;Le=l!==0&&4>l?l:4,n(!0);var c=jd.transition;jd.transition={};try{n(!1),i()}finally{Le=l,jd.transition=c}}function Fg(){return tr().memoizedState}function ix(n,i,l){var c=jn(n);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},Mg(n))Ug(i,l);else if(l=mg(n,i,l,c),l!==null){var f=Ct();wr(l,n,c,f),$g(l,i,c)}}function ox(n,i,l){var c=jn(n),f={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mg(n))Ug(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,k=m(w,l);if(f.hasEagerState=!0,f.eagerState=k,mr(k,w)){var O=i.interleaved;O===null?(f.next=f,Id(i)):(f.next=O.next,O.next=f),i.interleaved=f;return}}catch{}finally{}l=mg(n,i,f,c),l!==null&&(f=Ct(),wr(l,n,c,f),$g(l,i,c))}}function Mg(n){var i=n.alternate;return n===Ge||i!==null&&i===Ge}function Ug(n,i){Ko=Rl=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function $g(n,i,l){if((l&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,l|=c,i.lanes=l,Vc(n,l)}}var Ll={readContext:er,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},ax={readContext:er,useCallback:function(n,i){return Pr().memoizedState=[n,i===void 0?null:i],n},useContext:er,useEffect:Og,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,Pl(4194308,4,Rg.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Pl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Pl(4,2,n,i)},useMemo:function(n,i){var l=Pr();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var c=Pr();return i=l!==void 0?l(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=ix.bind(null,Ge,n),[c.memoizedState,n]},useRef:function(n){var i=Pr();return n={current:n},i.memoizedState=n},useState:Cg,useDebugValue:Bd,useDeferredValue:function(n){return Pr().memoizedState=n},useTransition:function(){var n=Cg(!1),i=n[0];return n=sx.bind(null,n[1]),Pr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var c=Ge,f=Pr();if(We){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),ht===null)throw Error(r(349));(ms&30)!==0||Eg(c,i,l)}f.memoizedState=l;var m={value:l,getSnapshot:i};return f.queue=m,Og(xg.bind(null,c,m,n),[n]),c.flags|=2048,Yo(9,Sg.bind(null,c,m,l,i),void 0,null),l},useId:function(){var n=Pr(),i=ht.identifierPrefix;if(We){var l=Qr,c=Kr;l=(c&~(1<<32-pr(c)-1)).toString(32)+l,i=":"+i+"R"+l,l=Qo++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=nx++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},lx={readContext:er,useCallback:jg,useContext:er,useEffect:$d,useImperativeHandle:Pg,useInsertionEffect:Ag,useLayoutEffect:Ng,useMemo:Lg,useReducer:Md,useRef:Ig,useState:function(){return Md(Jo)},useDebugValue:Bd,useDeferredValue:function(n){var i=tr();return Dg(i,it.memoizedState,n)},useTransition:function(){var n=Md(Jo)[0],i=tr().memoizedState;return[n,i]},useMutableSource:wg,useSyncExternalStore:bg,useId:Fg,unstable_isNewReconciler:!1},ux={readContext:er,useCallback:jg,useContext:er,useEffect:$d,useImperativeHandle:Pg,useInsertionEffect:Ag,useLayoutEffect:Ng,useMemo:Lg,useReducer:Ud,useRef:Ig,useState:function(){return Ud(Jo)},useDebugValue:Bd,useDeferredValue:function(n){var i=tr();return it===null?i.memoizedState=n:Dg(i,it.memoizedState,n)},useTransition:function(){var n=Ud(Jo)[0],i=tr().memoizedState;return[n,i]},useMutableSource:wg,useSyncExternalStore:bg,useId:Fg,unstable_isNewReconciler:!1};function yr(n,i){if(n&&n.defaultProps){i=W({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}function zd(n,i,l,c){i=n.memoizedState,l=l(c,i),l=l==null?i:W({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Dl={isMounted:function(n){return(n=n._reactInternals)?ls(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var c=Ct(),f=jn(n),m=Yr(c,f);m.payload=i,l!=null&&(m.callback=l),i=An(n,m,f),i!==null&&(wr(i,n,f,c),Il(i,n,f))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var c=Ct(),f=jn(n),m=Yr(c,f);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=An(n,m,f),i!==null&&(wr(i,n,f,c),Il(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=Ct(),c=jn(n),f=Yr(l,c);f.tag=2,i!=null&&(f.callback=i),i=An(n,f,c),i!==null&&(wr(i,n,c,l),Il(i,n,c))}};function Bg(n,i,l,c,f,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,w):i.prototype&&i.prototype.isPureReactComponent?!Fo(l,c)||!Fo(f,m):!0}function zg(n,i,l){var c=!1,f=Cn,m=i.contextType;return typeof m=="object"&&m!==null?m=er(m):(f=Lt(i)?cs:wt.current,c=i.contextTypes,m=(c=c!=null)?mi(n,f):Cn),i=new i(l,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Dl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),i}function Vg(n,i,l,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==n&&Dl.enqueueReplaceState(i,i.state,null)}function Vd(n,i,l,c){var f=n.stateNode;f.props=l,f.state=n.memoizedState,f.refs={},Od(n);var m=i.contextType;typeof m=="object"&&m!==null?f.context=er(m):(m=Lt(i)?cs:wt.current,f.context=mi(n,m)),f.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(zd(n,i,m,l),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Dl.enqueueReplaceState(f,f.state,null),Ol(n,l,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Si(n,i){try{var l="",c=i;do l+=me(c),c=c.return;while(c);var f=l}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:f,digest:null}}function Wd(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function Hd(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var cx=typeof WeakMap=="function"?WeakMap:Map;function Wg(n,i,l){l=Yr(-1,l),l.tag=3,l.payload={element:null};var c=i.value;return l.callback=function(){Vl||(Vl=!0,oh=c),Hd(n,i)},l}function Hg(n,i,l){l=Yr(-1,l),l.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;l.payload=function(){return c(f)},l.callback=function(){Hd(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){Hd(n,i),typeof c!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),l}function qg(n,i,l){var c=n.pingCache;if(c===null){c=n.pingCache=new cx;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(l)||(f.add(l),n=xx.bind(null,n,i,l),i.then(n,n))}function Gg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Kg(n,i,l,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Yr(-1,1),i.tag=2,An(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var dx=B.ReactCurrentOwner,Dt=!1;function Tt(n,i,l,c){i.child=n===null?pg(i,null,l,c):_i(i,n.child,l,c)}function Qg(n,i,l,c,f){l=l.render;var m=i.ref;return bi(i,f),c=Dd(n,i,l,c,m,f),l=Fd(),n!==null&&!Dt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Zr(n,i,f)):(We&&l&&_d(i),i.flags|=1,Tt(n,i,c,f),i.child)}function Jg(n,i,l,c,f){if(n===null){var m=l.type;return typeof m=="function"&&!fh(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=m,Yg(n,i,m,c,f)):(n=Ql(l.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&f)===0){var w=m.memoizedProps;if(l=l.compare,l=l!==null?l:Fo,l(w,c)&&n.ref===i.ref)return Zr(n,i,f)}return i.flags|=1,n=Dn(m,c),n.ref=i.ref,n.return=i,i.child=n}function Yg(n,i,l,c,f){if(n!==null){var m=n.memoizedProps;if(Fo(m,c)&&n.ref===i.ref)if(Dt=!1,i.pendingProps=c=m,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Dt=!0);else return i.lanes=n.lanes,Zr(n,i,f)}return qd(n,i,l,c,f)}function Zg(n,i,l){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(ki,Gt),Gt|=l;else{if((l&1073741824)===0)return n=m!==null?m.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ue(ki,Gt),Gt|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:l,Ue(ki,Gt),Gt|=c}else m!==null?(c=m.baseLanes|l,i.memoizedState=null):c=l,Ue(ki,Gt),Gt|=c;return Tt(n,i,f,l),i.child}function Xg(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function qd(n,i,l,c,f){var m=Lt(l)?cs:wt.current;return m=mi(i,m),bi(i,f),l=Dd(n,i,l,c,m,f),c=Fd(),n!==null&&!Dt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Zr(n,i,f)):(We&&c&&_d(i),i.flags|=1,Tt(n,i,l,f),i.child)}function e0(n,i,l,c,f){if(Lt(l)){var m=!0;wl(i)}else m=!1;if(bi(i,f),i.stateNode===null)Ml(n,i),zg(i,l,c),Vd(i,l,c,f),c=!0;else if(n===null){var w=i.stateNode,k=i.memoizedProps;w.props=k;var O=w.context,z=l.contextType;typeof z=="object"&&z!==null?z=er(z):(z=Lt(l)?cs:wt.current,z=mi(i,z));var Q=l.getDerivedStateFromProps,J=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function";J||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==c||O!==z)&&Vg(i,w,c,z),On=!1;var K=i.memoizedState;w.state=K,Ol(i,c,w,f),O=i.memoizedState,k!==c||K!==O||jt.current||On?(typeof Q=="function"&&(zd(i,l,Q,c),O=i.memoizedState),(k=On||Bg(i,l,k,c,K,O,z))?(J||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=O),w.props=c,w.state=O,w.context=z,c=k):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{w=i.stateNode,gg(n,i),k=i.memoizedProps,z=i.type===i.elementType?k:yr(i.type,k),w.props=z,J=i.pendingProps,K=w.context,O=l.contextType,typeof O=="object"&&O!==null?O=er(O):(O=Lt(l)?cs:wt.current,O=mi(i,O));var re=l.getDerivedStateFromProps;(Q=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==J||K!==O)&&Vg(i,w,c,O),On=!1,K=i.memoizedState,w.state=K,Ol(i,c,w,f);var le=i.memoizedState;k!==J||K!==le||jt.current||On?(typeof re=="function"&&(zd(i,l,re,c),le=i.memoizedState),(z=On||Bg(i,l,z,c,K,le,O)||!1)?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,le,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,le,O)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=le),w.props=c,w.state=le,w.context=O,c=z):(typeof w.componentDidUpdate!="function"||k===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),c=!1)}return Gd(n,i,l,c,m,f)}function Gd(n,i,l,c,f,m){Xg(n,i);var w=(i.flags&128)!==0;if(!c&&!w)return f&&ig(i,l,!1),Zr(n,i,m);c=i.stateNode,dx.current=i;var k=w&&typeof l.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&w?(i.child=_i(i,n.child,null,m),i.child=_i(i,null,k,m)):Tt(n,i,k,m),i.memoizedState=c.state,f&&ig(i,l,!0),i.child}function t0(n){var i=n.stateNode;i.pendingContext?ng(n,i.pendingContext,i.pendingContext!==i.context):i.context&&ng(n,i.context,!1),Ad(n,i.containerInfo)}function r0(n,i,l,c,f){return vi(),Sd(f),i.flags|=256,Tt(n,i,l,c),i.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function Qd(n){return{baseLanes:n,cachePool:null,transitions:null}}function n0(n,i,l){var c=i.pendingProps,f=qe.current,m=!1,w=(i.flags&128)!==0,k;if((k=w)||(k=n!==null&&n.memoizedState===null?!1:(f&2)!==0),k?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Ue(qe,f&1),n===null)return Ed(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=c.children,n=c.fallback,m?(c=i.mode,m=i.child,w={mode:"hidden",children:w},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=Jl(w,c,0,null),n=ws(n,c,l,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Qd(l),i.memoizedState=Kd,n):Jd(i,w));if(f=n.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return hx(n,i,w,c,k,f,l);if(m){m=c.fallback,w=i.mode,f=n.child,k=f.sibling;var O={mode:"hidden",children:c.children};return(w&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=O,i.deletions=null):(c=Dn(f,O),c.subtreeFlags=f.subtreeFlags&14680064),k!==null?m=Dn(k,m):(m=ws(m,w,l,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,w=n.child.memoizedState,w=w===null?Qd(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=n.childLanes&~l,i.memoizedState=Kd,c}return m=n.child,n=m.sibling,c=Dn(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=l),c.return=i,c.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=c,i.memoizedState=null,c}function Jd(n,i){return i=Jl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Fl(n,i,l,c){return c!==null&&Sd(c),_i(i,n.child,null,l),n=Jd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function hx(n,i,l,c,f,m,w){if(l)return i.flags&256?(i.flags&=-257,c=Wd(Error(r(422))),Fl(n,i,w,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=Jl({mode:"visible",children:c.children},f,0,null),m=ws(m,f,w,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&_i(i,n.child,null,w),i.child.memoizedState=Qd(w),i.memoizedState=Kd,m);if((i.mode&1)===0)return Fl(n,i,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var k=c.dgst;return c=k,m=Error(r(419)),c=Wd(m,c,void 0),Fl(n,i,w,c)}if(k=(w&n.childLanes)!==0,Dt||k){if(c=ht,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|w))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Jr(n,f),wr(c,n,f,-1))}return hh(),c=Wd(Error(r(421))),Fl(n,i,w,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=kx.bind(null,n),f._reactRetry=i,null):(n=m.treeContext,qt=kn(f.nextSibling),Ht=i,We=!0,gr=null,n!==null&&(Zt[Xt++]=Kr,Zt[Xt++]=Qr,Zt[Xt++]=ds,Kr=n.id,Qr=n.overflow,ds=i),i=Jd(i,c.children),i.flags|=4096,i)}function s0(n,i,l){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Cd(n.return,i,l)}function Yd(n,i,l,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=l,m.tailMode=f)}function i0(n,i,l){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(Tt(n,i,c.children,l),c=qe.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&s0(n,l,i);else if(n.tag===19)s0(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ue(qe,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(l=i.child,f=null;l!==null;)n=l.alternate,n!==null&&Al(n)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),Yd(i,!1,f,l,m);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Al(n)===null){i.child=f;break}n=f.sibling,f.sibling=l,l=f,f=n}Yd(i,!0,l,null,m);break;case"together":Yd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ml(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Zr(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),gs|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,l=Dn(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=Dn(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function fx(n,i,l){switch(i.tag){case 3:t0(i),vi();break;case 5:_g(i);break;case 1:Lt(i.type)&&wl(i);break;case 4:Ad(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Ue(Tl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ue(qe,qe.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?n0(n,i,l):(Ue(qe,qe.current&1),n=Zr(n,i,l),n!==null?n.sibling:null);Ue(qe,qe.current&1);break;case 19:if(c=(l&i.childLanes)!==0,(n.flags&128)!==0){if(c)return i0(n,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ue(qe,qe.current),c)break;return null;case 22:case 23:return i.lanes=0,Zg(n,i,l)}return Zr(n,i,l)}var o0,Zd,a0,l0;o0=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Zd=function(){},a0=function(n,i,l,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,ps(Rr.current);var m=null;switch(l){case"input":f=Cc(n,f),c=Cc(n,c),m=[];break;case"select":f=W({},f,{value:void 0}),c=W({},c,{value:void 0}),m=[];break;case"textarea":f=Ac(n,f),c=Ac(n,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=yl)}Rc(l,c);var w;l=null;for(z in f)if(!c.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var k=f[z];for(w in k)k.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var O=c[z];if(k=f!=null?f[z]:void 0,c.hasOwnProperty(z)&&O!==k&&(O!=null||k!=null))if(z==="style")if(k){for(w in k)!k.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in O)O.hasOwnProperty(w)&&k[w]!==O[w]&&(l||(l={}),l[w]=O[w])}else l||(m||(m=[]),m.push(z,l)),l=O;else z==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(m=m||[]).push(z,O)):z==="children"?typeof O!="string"&&typeof O!="number"||(m=m||[]).push(z,""+O):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(O!=null&&z==="onScroll"&&Be("scroll",n),m||k===O||(m=[])):(m=m||[]).push(z,O))}l&&(m=m||[]).push("style",l);var z=m;(i.updateQueue=z)&&(i.flags|=4)}},l0=function(n,i,l,c){l!==c&&(i.flags|=4)};function Zo(n,i){if(!We)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Et(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(i)for(var f=n.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=l,i}function px(n,i,l){var c=i.pendingProps;switch(wd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return Lt(i.type)&&_l(),Et(i),null;case 3:return c=i.stateNode,Ei(),ze(jt),ze(wt),Pd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(xl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gr!==null&&(uh(gr),gr=null))),Zd(n,i),Et(i),null;case 5:Nd(i);var f=ps(Go.current);if(l=i.type,n!==null&&i.stateNode!=null)a0(n,i,l,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Et(i),null}if(n=ps(Rr.current),xl(i)){c=i.stateNode,l=i.type;var m=i.memoizedProps;switch(c[Nr]=i,c[zo]=m,n=(i.mode&1)!==0,l){case"dialog":Be("cancel",c),Be("close",c);break;case"iframe":case"object":case"embed":Be("load",c);break;case"video":case"audio":for(f=0;f<Uo.length;f++)Be(Uo[f],c);break;case"source":Be("error",c);break;case"img":case"image":case"link":Be("error",c),Be("load",c);break;case"details":Be("toggle",c);break;case"input":zp(c,m),Be("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Be("invalid",c);break;case"textarea":Hp(c,m),Be("invalid",c)}Rc(l,m),f=null;for(var w in m)if(m.hasOwnProperty(w)){var k=m[w];w==="children"?typeof k=="string"?c.textContent!==k&&(m.suppressHydrationWarning!==!0&&gl(c.textContent,k,n),f=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(m.suppressHydrationWarning!==!0&&gl(c.textContent,k,n),f=["children",""+k]):o.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&Be("scroll",c)}switch(l){case"input":ri(c),Wp(c,m,!0);break;case"textarea":ri(c),Gp(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=yl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Kp(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(l,{is:c.is}):(n=w.createElement(l),l==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,l),n[Nr]=i,n[zo]=c,o0(n,i,!1,!1),i.stateNode=n;e:{switch(w=Pc(l,c),l){case"dialog":Be("cancel",n),Be("close",n),f=c;break;case"iframe":case"object":case"embed":Be("load",n),f=c;break;case"video":case"audio":for(f=0;f<Uo.length;f++)Be(Uo[f],n);f=c;break;case"source":Be("error",n),f=c;break;case"img":case"image":case"link":Be("error",n),Be("load",n),f=c;break;case"details":Be("toggle",n),f=c;break;case"input":zp(n,c),f=Cc(n,c),Be("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=W({},c,{value:void 0}),Be("invalid",n);break;case"textarea":Hp(n,c),f=Ac(n,c),Be("invalid",n);break;default:f=c}Rc(l,f),k=f;for(m in k)if(k.hasOwnProperty(m)){var O=k[m];m==="style"?Yp(n,O):m==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Qp(n,O)):m==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&wo(n,O):typeof O=="number"&&wo(n,""+O):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?O!=null&&m==="onScroll"&&Be("scroll",n):O!=null&&j(n,m,O,w))}switch(l){case"input":ri(n),Wp(n,c,!1);break;case"textarea":ri(n),Gp(n);break;case"option":c.value!=null&&n.setAttribute("value",""+ke(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?ni(n,!!c.multiple,m,!1):c.defaultValue!=null&&ni(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=yl)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Et(i),null;case 6:if(n&&i.stateNode!=null)l0(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(l=ps(Go.current),ps(Rr.current),xl(i)){if(c=i.stateNode,l=i.memoizedProps,c[Nr]=i,(m=c.nodeValue!==l)&&(n=Ht,n!==null))switch(n.tag){case 3:gl(c.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&gl(c.nodeValue,l,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Nr]=i,i.stateNode=c}return Et(i),null;case 13:if(ze(qe),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(We&&qt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)dg(),vi(),i.flags|=98560,m=!1;else if(m=xl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Nr]=i}else vi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),m=!1}else gr!==null&&(uh(gr),gr=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(qe.current&1)!==0?ot===0&&(ot=3):hh())),i.updateQueue!==null&&(i.flags|=4),Et(i),null);case 4:return Ei(),Zd(n,i),n===null&&$o(i.stateNode.containerInfo),Et(i),null;case 10:return Td(i.type._context),Et(i),null;case 17:return Lt(i.type)&&_l(),Et(i),null;case 19:if(ze(qe),m=i.memoizedState,m===null)return Et(i),null;if(c=(i.flags&128)!==0,w=m.rendering,w===null)if(c)Zo(m,!1);else{if(ot!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(w=Al(n),w!==null){for(i.flags|=128,Zo(m,!1),c=w.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=l,l=i.child;l!==null;)m=l,n=c,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,n=w.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Ue(qe,qe.current&1|2),i.child}n=n.sibling}m.tail!==null&&Ye()>Ti&&(i.flags|=128,c=!0,Zo(m,!1),i.lanes=4194304)}else{if(!c)if(n=Al(w),n!==null){if(i.flags|=128,c=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Zo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!We)return Et(i),null}else 2*Ye()-m.renderingStartTime>Ti&&l!==1073741824&&(i.flags|=128,c=!0,Zo(m,!1),i.lanes=4194304);m.isBackwards?(w.sibling=i.child,i.child=w):(l=m.last,l!==null?l.sibling=w:i.child=w,m.last=w)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ye(),i.sibling=null,l=qe.current,Ue(qe,c?l&1|2:l&1),i):(Et(i),null);case 22:case 23:return dh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(Gt&1073741824)!==0&&(Et(i),i.subtreeFlags&6&&(i.flags|=8192)):Et(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function mx(n,i){switch(wd(i),i.tag){case 1:return Lt(i.type)&&_l(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ei(),ze(jt),ze(wt),Pd(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Nd(i),null;case 13:if(ze(qe),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));vi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ze(qe),null;case 4:return Ei(),null;case 10:return Td(i.type._context),null;case 22:case 23:return dh(),null;case 24:return null;default:return null}}var Ul=!1,St=!1,gx=typeof WeakSet=="function"?WeakSet:Set,se=null;function xi(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){Qe(n,i,c)}else l.current=null}function Xd(n,i,l){try{l()}catch(c){Qe(n,i,c)}}var u0=!1;function yx(n,i){if(dd=il,n=Bm(),nd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var w=0,k=-1,O=-1,z=0,Q=0,J=n,K=null;t:for(;;){for(var re;J!==l||f!==0&&J.nodeType!==3||(k=w+f),J!==m||c!==0&&J.nodeType!==3||(O=w+c),J.nodeType===3&&(w+=J.nodeValue.length),(re=J.firstChild)!==null;)K=J,J=re;for(;;){if(J===n)break t;if(K===l&&++z===f&&(k=w),K===m&&++Q===c&&(O=w),(re=J.nextSibling)!==null)break;J=K,K=J.parentNode}J=re}l=k===-1||O===-1?null:{start:k,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(hd={focusedElem:n,selectionRange:l},il=!1,se=i;se!==null;)if(i=se,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,se=n;else for(;se!==null;){i=se;try{var le=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,Ze=le.memoizedState,M=i.stateNode,R=M.getSnapshotBeforeUpdate(i.elementType===i.type?ue:yr(i.type,ue),Ze);M.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Y){Qe(i,i.return,Y)}if(n=i.sibling,n!==null){n.return=i.return,se=n;break}se=i.return}return le=u0,u0=!1,le}function Xo(n,i,l){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&Xd(i,l,m)}f=f.next}while(f!==c)}}function $l(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var c=l.create;l.destroy=c()}l=l.next}while(l!==i)}}function eh(n){var i=n.ref;if(i!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof i=="function"?i(n):i.current=n}}function c0(n){var i=n.alternate;i!==null&&(n.alternate=null,c0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Nr],delete i[zo],delete i[gd],delete i[XS],delete i[ex])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function d0(n){return n.tag===5||n.tag===3||n.tag===4}function h0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||d0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function th(n,i,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=yl));else if(c!==4&&(n=n.child,n!==null))for(th(n,i,l),n=n.sibling;n!==null;)th(n,i,l),n=n.sibling}function rh(n,i,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(rh(n,i,l),n=n.sibling;n!==null;)rh(n,i,l),n=n.sibling}var mt=null,vr=!1;function Nn(n,i,l){for(l=l.child;l!==null;)f0(n,i,l),l=l.sibling}function f0(n,i,l){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Xa,l)}catch{}switch(l.tag){case 5:St||xi(l,i);case 6:var c=mt,f=vr;mt=null,Nn(n,i,l),mt=c,vr=f,mt!==null&&(vr?(n=mt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):mt.removeChild(l.stateNode));break;case 18:mt!==null&&(vr?(n=mt,l=l.stateNode,n.nodeType===8?md(n.parentNode,l):n.nodeType===1&&md(n,l),No(n)):md(mt,l.stateNode));break;case 4:c=mt,f=vr,mt=l.stateNode.containerInfo,vr=!0,Nn(n,i,l),mt=c,vr=f;break;case 0:case 11:case 14:case 15:if(!St&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&Xd(l,i,w),f=f.next}while(f!==c)}Nn(n,i,l);break;case 1:if(!St&&(xi(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(k){Qe(l,i,k)}Nn(n,i,l);break;case 21:Nn(n,i,l);break;case 22:l.mode&1?(St=(c=St)||l.memoizedState!==null,Nn(n,i,l),St=c):Nn(n,i,l);break;default:Nn(n,i,l)}}function p0(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new gx),i.forEach(function(c){var f=Tx.bind(null,n,c);l.has(c)||(l.add(c),c.then(f,f))})}}function _r(n,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];try{var m=n,w=i,k=w;e:for(;k!==null;){switch(k.tag){case 5:mt=k.stateNode,vr=!1;break e;case 3:mt=k.stateNode.containerInfo,vr=!0;break e;case 4:mt=k.stateNode.containerInfo,vr=!0;break e}k=k.return}if(mt===null)throw Error(r(160));f0(m,w,f),mt=null,vr=!1;var O=f.alternate;O!==null&&(O.return=null),f.return=null}catch(z){Qe(f,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)m0(i,n),i=i.sibling}function m0(n,i){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(_r(i,n),jr(n),c&4){try{Xo(3,n,n.return),$l(3,n)}catch(ue){Qe(n,n.return,ue)}try{Xo(5,n,n.return)}catch(ue){Qe(n,n.return,ue)}}break;case 1:_r(i,n),jr(n),c&512&&l!==null&&xi(l,l.return);break;case 5:if(_r(i,n),jr(n),c&512&&l!==null&&xi(l,l.return),n.flags&32){var f=n.stateNode;try{wo(f,"")}catch(ue){Qe(n,n.return,ue)}}if(c&4&&(f=n.stateNode,f!=null)){var m=n.memoizedProps,w=l!==null?l.memoizedProps:m,k=n.type,O=n.updateQueue;if(n.updateQueue=null,O!==null)try{k==="input"&&m.type==="radio"&&m.name!=null&&Vp(f,m),Pc(k,w);var z=Pc(k,m);for(w=0;w<O.length;w+=2){var Q=O[w],J=O[w+1];Q==="style"?Yp(f,J):Q==="dangerouslySetInnerHTML"?Qp(f,J):Q==="children"?wo(f,J):j(f,Q,J,z)}switch(k){case"input":Ic(f,m);break;case"textarea":qp(f,m);break;case"select":var K=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var re=m.value;re!=null?ni(f,!!m.multiple,re,!1):K!==!!m.multiple&&(m.defaultValue!=null?ni(f,!!m.multiple,m.defaultValue,!0):ni(f,!!m.multiple,m.multiple?[]:"",!1))}f[zo]=m}catch(ue){Qe(n,n.return,ue)}}break;case 6:if(_r(i,n),jr(n),c&4){if(n.stateNode===null)throw Error(r(162));f=n.stateNode,m=n.memoizedProps;try{f.nodeValue=m}catch(ue){Qe(n,n.return,ue)}}break;case 3:if(_r(i,n),jr(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{No(i.containerInfo)}catch(ue){Qe(n,n.return,ue)}break;case 4:_r(i,n),jr(n);break;case 13:_r(i,n),jr(n),f=n.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(ih=Ye())),c&4&&p0(n);break;case 22:if(Q=l!==null&&l.memoizedState!==null,n.mode&1?(St=(z=St)||Q,_r(i,n),St=z):_r(i,n),jr(n),c&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!Q&&(n.mode&1)!==0)for(se=n,Q=n.child;Q!==null;){for(J=se=Q;se!==null;){switch(K=se,re=K.child,K.tag){case 0:case 11:case 14:case 15:Xo(4,K,K.return);break;case 1:xi(K,K.return);var le=K.stateNode;if(typeof le.componentWillUnmount=="function"){c=K,l=K.return;try{i=c,le.props=i.memoizedProps,le.state=i.memoizedState,le.componentWillUnmount()}catch(ue){Qe(c,l,ue)}}break;case 5:xi(K,K.return);break;case 22:if(K.memoizedState!==null){v0(J);continue}}re!==null?(re.return=K,se=re):v0(J)}Q=Q.sibling}e:for(Q=null,J=n;;){if(J.tag===5){if(Q===null){Q=J;try{f=J.stateNode,z?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(k=J.stateNode,O=J.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=Jp("display",w))}catch(ue){Qe(n,n.return,ue)}}}else if(J.tag===6){if(Q===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(ue){Qe(n,n.return,ue)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;Q===J&&(Q=null),J=J.return}Q===J&&(Q=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:_r(i,n),jr(n),c&4&&p0(n);break;case 21:break;default:_r(i,n),jr(n)}}function jr(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(d0(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(wo(f,""),c.flags&=-33);var m=h0(n);rh(n,m,f);break;case 3:case 4:var w=c.stateNode.containerInfo,k=h0(n);th(n,k,w);break;default:throw Error(r(161))}}catch(O){Qe(n,n.return,O)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function vx(n,i,l){se=n,g0(n)}function g0(n,i,l){for(var c=(n.mode&1)!==0;se!==null;){var f=se,m=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||Ul;if(!w){var k=f.alternate,O=k!==null&&k.memoizedState!==null||St;k=Ul;var z=St;if(Ul=w,(St=O)&&!z)for(se=f;se!==null;)w=se,O=w.child,w.tag===22&&w.memoizedState!==null?_0(f):O!==null?(O.return=w,se=O):_0(f);for(;m!==null;)se=m,g0(m),m=m.sibling;se=f,Ul=k,St=z}y0(n)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,se=m):y0(n)}}function y0(n){for(;se!==null;){var i=se;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:St||$l(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!St)if(l===null)c.componentDidMount();else{var f=i.elementType===i.type?l.memoizedProps:yr(i.type,l.memoizedProps);c.componentDidUpdate(f,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&vg(i,m,c);break;case 3:var w=i.updateQueue;if(w!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}vg(i,w,l)}break;case 5:var k=i.stateNode;if(l===null&&i.flags&4){l=k;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var Q=z.memoizedState;if(Q!==null){var J=Q.dehydrated;J!==null&&No(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}St||i.flags&512&&eh(i)}catch(K){Qe(i,i.return,K)}}if(i===n){se=null;break}if(l=i.sibling,l!==null){l.return=i.return,se=l;break}se=i.return}}function v0(n){for(;se!==null;){var i=se;if(i===n){se=null;break}var l=i.sibling;if(l!==null){l.return=i.return,se=l;break}se=i.return}}function _0(n){for(;se!==null;){var i=se;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{$l(4,i)}catch(O){Qe(i,l,O)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(O){Qe(i,f,O)}}var m=i.return;try{eh(i)}catch(O){Qe(i,m,O)}break;case 5:var w=i.return;try{eh(i)}catch(O){Qe(i,w,O)}}}catch(O){Qe(i,i.return,O)}if(i===n){se=null;break}var k=i.sibling;if(k!==null){k.return=i.return,se=k;break}se=i.return}}var _x=Math.ceil,Bl=B.ReactCurrentDispatcher,nh=B.ReactCurrentOwner,rr=B.ReactCurrentBatchConfig,Ae=0,ht=null,et=null,gt=0,Gt=0,ki=Tn(0),ot=0,ea=null,gs=0,zl=0,sh=0,ta=null,Ft=null,ih=0,Ti=1/0,Xr=null,Vl=!1,oh=null,Rn=null,Wl=!1,Pn=null,Hl=0,ra=0,ah=null,ql=-1,Gl=0;function Ct(){return(Ae&6)!==0?Ye():ql!==-1?ql:ql=Ye()}function jn(n){return(n.mode&1)===0?1:(Ae&2)!==0&&gt!==0?gt&-gt:rx.transition!==null?(Gl===0&&(Gl=hm()),Gl):(n=Le,n!==0||(n=window.event,n=n===void 0?16:bm(n.type)),n)}function wr(n,i,l,c){if(50<ra)throw ra=0,ah=null,Error(r(185));To(n,l,c),((Ae&2)===0||n!==ht)&&(n===ht&&((Ae&2)===0&&(zl|=l),ot===4&&Ln(n,gt)),Mt(n,c),l===1&&Ae===0&&(i.mode&1)===0&&(Ti=Ye()+500,bl&&In()))}function Mt(n,i){var l=n.callbackNode;rS(n,i);var c=rl(n,n===ht?gt:0);if(c===0)l!==null&&um(l),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(l!=null&&um(l),i===1)n.tag===0?tx(b0.bind(null,n)):og(b0.bind(null,n)),YS(function(){(Ae&6)===0&&In()}),l=null;else{switch(fm(c)){case 1:l=$c;break;case 4:l=cm;break;case 16:l=Za;break;case 536870912:l=dm;break;default:l=Za}l=O0(l,w0.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function w0(n,i){if(ql=-1,Gl=0,(Ae&6)!==0)throw Error(r(327));var l=n.callbackNode;if(Ci()&&n.callbackNode!==l)return null;var c=rl(n,n===ht?gt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=Kl(n,c);else{i=c;var f=Ae;Ae|=2;var m=S0();(ht!==n||gt!==i)&&(Xr=null,Ti=Ye()+500,vs(n,i));do try{Ex();break}catch(k){E0(n,k)}while(!0);kd(),Bl.current=m,Ae=f,et!==null?i=0:(ht=null,gt=0,i=ot)}if(i!==0){if(i===2&&(f=Bc(n),f!==0&&(c=f,i=lh(n,f))),i===1)throw l=ea,vs(n,0),Ln(n,c),Mt(n,Ye()),l;if(i===6)Ln(n,c);else{if(f=n.current.alternate,(c&30)===0&&!wx(f)&&(i=Kl(n,c),i===2&&(m=Bc(n),m!==0&&(c=m,i=lh(n,m))),i===1))throw l=ea,vs(n,0),Ln(n,c),Mt(n,Ye()),l;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(r(345));case 2:_s(n,Ft,Xr);break;case 3:if(Ln(n,c),(c&130023424)===c&&(i=ih+500-Ye(),10<i)){if(rl(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Ct(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=pd(_s.bind(null,n,Ft,Xr),i);break}_s(n,Ft,Xr);break;case 4:if(Ln(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var w=31-pr(c);m=1<<w,w=i[w],w>f&&(f=w),c&=~m}if(c=f,c=Ye()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*_x(c/1960))-c,10<c){n.timeoutHandle=pd(_s.bind(null,n,Ft,Xr),c);break}_s(n,Ft,Xr);break;case 5:_s(n,Ft,Xr);break;default:throw Error(r(329))}}}return Mt(n,Ye()),n.callbackNode===l?w0.bind(null,n):null}function lh(n,i){var l=ta;return n.current.memoizedState.isDehydrated&&(vs(n,i).flags|=256),n=Kl(n,i),n!==2&&(i=Ft,Ft=l,i!==null&&uh(i)),n}function uh(n){Ft===null?Ft=n:Ft.push.apply(Ft,n)}function wx(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var f=l[c],m=f.getSnapshot;f=f.value;try{if(!mr(m(),f))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ln(n,i){for(i&=~sh,i&=~zl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-pr(i),c=1<<l;n[l]=-1,i&=~c}}function b0(n){if((Ae&6)!==0)throw Error(r(327));Ci();var i=rl(n,0);if((i&1)===0)return Mt(n,Ye()),null;var l=Kl(n,i);if(n.tag!==0&&l===2){var c=Bc(n);c!==0&&(i=c,l=lh(n,c))}if(l===1)throw l=ea,vs(n,0),Ln(n,i),Mt(n,Ye()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,_s(n,Ft,Xr),Mt(n,Ye()),null}function ch(n,i){var l=Ae;Ae|=1;try{return n(i)}finally{Ae=l,Ae===0&&(Ti=Ye()+500,bl&&In())}}function ys(n){Pn!==null&&Pn.tag===0&&(Ae&6)===0&&Ci();var i=Ae;Ae|=1;var l=rr.transition,c=Le;try{if(rr.transition=null,Le=1,n)return n()}finally{Le=c,rr.transition=l,Ae=i,(Ae&6)===0&&In()}}function dh(){Gt=ki.current,ze(ki)}function vs(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,JS(l)),et!==null)for(l=et.return;l!==null;){var c=l;switch(wd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&_l();break;case 3:Ei(),ze(jt),ze(wt),Pd();break;case 5:Nd(c);break;case 4:Ei();break;case 13:ze(qe);break;case 19:ze(qe);break;case 10:Td(c.type._context);break;case 22:case 23:dh()}l=l.return}if(ht=n,et=n=Dn(n.current,null),gt=Gt=i,ot=0,ea=null,sh=zl=gs=0,Ft=ta=null,fs!==null){for(i=0;i<fs.length;i++)if(l=fs[i],c=l.interleaved,c!==null){l.interleaved=null;var f=c.next,m=l.pending;if(m!==null){var w=m.next;m.next=f,c.next=w}l.pending=c}fs=null}return n}function E0(n,i){do{var l=et;try{if(kd(),Nl.current=Ll,Rl){for(var c=Ge.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Rl=!1}if(ms=0,dt=it=Ge=null,Ko=!1,Qo=0,nh.current=null,l===null||l.return===null){ot=1,ea=i,et=null;break}e:{var m=n,w=l.return,k=l,O=i;if(i=gt,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var z=O,Q=k,J=Q.tag;if((Q.mode&1)===0&&(J===0||J===11||J===15)){var K=Q.alternate;K?(Q.updateQueue=K.updateQueue,Q.memoizedState=K.memoizedState,Q.lanes=K.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var re=Gg(w);if(re!==null){re.flags&=-257,Kg(re,w,k,m,i),re.mode&1&&qg(m,z,i),i=re,O=z;var le=i.updateQueue;if(le===null){var ue=new Set;ue.add(O),i.updateQueue=ue}else le.add(O);break e}else{if((i&1)===0){qg(m,z,i),hh();break e}O=Error(r(426))}}else if(We&&k.mode&1){var Ze=Gg(w);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),Kg(Ze,w,k,m,i),Sd(Si(O,k));break e}}m=O=Si(O,k),ot!==4&&(ot=2),ta===null?ta=[m]:ta.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var M=Wg(m,O,i);yg(m,M);break e;case 1:k=O;var R=m.type,U=m.stateNode;if((m.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Rn===null||!Rn.has(U)))){m.flags|=65536,i&=-i,m.lanes|=i;var Y=Hg(m,k,i);yg(m,Y);break e}}m=m.return}while(m!==null)}k0(l)}catch(ce){i=ce,et===l&&l!==null&&(et=l=l.return);continue}break}while(!0)}function S0(){var n=Bl.current;return Bl.current=Ll,n===null?Ll:n}function hh(){(ot===0||ot===3||ot===2)&&(ot=4),ht===null||(gs&268435455)===0&&(zl&268435455)===0||Ln(ht,gt)}function Kl(n,i){var l=Ae;Ae|=2;var c=S0();(ht!==n||gt!==i)&&(Xr=null,vs(n,i));do try{bx();break}catch(f){E0(n,f)}while(!0);if(kd(),Ae=l,Bl.current=c,et!==null)throw Error(r(261));return ht=null,gt=0,ot}function bx(){for(;et!==null;)x0(et)}function Ex(){for(;et!==null&&!GE();)x0(et)}function x0(n){var i=I0(n.alternate,n,Gt);n.memoizedProps=n.pendingProps,i===null?k0(n):et=i,nh.current=null}function k0(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=px(l,i,Gt),l!==null){et=l;return}}else{if(l=mx(l,i),l!==null){l.flags&=32767,et=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ot=6,et=null;return}}if(i=i.sibling,i!==null){et=i;return}et=i=n}while(i!==null);ot===0&&(ot=5)}function _s(n,i,l){var c=Le,f=rr.transition;try{rr.transition=null,Le=1,Sx(n,i,l,c)}finally{rr.transition=f,Le=c}return null}function Sx(n,i,l,c){do Ci();while(Pn!==null);if((Ae&6)!==0)throw Error(r(327));l=n.finishedWork;var f=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var m=l.lanes|l.childLanes;if(nS(n,m),n===ht&&(et=ht=null,gt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Wl||(Wl=!0,O0(Za,function(){return Ci(),null})),m=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||m){m=rr.transition,rr.transition=null;var w=Le;Le=1;var k=Ae;Ae|=4,nh.current=null,yx(n,l),m0(l,n),VS(hd),il=!!dd,hd=dd=null,n.current=l,vx(l),KE(),Ae=k,Le=w,rr.transition=m}else n.current=l;if(Wl&&(Wl=!1,Pn=n,Hl=f),m=n.pendingLanes,m===0&&(Rn=null),YE(l.stateNode),Mt(n,Ye()),i!==null)for(c=n.onRecoverableError,l=0;l<i.length;l++)f=i[l],c(f.value,{componentStack:f.stack,digest:f.digest});if(Vl)throw Vl=!1,n=oh,oh=null,n;return(Hl&1)!==0&&n.tag!==0&&Ci(),m=n.pendingLanes,(m&1)!==0?n===ah?ra++:(ra=0,ah=n):ra=0,In(),null}function Ci(){if(Pn!==null){var n=fm(Hl),i=rr.transition,l=Le;try{if(rr.transition=null,Le=16>n?16:n,Pn===null)var c=!1;else{if(n=Pn,Pn=null,Hl=0,(Ae&6)!==0)throw Error(r(331));var f=Ae;for(Ae|=4,se=n.current;se!==null;){var m=se,w=m.child;if((se.flags&16)!==0){var k=m.deletions;if(k!==null){for(var O=0;O<k.length;O++){var z=k[O];for(se=z;se!==null;){var Q=se;switch(Q.tag){case 0:case 11:case 15:Xo(8,Q,m)}var J=Q.child;if(J!==null)J.return=Q,se=J;else for(;se!==null;){Q=se;var K=Q.sibling,re=Q.return;if(c0(Q),Q===z){se=null;break}if(K!==null){K.return=re,se=K;break}se=re}}}var le=m.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var Ze=ue.sibling;ue.sibling=null,ue=Ze}while(ue!==null)}}se=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,se=w;else e:for(;se!==null;){if(m=se,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Xo(9,m,m.return)}var M=m.sibling;if(M!==null){M.return=m.return,se=M;break e}se=m.return}}var R=n.current;for(se=R;se!==null;){w=se;var U=w.child;if((w.subtreeFlags&2064)!==0&&U!==null)U.return=w,se=U;else e:for(w=R;se!==null;){if(k=se,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:$l(9,k)}}catch(ce){Qe(k,k.return,ce)}if(k===w){se=null;break e}var Y=k.sibling;if(Y!==null){Y.return=k.return,se=Y;break e}se=k.return}}if(Ae=f,In(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Xa,n)}catch{}c=!0}return c}finally{Le=l,rr.transition=i}}return!1}function T0(n,i,l){i=Si(l,i),i=Wg(n,i,1),n=An(n,i,1),i=Ct(),n!==null&&(To(n,1,i),Mt(n,i))}function Qe(n,i,l){if(n.tag===3)T0(n,n,l);else for(;i!==null;){if(i.tag===3){T0(i,n,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Rn===null||!Rn.has(c))){n=Si(l,n),n=Hg(i,n,1),i=An(i,n,1),n=Ct(),i!==null&&(To(i,1,n),Mt(i,n));break}}i=i.return}}function xx(n,i,l){var c=n.pingCache;c!==null&&c.delete(i),i=Ct(),n.pingedLanes|=n.suspendedLanes&l,ht===n&&(gt&l)===l&&(ot===4||ot===3&&(gt&130023424)===gt&&500>Ye()-ih?vs(n,0):sh|=l),Mt(n,i)}function C0(n,i){i===0&&((n.mode&1)===0?i=1:(i=tl,tl<<=1,(tl&130023424)===0&&(tl=4194304)));var l=Ct();n=Jr(n,i),n!==null&&(To(n,i,l),Mt(n,l))}function kx(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),C0(n,l)}function Tx(n,i){var l=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(i),C0(n,l)}var I0;I0=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||jt.current)Dt=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return Dt=!1,fx(n,i,l);Dt=(n.flags&131072)!==0}else Dt=!1,We&&(i.flags&1048576)!==0&&ag(i,Sl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ml(n,i),n=i.pendingProps;var f=mi(i,wt.current);bi(i,l),f=Dd(null,i,c,n,f,l);var m=Fd();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Lt(c)?(m=!0,wl(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Od(i),f.updater=Dl,i.stateNode=f,f._reactInternals=i,Vd(i,c,n,l),i=Gd(null,i,c,!0,m,l)):(i.tag=0,We&&m&&_d(i),Tt(null,i,f,l),i=i.child),i;case 16:c=i.elementType;e:{switch(Ml(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Ix(c),n=yr(c,n),f){case 0:i=qd(null,i,c,n,l);break e;case 1:i=e0(null,i,c,n,l);break e;case 11:i=Qg(null,i,c,n,l);break e;case 14:i=Jg(null,i,c,yr(c.type,n),l);break e}throw Error(r(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:yr(c,f),qd(n,i,c,f,l);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:yr(c,f),e0(n,i,c,f,l);case 3:e:{if(t0(i),n===null)throw Error(r(387));c=i.pendingProps,m=i.memoizedState,f=m.element,gg(n,i),Ol(i,c,null,l);var w=i.memoizedState;if(c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=Si(Error(r(423)),i),i=r0(n,i,c,l,f);break e}else if(c!==f){f=Si(Error(r(424)),i),i=r0(n,i,c,l,f);break e}else for(qt=kn(i.stateNode.containerInfo.firstChild),Ht=i,We=!0,gr=null,l=pg(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(vi(),c===f){i=Zr(n,i,l);break e}Tt(n,i,c,l)}i=i.child}return i;case 5:return _g(i),n===null&&Ed(i),c=i.type,f=i.pendingProps,m=n!==null?n.memoizedProps:null,w=f.children,fd(c,f)?w=null:m!==null&&fd(c,m)&&(i.flags|=32),Xg(n,i),Tt(n,i,w,l),i.child;case 6:return n===null&&Ed(i),null;case 13:return n0(n,i,l);case 4:return Ad(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=_i(i,null,c,l):Tt(n,i,c,l),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:yr(c,f),Qg(n,i,c,f,l);case 7:return Tt(n,i,i.pendingProps,l),i.child;case 8:return Tt(n,i,i.pendingProps.children,l),i.child;case 12:return Tt(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,w=f.value,Ue(Tl,c._currentValue),c._currentValue=w,m!==null)if(mr(m.value,w)){if(m.children===f.children&&!jt.current){i=Zr(n,i,l);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var k=m.dependencies;if(k!==null){w=m.child;for(var O=k.firstContext;O!==null;){if(O.context===c){if(m.tag===1){O=Yr(-1,l&-l),O.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var Q=z.pending;Q===null?O.next=O:(O.next=Q.next,Q.next=O),z.pending=O}}m.lanes|=l,O=m.alternate,O!==null&&(O.lanes|=l),Cd(m.return,l,i),k.lanes|=l;break}O=O.next}}else if(m.tag===10)w=m.type===i.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=l,k=w.alternate,k!==null&&(k.lanes|=l),Cd(w,l,i),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}Tt(n,i,f.children,l),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,bi(i,l),f=er(f),c=c(f),i.flags|=1,Tt(n,i,c,l),i.child;case 14:return c=i.type,f=yr(c,i.pendingProps),f=yr(c.type,f),Jg(n,i,c,f,l);case 15:return Yg(n,i,i.type,i.pendingProps,l);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:yr(c,f),Ml(n,i),i.tag=1,Lt(c)?(n=!0,wl(i)):n=!1,bi(i,l),zg(i,c,f),Vd(i,c,f,l),Gd(null,i,c,!0,n,l);case 19:return i0(n,i,l);case 22:return Zg(n,i,l)}throw Error(r(156,i.tag))};function O0(n,i){return lm(n,i)}function Cx(n,i,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(n,i,l,c){return new Cx(n,i,l,c)}function fh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ix(n){if(typeof n=="function")return fh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Te)return 11;if(n===A)return 14}return 2}function Dn(n,i){var l=n.alternate;return l===null?(l=nr(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Ql(n,i,l,c,f,m){var w=2;if(c=n,typeof n=="function")fh(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case Z:return ws(l.children,f,m,i);case oe:w=8,f|=8;break;case ae:return n=nr(12,l,i,f|2),n.elementType=ae,n.lanes=m,n;case pe:return n=nr(13,l,i,f),n.elementType=pe,n.lanes=m,n;case V:return n=nr(19,l,i,f),n.elementType=V,n.lanes=m,n;case D:return Jl(l,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case te:w=10;break e;case fe:w=9;break e;case Te:w=11;break e;case A:w=14;break e;case L:w=16,c=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=nr(w,l,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function ws(n,i,l,c){return n=nr(7,n,c,i),n.lanes=l,n}function Jl(n,i,l,c){return n=nr(22,n,c,i),n.elementType=D,n.lanes=l,n.stateNode={isHidden:!1},n}function ph(n,i,l){return n=nr(6,n,null,i),n.lanes=l,n}function mh(n,i,l){return i=nr(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Ox(n,i,l,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function gh(n,i,l,c,f,m,w,k,O){return n=new Ox(n,i,l,k,O),i===1?(i=1,m===!0&&(i|=8)):i=0,m=nr(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Od(m),n}function Ax(n,i,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:c==null?null:""+c,children:n,containerInfo:i,implementation:l}}function A0(n){if(!n)return Cn;n=n._reactInternals;e:{if(ls(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Lt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(Lt(l))return sg(n,l,i)}return i}function N0(n,i,l,c,f,m,w,k,O){return n=gh(l,c,!0,n,f,m,w,k,O),n.context=A0(null),l=n.current,c=Ct(),f=jn(l),m=Yr(c,f),m.callback=i??null,An(l,m,f),n.current.lanes=f,To(n,f,c),Mt(n,c),n}function Yl(n,i,l,c){var f=i.current,m=Ct(),w=jn(f);return l=A0(l),i.context===null?i.context=l:i.pendingContext=l,i=Yr(m,w),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=An(f,i,w),n!==null&&(wr(n,f,w,m),Il(n,f,w)),w}function Zl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function R0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function yh(n,i){R0(n,i),(n=n.alternate)&&R0(n,i)}function Nx(){return null}var P0=typeof reportError=="function"?reportError:function(n){console.error(n)};function vh(n){this._internalRoot=n}Xl.prototype.render=vh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));Yl(n,i,null,null)},Xl.prototype.unmount=vh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ys(function(){Yl(null,n,null,null)}),i[qr]=null}};function Xl(n){this._internalRoot=n}Xl.prototype.unstable_scheduleHydration=function(n){if(n){var i=gm();n={blockedOn:null,target:n,priority:i};for(var l=0;l<En.length&&i!==0&&i<En[l].priority;l++);En.splice(l,0,n),l===0&&_m(n)}};function _h(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function eu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function j0(){}function Rx(n,i,l,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var z=Zl(w);m.call(z)}}var w=N0(i,c,n,0,null,!1,!1,"",j0);return n._reactRootContainer=w,n[qr]=w.current,$o(n.nodeType===8?n.parentNode:n),ys(),w}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var k=c;c=function(){var z=Zl(O);k.call(z)}}var O=gh(n,0,!1,null,null,!1,!1,"",j0);return n._reactRootContainer=O,n[qr]=O.current,$o(n.nodeType===8?n.parentNode:n),ys(function(){Yl(i,O,l,c)}),O}function tu(n,i,l,c,f){var m=l._reactRootContainer;if(m){var w=m;if(typeof f=="function"){var k=f;f=function(){var O=Zl(w);k.call(O)}}Yl(i,w,n,f)}else w=Rx(l,i,n,f,c);return Zl(w)}pm=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=ko(i.pendingLanes);l!==0&&(Vc(i,l|1),Mt(i,Ye()),(Ae&6)===0&&(Ti=Ye()+500,In()))}break;case 13:ys(function(){var c=Jr(n,1);if(c!==null){var f=Ct();wr(c,n,1,f)}}),yh(n,1)}},Wc=function(n){if(n.tag===13){var i=Jr(n,134217728);if(i!==null){var l=Ct();wr(i,n,134217728,l)}yh(n,134217728)}},mm=function(n){if(n.tag===13){var i=jn(n),l=Jr(n,i);if(l!==null){var c=Ct();wr(l,n,i,c)}yh(n,i)}},gm=function(){return Le},ym=function(n,i){var l=Le;try{return Le=n,i()}finally{Le=l}},Dc=function(n,i,l){switch(i){case"input":if(Ic(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==n&&c.form===n.form){var f=vl(c);if(!f)throw Error(r(90));Bp(c),Ic(c,f)}}}break;case"textarea":qp(n,l);break;case"select":i=l.value,i!=null&&ni(n,!!l.multiple,i,!1)}},tm=ch,rm=ys;var Px={usingClientEntryPoint:!1,Events:[Vo,fi,vl,Xp,em,ch]},na={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jx={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=om(n),n===null?null:n.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||Nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{Xa=ru.inject(jx),Ar=ru}catch{}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Px,Ut.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_h(i))throw Error(r(200));return Ax(n,i,null,l)},Ut.createRoot=function(n,i){if(!_h(n))throw Error(r(299));var l=!1,c="",f=P0;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=gh(n,1,!1,null,null,l,!1,c,f),n[qr]=i.current,$o(n.nodeType===8?n.parentNode:n),new vh(i)},Ut.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=om(i),n=n===null?null:n.stateNode,n},Ut.flushSync=function(n){return ys(n)},Ut.hydrate=function(n,i,l){if(!eu(i))throw Error(r(200));return tu(null,n,i,!0,l)},Ut.hydrateRoot=function(n,i,l){if(!_h(n))throw Error(r(405));var c=l!=null&&l.hydratedSources||null,f=!1,m="",w=P0;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),i=N0(i,null,n,1,l??null,f,!1,m,w),n[qr]=i.current,$o(n),c)for(n=0;n<c.length;n++)l=c[n],f=l._getVersion,f=f(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,f]:i.mutableSourceEagerHydrationData.push(l,f);return new Xl(i)},Ut.render=function(n,i,l){if(!eu(i))throw Error(r(200));return tu(null,n,i,!1,l)},Ut.unmountComponentAtNode=function(n){if(!eu(n))throw Error(r(40));return n._reactRootContainer?(ys(function(){tu(null,null,n,!1,function(){n._reactRootContainer=null,n[qr]=null})}),!0):!1},Ut.unstable_batchedUpdates=ch,Ut.unstable_renderSubtreeIntoContainer=function(n,i,l,c){if(!eu(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return tu(n,i,l,!1,c)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var V0;function R_(){if(V0)return Sh.exports;V0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sh.exports=Wx(),Sh.exports}var W0;function Hx(){if(W0)return su;W0=1;var t=R_();return su.createRoot=t.createRoot,su.hydrateRoot=t.hydrateRoot,su}var qx=Hx();const Gx="modulepreload",Kx=function(t,e){return new URL(t,e).href},H0={},ct=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let u=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const d=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=u(r.map(y=>{if(y=Kx(y,s),y in H0)return;H0[y]=!0;const v=y.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(!!s)for(let S=d.length-1;S>=0;S--){const E=d[S];if(E.href===y&&(!v||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${_}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":Gx,v||(x.as="script"),x.crossOrigin="",x.href=y,p&&x.setAttribute("nonce",p),document.head.appendChild(x),v)return new Promise((S,E)=>{x.addEventListener("load",S),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${y}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var CL=R_();/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ba.apply(this,arguments)}var Zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zn||(Zn={}));const q0="popstate";function Qx(t){t===void 0&&(t={});function e(o,a){let{pathname:u="/",search:d="",hash:h=""}=Zs(o.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Xh("",{pathname:u,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){let u=o.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof a=="string"?a:P_(a))}function s(o,a){sp(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Yx(e,r,s,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jx(){return Math.random().toString(36).substr(2,8)}function G0(t,e){return{usr:t.state,key:t.key,idx:e}}function Xh(t,e,r,s){return r===void 0&&(r=null),ba({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zs(e):e,{state:r,key:e&&e.key||s||Jx()})}function P_(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Zs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Yx(t,e,r,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,u=o.history,d=Zn.Pop,h=null,p=y();p==null&&(p=0,u.replaceState(ba({},u.state,{idx:p}),""));function y(){return(u.state||{idx:null}).idx}function v(){d=Zn.Pop;let E=y(),N=E==null?null:E-p;p=E,h&&h({action:d,location:S.location,delta:N})}function _(E,N){d=Zn.Push;let F=Xh(S.location,E,N);r&&r(F,E),p=y()+1;let j=G0(F,p),B=S.createHref(F);try{u.pushState(j,"",B)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(B)}a&&h&&h({action:d,location:S.location,delta:1})}function b(E,N){d=Zn.Replace;let F=Xh(S.location,E,N);r&&r(F,E),p=y();let j=G0(F,p),B=S.createHref(F);u.replaceState(j,"",B),a&&h&&h({action:d,location:S.location,delta:0})}function x(E){let N=o.location.origin!=="null"?o.location.origin:o.location.href,F=typeof E=="string"?E:P_(E);return F=F.replace(/ $/,"%20"),st(N,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,N)}let S={get action(){return d},get location(){return t(o,u)},listen(E){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(q0,v),h=E,()=>{o.removeEventListener(q0,v),h=null}},createHref(E){return e(o,E)},createURL:x,encodeLocation(E){let N=x(E);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:b,go(E){return u.go(E)}};return S}var K0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(K0||(K0={}));function Zx(t,e,r){return r===void 0&&(r="/"),Xx(t,e,r)}function Xx(t,e,r,s){let o=typeof e=="string"?Zs(e):e,a=D_(o.pathname||"/",r);if(a==null)return null;let u=j_(t);ek(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=hk(a);d=uk(u[h],p)}return d}function j_(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let o=(a,u,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(st(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let p=qs([s,h.relativePath]),y=r.concat(h);a.children&&a.children.length>0&&(st(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),j_(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:ak(p,a.index),routesMeta:y})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let h of L_(a.path))o(a,u,h)}),e}function L_(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let u=L_(s.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function ek(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:lk(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const tk=/^:[\w-]+$/,rk=3,nk=2,sk=1,ik=10,ok=-2,Q0=t=>t==="*";function ak(t,e){let r=t.split("/"),s=r.length;return r.some(Q0)&&(s+=ok),e&&(s+=nk),r.filter(o=>!Q0(o)).reduce((o,a)=>o+(tk.test(a)?rk:a===""?sk:ik),s)}function lk(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function uk(t,e,r){let{routesMeta:s}=t,o={},a="/",u=[];for(let d=0;d<s.length;++d){let h=s[d],p=d===s.length-1,y=a==="/"?e:e.slice(a.length)||"/",v=ck({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),_=h.route;if(!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:qs([a,v.pathname]),pathnameBase:gk(qs([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=qs([a,v.pathnameBase]))}return u}function ck(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=dk(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((p,y,v)=>{let{paramName:_,isOptional:b}=y;if(_==="*"){let S=d[v]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const x=d[v];return b&&!x?p[_]=void 0:p[_]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function dk(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),sp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function hk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function D_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function fk(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:o=""}=typeof t=="string"?Zs(t):t;return{pathname:r?r.startsWith("/")?r:pk(r,e):e,search:yk(s),hash:vk(o)}}function pk(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Th(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mk(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function F_(t,e){let r=mk(t);return e?r.map((s,o)=>o===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function M_(t,e,r,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=Zs(t):(o=ba({},t),st(!o.pathname||!o.pathname.includes("?"),Th("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Th("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Th("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=r;else{let v=e.length-1;if(!s&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;o.pathname=_.join("/")}d=v>=0?e[v]:"/"}let h=fk(o,d),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}const qs=t=>t.join("/").replace(/\/\/+/g,"/"),gk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _k(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const U_=["post","put","patch","delete"];new Set(U_);const wk=["get",...U_];new Set(wk);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ea.apply(this,arguments)}const ip=I.createContext(null),bk=I.createContext(null),Da=I.createContext(null),ac=I.createContext(null),gn=I.createContext({outlet:null,matches:[],isDataRoute:!1}),$_=I.createContext(null);function Fa(){return I.useContext(ac)!=null}function Xs(){return Fa()||st(!1),I.useContext(ac).location}function B_(t){I.useContext(Da).static||I.useLayoutEffect(t)}function lc(){let{isDataRoute:t}=I.useContext(gn);return t?Fk():Ek()}function Ek(){Fa()||st(!1);let t=I.useContext(ip),{basename:e,future:r,navigator:s}=I.useContext(Da),{matches:o}=I.useContext(gn),{pathname:a}=Xs(),u=JSON.stringify(F_(o,r.v7_relativeSplatPath)),d=I.useRef(!1);return B_(()=>{d.current=!0}),I.useCallback(function(p,y){if(y===void 0&&(y={}),!d.current)return;if(typeof p=="number"){s.go(p);return}let v=M_(p,JSON.parse(u),a,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:qs([e,v.pathname])),(y.replace?s.replace:s.push)(v,y.state,y)},[e,s,u,a,t])}const Sk=I.createContext(null);function xk(t){let e=I.useContext(gn).outlet;return e&&I.createElement(Sk.Provider,{value:t},e)}function kk(){let{matches:t}=I.useContext(gn),e=t[t.length-1];return e?e.params:{}}function Tk(t,e){return Ck(t,e)}function Ck(t,e,r,s){Fa()||st(!1);let{navigator:o}=I.useContext(Da),{matches:a}=I.useContext(gn),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let p=Xs(),y;if(e){var v;let E=typeof e=="string"?Zs(e):e;h==="/"||(v=E.pathname)!=null&&v.startsWith(h)||st(!1),y=E}else y=p;let _=y.pathname||"/",b=_;if(h!=="/"){let E=h.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=Zx(t,{pathname:b}),S=Rk(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:qs([h,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:qs([h,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,r,s);return e&&S?I.createElement(ac.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Zn.Pop}},S):S}function Ik(){let t=Dk(),e=_k(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:o},r):null,null)}const Ok=I.createElement(Ik,null);class Ak extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?I.createElement(gn.Provider,{value:this.props.routeContext},I.createElement($_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nk(t){let{routeContext:e,match:r,children:s}=t,o=I.useContext(ip);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(gn.Provider,{value:e},s)}function Rk(t,e,r,s){var o;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,d=(o=r)==null?void 0:o.errors;if(d!=null){let y=u.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);y>=0||st(!1),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,p=-1;if(r&&s&&s.v7_partialHydration)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:_,errors:b}=r,x=v.route.loader&&_[v.route.id]===void 0&&(!b||b[v.route.id]===void 0);if(v.route.lazy||x){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,v,_)=>{let b,x=!1,S=null,E=null;r&&(b=d&&v.route.id?d[v.route.id]:void 0,S=v.route.errorElement||Ok,h&&(p<0&&_===0?(Mk("route-fallback"),x=!0,E=null):p===_&&(x=!0,E=v.route.hydrateFallbackElement||null)));let N=e.concat(u.slice(0,_+1)),F=()=>{let j;return b?j=S:x?j=E:v.route.Component?j=I.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=y,I.createElement(Nk,{match:v,routeContext:{outlet:y,matches:N,isDataRoute:r!=null},children:j})};return r&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?I.createElement(Ak,{location:r.location,revalidation:r.revalidation,component:S,error:b,children:F(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):F()},null)}var z_=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(z_||{}),V_=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(V_||{});function Pk(t){let e=I.useContext(ip);return e||st(!1),e}function jk(t){let e=I.useContext(bk);return e||st(!1),e}function Lk(t){let e=I.useContext(gn);return e||st(!1),e}function W_(t){let e=Lk(),r=e.matches[e.matches.length-1];return r.route.id||st(!1),r.route.id}function Dk(){var t;let e=I.useContext($_),r=jk(),s=W_();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function Fk(){let{router:t}=Pk(z_.UseNavigateStable),e=W_(V_.UseNavigateStable),r=I.useRef(!1);return B_(()=>{r.current=!0}),I.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Ea({fromRouteId:e},a)))},[t,e])}const J0={};function Mk(t,e,r){J0[t]||(J0[t]=!0)}function Kt(t){let{to:e,replace:r,state:s,relative:o}=t;Fa()||st(!1);let{future:a,static:u}=I.useContext(Da),{matches:d}=I.useContext(gn),{pathname:h}=Xs(),p=lc(),y=M_(e,F_(d,a.v7_relativeSplatPath),h,o==="path"),v=JSON.stringify(y);return I.useEffect(()=>p(JSON.parse(v),{replace:r,state:s,relative:o}),[p,v,o,r,s]),null}function IL(t){return xk(t.context)}function Ke(t){st(!1)}function Uk(t){let{basename:e="/",children:r=null,location:s,navigationType:o=Zn.Pop,navigator:a,static:u=!1,future:d}=t;Fa()&&st(!1);let h=e.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:h,navigator:a,static:u,future:Ea({v7_relativeSplatPath:!1},d)}),[h,d,a,u]);typeof s=="string"&&(s=Zs(s));let{pathname:y="/",search:v="",hash:_="",state:b=null,key:x="default"}=s,S=I.useMemo(()=>{let E=D_(y,h);return E==null?null:{location:{pathname:E,search:v,hash:_,state:b,key:x},navigationType:o}},[h,y,v,_,b,x,o]);return S==null?null:I.createElement(Da.Provider,{value:p},I.createElement(ac.Provider,{children:r,value:S}))}function $k(t){let{children:e,location:r}=t;return Tk(ef(e),r)}new Promise(()=>{});function ef(t,e){e===void 0&&(e=[]);let r=[];return I.Children.forEach(t,(s,o)=>{if(!I.isValidElement(s))return;let a=[...e,o];if(s.type===I.Fragment){r.push.apply(r,ef(s.props.children,a));return}s.type!==Ke&&st(!1),!s.props.index||!s.props.children||st(!1);let u={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ef(s.props.children,a)),r.push(u)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let s=t[r];return e.concat(Array.isArray(s)?s.map(o=>[r,o]):[[r,s]])},[]))}function Bk(t,e){let r=tf(t);return e&&e.forEach((s,o)=>{r.has(o)||e.getAll(o).forEach(a=>{r.append(o,a)})}),r}const zk="6";try{window.__reactRouterVersion=zk}catch{}const Vk="startTransition",Y0=Bx[Vk];function Wk(t){let{basename:e,children:r,future:s,window:o}=t,a=I.useRef();a.current==null&&(a.current=Qx({window:o,v5Compat:!0}));let u=a.current,[d,h]=I.useState({action:u.action,location:u.location}),{v7_startTransition:p}=s||{},y=I.useCallback(v=>{p&&Y0?Y0(()=>h(v)):h(v)},[h,p]);return I.useLayoutEffect(()=>u.listen(y),[u,y]),I.createElement(Uk,{basename:e,children:r,location:d.location,navigationType:d.action,navigator:u,future:s})}var Z0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Z0||(Z0={}));var X0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(X0||(X0={}));function OL(t){let e=I.useRef(tf(t)),r=I.useRef(!1),s=Xs(),o=I.useMemo(()=>Bk(s.search,r.current?null:e.current),[s.search]),a=lc(),u=I.useCallback((d,h)=>{const p=tf(typeof d=="function"?d(o):d);r.current=!0,a("?"+p,h)},[a,o]);return[o,u]}const H_=()=>g.jsxs("div",{className:"flex justify-center items-center my-10 sm:my-12",style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"3rem 0",width:"100%"},children:[g.jsx("div",{className:"border-4 border-slate-200 border-t-blue-500 rounded-full w-10 h-10 animate-spin",style:{width:"40px",height:"40px",borderRadius:"9999px",borderWidth:"4px",borderStyle:"solid",borderColor:"#e2e8f0",borderTopColor:"#3b82f6"}}),g.jsx("span",{className:"sr-only",style:{position:"absolute",width:"1px",height:"1px",overflow:"hidden"},children:"Cargando..."})]}),q_=({className:t,variant:e="light",style:r})=>{const s=e==="dark",o="#2563eb",a="#ffffff",u="#1e293b",d="#475569",h="#e2e8f0",y=s?"#94a3b8":d,v=s?h:u;return g.jsx("svg",{className:t,style:r,width:"180",height:"70",viewBox:"0 0 180 70",xmlns:"http://www.w3.org/2000/svg","aria-label":"Logo de Mi Panel",children:g.jsxs("g",{children:[g.jsx("rect",{x:"0",y:"10",width:"50",height:"50",fill:o,rx:"12"}),g.jsxs("g",{transform:"translate(0, 2)",children:[g.jsx("rect",{x:"10",y:"22",width:"6",height:"22",fill:a,rx:"2",opacity:"0.95"}),g.jsx("rect",{x:"22",y:"28",width:"6",height:"16",fill:a,rx:"2",opacity:"0.95"}),g.jsx("rect",{x:"34",y:"25",width:"6",height:"19",fill:a,rx:"2",opacity:"0.95"})]}),g.jsxs("text",{x:"65",y:"35",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif",fontSize:"24",dominantBaseline:"middle",letterSpacing:"-0.5",children:[g.jsx("tspan",{fontWeight:"500",fill:y,children:"Mi"}),g.jsx("tspan",{fontWeight:"800",fill:v,dx:"0.2em",children:"Panel"})]})]})})},rf=({className:t,variant:e="light",style:r})=>{const s=e==="dark",o=s?"#e2e8f0":"#1e293b",a=s?"#94a3b8":"#475569";return g.jsxs("svg",{className:t,style:r,width:"120",height:"70",viewBox:"0 0 120 70",xmlns:"http://www.w3.org/2000/svg","aria-label":"UFLO Universidad Logo",children:[g.jsx("text",{x:"60",y:"33",fontFamily:"Inter, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",fontSize:"38",fontWeight:"bold",fill:o,textAnchor:"middle",dominantBaseline:"middle",children:"UFLO"}),g.jsx("text",{x:"60",y:"56",fontFamily:"Inter, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",fontSize:"10.5",fontWeight:"500",fill:a,letterSpacing:"0.5",textAnchor:"middle",style:{textTransform:"uppercase"},children:"Universidad"})]})},G_=I.createContext(void 0),Hk=()=>{if(typeof window<"u"){const t=window.localStorage.getItem("theme");if(typeof t=="string")return t==="dark"?"dark":"light";if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"},qk=({children:t})=>{const[e,r]=I.useState(Hk);I.useEffect(()=>{const a=window.document.documentElement;e==="dark"?a.classList.add("dark"):a.classList.remove("dark"),window.localStorage.setItem("theme",e)},[e]);const s=a=>{r(a)};I.useEffect(()=>{const a=u=>{u.key==="theme"&&u.newValue&&(u.newValue==="light"||u.newValue==="dark")&&r(u.newValue)};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]);const o=I.useMemo(()=>({theme:e,setTheme:s,resolvedTheme:e}),[e]);return g.jsx(G_.Provider,{value:o,children:t})},op=()=>{const t=I.useContext(G_);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},K_=()=>{const{theme:t,setTheme:e}=op(),r=()=>{e(t==="dark"?"light":"dark")},s=t==="dark"?"dark_mode":"light_mode",o=t==="dark"?"Cambiar a modo claro":"Cambiar a modo oscuro";return g.jsx("button",{onClick:r,className:"bg-white dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400 font-semibold p-2.5 rounded-full transition-all duration-200 shadow-sm border border-slate-200/80 dark:border-slate-700 flex items-center justify-center group","aria-label":o,children:g.jsx("span",{className:"material-icons !text-xl sm:!text-2xl transition-transform duration-300 ease-out group-hover:rotate-12 group-hover:scale-110",children:s})})};var ao=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Vn,ep,w_,Kk=(w_=class{constructor(){he(this,Vn,Gk);he(this,ep,!1)}setTimeoutProvider(t){ee(this,Vn,t)}setTimeout(t,e){return T(this,Vn).setTimeout(t,e)}clearTimeout(t){T(this,Vn).clearTimeout(t)}setInterval(t,e){return T(this,Vn).setInterval(t,e)}clearInterval(t){T(this,Vn).clearInterval(t)}},Vn=new WeakMap,ep=new WeakMap,w_),Ps=new Kk;function Qk(t){setTimeout(t,0)}var Qs=typeof window>"u"||"Deno"in globalThis;function At(){}function Jk(t,e){return typeof t=="function"?t(e):t}function nf(t){return typeof t=="number"&&t>=0&&t!==1/0}function Q_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function es(t,e){return typeof t=="function"?t(e):t}function or(t,e){return typeof t=="function"?t(e):t}function ey(t,e){const{type:r="all",exact:s,fetchStatus:o,predicate:a,queryKey:u,stale:d}=t;if(u){if(s){if(e.queryHash!==ap(u,e.options))return!1}else if(!Sa(e.queryKey,u))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||a&&!a(e))}function ty(t,e){const{exact:r,status:s,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Js(e.options.mutationKey)!==Js(a))return!1}else if(!Sa(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function ap(t,e){return((e==null?void 0:e.queryKeyHashFn)||Js)(t)}function Js(t){return JSON.stringify(t,(e,r)=>sf(r)?Object.keys(r).sort().reduce((s,o)=>(s[o]=r[o],s),{}):r)}function Sa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Sa(t[r],e[r])):!1}var Yk=Object.prototype.hasOwnProperty;function J_(t,e){if(t===e)return t;const r=ry(t)&&ry(e);if(!r&&!(sf(t)&&sf(e)))return e;const o=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),u=a.length,d=r?new Array(u):{};let h=0;for(let p=0;p<u;p++){const y=r?p:a[p],v=t[y],_=e[y];if(v===_){d[y]=v,(r?p<o:Yk.call(t,y))&&h++;continue}if(v===null||_===null||typeof v!="object"||typeof _!="object"){d[y]=_;continue}const b=J_(v,_);d[y]=b,b===v&&h++}return o===u&&h===o?t:d}function Ru(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function ry(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sf(t){if(!ny(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ny(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ny(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zk(t){return new Promise(e=>{Ps.setTimeout(e,t)})}function of(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?J_(t,e):e}function Xk(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function eT(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var lp=Symbol();function Y_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Z_(t,e){return typeof t=="function"?t(...e):!!t}var Fs,Wn,$i,b_,tT=(b_=class extends ao{constructor(){super();he(this,Fs);he(this,Wn);he(this,$i);ee(this,$i,e=>{if(!Qs&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,Wn)||this.setEventListener(T(this,$i))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Wn))==null||e.call(this),ee(this,Wn,void 0))}setEventListener(e){var r;ee(this,$i,e),(r=T(this,Wn))==null||r.call(this),ee(this,Wn,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){T(this,Fs)!==e&&(ee(this,Fs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof T(this,Fs)=="boolean"?T(this,Fs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fs=new WeakMap,Wn=new WeakMap,$i=new WeakMap,b_),up=new tT;function af(){let t,e;const r=new Promise((o,a)=>{t=o,e=a});r.status="pending",r.catch(()=>{});function s(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{s({status:"fulfilled",value:o}),t(o)},r.reject=o=>{s({status:"rejected",reason:o}),e(o)},r}var rT=Qk;function nT(){let t=[],e=0,r=d=>{d()},s=d=>{d()},o=rT;const a=d=>{e?t.push(d):o(()=>{r(d)})},u=()=>{const d=t;t=[],d.length&&o(()=>{s(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||u()}return h},batchCalls:d=>(...h)=>{a(()=>{d(...h)})},schedule:a,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var lt=nT(),Bi,Hn,zi,E_,sT=(E_=class extends ao{constructor(){super();he(this,Bi,!0);he(this,Hn);he(this,zi);ee(this,zi,e=>{if(!Qs&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){T(this,Hn)||this.setEventListener(T(this,zi))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Hn))==null||e.call(this),ee(this,Hn,void 0))}setEventListener(e){var r;ee(this,zi,e),(r=T(this,Hn))==null||r.call(this),ee(this,Hn,e(this.setOnline.bind(this)))}setOnline(e){T(this,Bi)!==e&&(ee(this,Bi,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return T(this,Bi)}},Bi=new WeakMap,Hn=new WeakMap,zi=new WeakMap,E_),Pu=new sT;function iT(t){return Math.min(1e3*2**t,3e4)}function X_(t){return(t??"online")==="online"?Pu.isOnline():!0}var lf=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ew(t){let e=!1,r=0,s;const o=af(),a=()=>o.status!=="pending",u=S=>{var E;if(!a()){const N=new lf(S);_(N),(E=t.onCancel)==null||E.call(t,N)}},d=()=>{e=!0},h=()=>{e=!1},p=()=>up.isFocused()&&(t.networkMode==="always"||Pu.isOnline())&&t.canRun(),y=()=>X_(t.networkMode)&&t.canRun(),v=S=>{a()||(s==null||s(),o.resolve(S))},_=S=>{a()||(s==null||s(),o.reject(S))},b=()=>new Promise(S=>{var E;s=N=>{(a()||p())&&S(N)},(E=t.onPause)==null||E.call(t)}).then(()=>{var S;s=void 0,a()||(S=t.onContinue)==null||S.call(t)}),x=()=>{if(a())return;let S;const E=r===0?t.initialPromise:void 0;try{S=E??t.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(v).catch(N=>{var G;if(a())return;const F=t.retry??(Qs?0:3),j=t.retryDelay??iT,B=typeof j=="function"?j(r,N):j,H=F===!0||typeof F=="number"&&r<F||typeof F=="function"&&F(r,N);if(e||!H){_(N);return}r++,(G=t.onFail)==null||G.call(t,r,N),Zk(B).then(()=>p()?void 0:b()).then(()=>{e?_(N):x()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(s==null||s(),o),cancelRetry:d,continueRetry:h,canStart:y,start:()=>(y()?x():b().then(x),o)}}var Ms,S_,tw=(S_=class{constructor(){he(this,Ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nf(this.gcTime)&&ee(this,Ms,Ps.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qs?1/0:300*1e3))}clearGcTimeout(){T(this,Ms)&&(Ps.clearTimeout(T(this,Ms)),ee(this,Ms,void 0))}},Ms=new WeakMap,S_),Us,Vi,ir,$s,pt,Aa,Bs,Sr,nn,x_,oT=(x_=class extends tw{constructor(e){super();he(this,Sr);he(this,Us);he(this,Vi);he(this,ir);he(this,$s);he(this,pt);he(this,Aa);he(this,Bs);ee(this,Bs,!1),ee(this,Aa,e.defaultOptions),this.setOptions(e.options),this.observers=[],ee(this,$s,e.client),ee(this,ir,T(this,$s).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ee(this,Us,iy(this.options)),this.state=e.state??T(this,Us),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=T(this,pt))==null?void 0:e.promise}setOptions(e){if(this.options={...T(this,Aa),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=iy(this.options);r.data!==void 0&&(this.setState(sy(r.data,r.dataUpdatedAt)),ee(this,Us,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,ir).remove(this)}setData(e,r){const s=of(this.state.data,e,this.options);return xe(this,Sr,nn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){xe(this,Sr,nn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,o;const r=(s=T(this,pt))==null?void 0:s.promise;return(o=T(this,pt))==null||o.cancel(e),r?r.then(At).catch(At):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Us))}isActive(){return this.observers.some(e=>or(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>es(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Q_(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,pt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,pt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),T(this,ir).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(T(this,pt)&&(T(this,Bs)?T(this,pt).cancel({revert:!0}):T(this,pt).cancelRetry()),this.scheduleGc()),T(this,ir).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xe(this,Sr,nn).call(this,{type:"invalidate"})}async fetch(e,r){var h,p,y,v,_,b,x,S,E,N,F,j;if(this.state.fetchStatus!=="idle"&&((h=T(this,pt))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,pt))return T(this,pt).continueRetry(),T(this,pt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const B=this.observers.find(H=>H.options.queryFn);B&&this.setOptions(B.options)}const s=new AbortController,o=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>(ee(this,Bs,!0),s.signal)})},a=()=>{const B=Y_(this.options,r),G=(()=>{const Z={client:T(this,$s),queryKey:this.queryKey,meta:this.meta};return o(Z),Z})();return ee(this,Bs,!1),this.options.persister?this.options.persister(B,G,this):B(G)},d=(()=>{const B={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:T(this,$s),state:this.state,fetchFn:a};return o(B),B})();(p=this.options.behavior)==null||p.onFetch(d,this),ee(this,Vi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=d.fetchOptions)==null?void 0:y.meta))&&xe(this,Sr,nn).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta}),ee(this,pt,ew({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,onCancel:B=>{B instanceof lf&&B.revert&&this.setState({...T(this,Vi),fetchStatus:"idle"}),s.abort()},onFail:(B,H)=>{xe(this,Sr,nn).call(this,{type:"failed",failureCount:B,error:H})},onPause:()=>{xe(this,Sr,nn).call(this,{type:"pause"})},onContinue:()=>{xe(this,Sr,nn).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const B=await T(this,pt).start();if(B===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(B),(b=(_=T(this,ir).config).onSuccess)==null||b.call(_,B,this),(S=(x=T(this,ir).config).onSettled)==null||S.call(x,B,this.state.error,this),B}catch(B){if(B instanceof lf){if(B.silent)return T(this,pt).promise;if(B.revert){if(this.state.data===void 0)throw B;return this.state.data}}throw xe(this,Sr,nn).call(this,{type:"error",error:B}),(N=(E=T(this,ir).config).onError)==null||N.call(E,B,this),(j=(F=T(this,ir).config).onSettled)==null||j.call(F,this.state.data,B,this),B}finally{this.scheduleGc()}}},Us=new WeakMap,Vi=new WeakMap,ir=new WeakMap,$s=new WeakMap,pt=new WeakMap,Aa=new WeakMap,Bs=new WeakMap,Sr=new WeakSet,nn=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...rw(s.data,this.options),fetchMeta:e.meta??null};case"success":const o={...s,...sy(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ee(this,Vi,e.manual?o:void 0),o;case"error":const a=e.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),lt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),T(this,ir).notify({query:this,type:"updated",action:e})})},x_);function rw(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sy(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function iy(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Bt,Oe,Na,It,zs,Wi,on,qn,Ra,Hi,qi,Vs,Ws,Gn,Gi,je,pa,uf,cf,df,hf,ff,pf,mf,nw,k_,aT=(k_=class extends ao{constructor(e,r){super();he(this,je);he(this,Bt);he(this,Oe);he(this,Na);he(this,It);he(this,zs);he(this,Wi);he(this,on);he(this,qn);he(this,Ra);he(this,Hi);he(this,qi);he(this,Vs);he(this,Ws);he(this,Gn);he(this,Gi,new Set);this.options=r,ee(this,Bt,e),ee(this,qn,null),ee(this,on,af()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,Oe).addObserver(this),oy(T(this,Oe),this.options)?xe(this,je,pa).call(this):this.updateResult(),xe(this,je,hf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gf(T(this,Oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gf(T(this,Oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xe(this,je,ff).call(this),xe(this,je,pf).call(this),T(this,Oe).removeObserver(this)}setOptions(e){const r=this.options,s=T(this,Oe);if(this.options=T(this,Bt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof or(this.options.enabled,T(this,Oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xe(this,je,mf).call(this),T(this,Oe).setOptions(this.options),r._defaulted&&!Ru(this.options,r)&&T(this,Bt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,Oe),observer:this});const o=this.hasListeners();o&&ay(T(this,Oe),s,this.options,r)&&xe(this,je,pa).call(this),this.updateResult(),o&&(T(this,Oe)!==s||or(this.options.enabled,T(this,Oe))!==or(r.enabled,T(this,Oe))||es(this.options.staleTime,T(this,Oe))!==es(r.staleTime,T(this,Oe)))&&xe(this,je,uf).call(this);const a=xe(this,je,cf).call(this);o&&(T(this,Oe)!==s||or(this.options.enabled,T(this,Oe))!==or(r.enabled,T(this,Oe))||a!==T(this,Gn))&&xe(this,je,df).call(this,a)}getOptimisticResult(e){const r=T(this,Bt).getQueryCache().build(T(this,Bt),e),s=this.createResult(r,e);return uT(this,s)&&(ee(this,It,s),ee(this,Wi,this.options),ee(this,zs,T(this,Oe).state)),s}getCurrentResult(){return T(this,It)}trackResult(e,r){return new Proxy(e,{get:(s,o)=>(this.trackProp(o),r==null||r(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&T(this,on).status==="pending"&&T(this,on).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,o))})}trackProp(e){T(this,Gi).add(e)}getCurrentQuery(){return T(this,Oe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=T(this,Bt).defaultQueryOptions(e),s=T(this,Bt).getQueryCache().build(T(this,Bt),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return xe(this,je,pa).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,It)))}createResult(e,r){var ae;const s=T(this,Oe),o=this.options,a=T(this,It),u=T(this,zs),d=T(this,Wi),p=e!==s?e.state:T(this,Na),{state:y}=e;let v={...y},_=!1,b;if(r._optimisticResults){const te=this.hasListeners(),fe=!te&&oy(e,r),Te=te&&ay(e,s,r,o);(fe||Te)&&(v={...v,...rw(y.data,e.options)}),r._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:E}=v;b=v.data;let N=!1;if(r.placeholderData!==void 0&&b===void 0&&E==="pending"){let te;a!=null&&a.isPlaceholderData&&r.placeholderData===(d==null?void 0:d.placeholderData)?(te=a.data,N=!0):te=typeof r.placeholderData=="function"?r.placeholderData((ae=T(this,qi))==null?void 0:ae.state.data,T(this,qi)):r.placeholderData,te!==void 0&&(E="success",b=of(a==null?void 0:a.data,te,r),_=!0)}if(r.select&&b!==void 0&&!N)if(a&&b===(u==null?void 0:u.data)&&r.select===T(this,Ra))b=T(this,Hi);else try{ee(this,Ra,r.select),b=r.select(b),b=of(a==null?void 0:a.data,b,r),ee(this,Hi,b),ee(this,qn,null)}catch(te){ee(this,qn,te)}T(this,qn)&&(x=T(this,qn),b=T(this,Hi),S=Date.now(),E="error");const F=v.fetchStatus==="fetching",j=E==="pending",B=E==="error",H=j&&F,G=b!==void 0,oe={status:E,fetchStatus:v.fetchStatus,isPending:j,isSuccess:E==="success",isError:B,isInitialLoading:H,isLoading:H,data:b,dataUpdatedAt:v.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:F,isRefetching:F&&!j,isLoadingError:B&&!G,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:B&&G,isStale:cp(e,r),refetch:this.refetch,promise:T(this,on),isEnabled:or(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const te=pe=>{oe.status==="error"?pe.reject(oe.error):oe.data!==void 0&&pe.resolve(oe.data)},fe=()=>{const pe=ee(this,on,oe.promise=af());te(pe)},Te=T(this,on);switch(Te.status){case"pending":e.queryHash===s.queryHash&&te(Te);break;case"fulfilled":(oe.status==="error"||oe.data!==Te.value)&&fe();break;case"rejected":(oe.status!=="error"||oe.error!==Te.reason)&&fe();break}}return oe}updateResult(){const e=T(this,It),r=this.createResult(T(this,Oe),this.options);if(ee(this,zs,T(this,Oe).state),ee(this,Wi,this.options),T(this,zs).data!==void 0&&ee(this,qi,T(this,Oe)),Ru(r,e))return;ee(this,It,r);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!T(this,Gi).size)return!0;const u=new Set(a??T(this,Gi));return this.options.throwOnError&&u.add("error"),Object.keys(T(this,It)).some(d=>{const h=d;return T(this,It)[h]!==e[h]&&u.has(h)})};xe(this,je,nw).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xe(this,je,hf).call(this)}},Bt=new WeakMap,Oe=new WeakMap,Na=new WeakMap,It=new WeakMap,zs=new WeakMap,Wi=new WeakMap,on=new WeakMap,qn=new WeakMap,Ra=new WeakMap,Hi=new WeakMap,qi=new WeakMap,Vs=new WeakMap,Ws=new WeakMap,Gn=new WeakMap,Gi=new WeakMap,je=new WeakSet,pa=function(e){xe(this,je,mf).call(this);let r=T(this,Oe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(At)),r},uf=function(){xe(this,je,ff).call(this);const e=es(this.options.staleTime,T(this,Oe));if(Qs||T(this,It).isStale||!nf(e))return;const s=Q_(T(this,It).dataUpdatedAt,e)+1;ee(this,Vs,Ps.setTimeout(()=>{T(this,It).isStale||this.updateResult()},s))},cf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,Oe)):this.options.refetchInterval)??!1},df=function(e){xe(this,je,pf).call(this),ee(this,Gn,e),!(Qs||or(this.options.enabled,T(this,Oe))===!1||!nf(T(this,Gn))||T(this,Gn)===0)&&ee(this,Ws,Ps.setInterval(()=>{(this.options.refetchIntervalInBackground||up.isFocused())&&xe(this,je,pa).call(this)},T(this,Gn)))},hf=function(){xe(this,je,uf).call(this),xe(this,je,df).call(this,xe(this,je,cf).call(this))},ff=function(){T(this,Vs)&&(Ps.clearTimeout(T(this,Vs)),ee(this,Vs,void 0))},pf=function(){T(this,Ws)&&(Ps.clearInterval(T(this,Ws)),ee(this,Ws,void 0))},mf=function(){const e=T(this,Bt).getQueryCache().build(T(this,Bt),this.options);if(e===T(this,Oe))return;const r=T(this,Oe);ee(this,Oe,e),ee(this,Na,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},nw=function(e){lt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(T(this,It))}),T(this,Bt).getQueryCache().notify({query:T(this,Oe),type:"observerResultsUpdated"})})},k_);function lT(t,e){return or(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function oy(t,e){return lT(t,e)||t.state.data!==void 0&&gf(t,e,e.refetchOnMount)}function gf(t,e,r){if(or(e.enabled,t)!==!1&&es(e.staleTime,t)!=="static"){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&cp(t,e)}return!1}function ay(t,e,r,s){return(t!==e||or(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&cp(t,r)}function cp(t,e){return or(e.enabled,t)!==!1&&t.isStaleByTime(es(e.staleTime,t))}function uT(t,e){return!Ru(t.getCurrentResult(),e)}function ly(t){return{onFetch:(e,r)=>{var y,v,_,b,x;const s=e.options,o=(_=(v=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:_.direction,a=((b=e.state.data)==null?void 0:b.pages)||[],u=((x=e.state.data)==null?void 0:x.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const p=async()=>{let S=!1;const E=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?S=!0:e.signal.addEventListener("abort",()=>{S=!0}),e.signal)})},N=Y_(e.options,e.fetchOptions),F=async(j,B,H)=>{if(S)return Promise.reject();if(B==null&&j.pages.length)return Promise.resolve(j);const Z=(()=>{const fe={client:e.client,queryKey:e.queryKey,pageParam:B,direction:H?"backward":"forward",meta:e.options.meta};return E(fe),fe})(),oe=await N(Z),{maxPages:ae}=e.options,te=H?eT:Xk;return{pages:te(j.pages,oe,ae),pageParams:te(j.pageParams,B,ae)}};if(o&&a.length){const j=o==="backward",B=j?cT:uy,H={pages:a,pageParams:u},G=B(s,H);d=await F(H,G,j)}else{const j=t??a.length;do{const B=h===0?u[0]??s.initialPageParam:uy(s,d);if(h>0&&B==null)break;d=await F(d,B),h++}while(h<j)}return d};e.options.persister?e.fetchFn=()=>{var S,E;return(E=(S=e.options).persister)==null?void 0:E.call(S,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=p}}}function uy(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function cT(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var Pa,Dr,Ot,Hs,Fr,$n,T_,dT=(T_=class extends tw{constructor(e){super();he(this,Fr);he(this,Pa);he(this,Dr);he(this,Ot);he(this,Hs);ee(this,Pa,e.client),this.mutationId=e.mutationId,ee(this,Ot,e.mutationCache),ee(this,Dr,[]),this.state=e.state||sw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){T(this,Dr).includes(e)||(T(this,Dr).push(e),this.clearGcTimeout(),T(this,Ot).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ee(this,Dr,T(this,Dr).filter(r=>r!==e)),this.scheduleGc(),T(this,Ot).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){T(this,Dr).length||(this.state.status==="pending"?this.scheduleGc():T(this,Ot).remove(this))}continue(){var e;return((e=T(this,Hs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var u,d,h,p,y,v,_,b,x,S,E,N,F,j,B,H,G,Z,oe,ae;const r=()=>{xe(this,Fr,$n).call(this,{type:"continue"})},s={client:T(this,Pa),meta:this.options.meta,mutationKey:this.options.mutationKey};ee(this,Hs,ew({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(te,fe)=>{xe(this,Fr,$n).call(this,{type:"failed",failureCount:te,error:fe})},onPause:()=>{xe(this,Fr,$n).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Ot).canRun(this)}));const o=this.state.status==="pending",a=!T(this,Hs).canStart();try{if(o)r();else{xe(this,Fr,$n).call(this,{type:"pending",variables:e,isPaused:a}),await((d=(u=T(this,Ot).config).onMutate)==null?void 0:d.call(u,e,this,s));const fe=await((p=(h=this.options).onMutate)==null?void 0:p.call(h,e,s));fe!==this.state.context&&xe(this,Fr,$n).call(this,{type:"pending",context:fe,variables:e,isPaused:a})}const te=await T(this,Hs).start();return await((v=(y=T(this,Ot).config).onSuccess)==null?void 0:v.call(y,te,e,this.state.context,this,s)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,te,e,this.state.context,s)),await((S=(x=T(this,Ot).config).onSettled)==null?void 0:S.call(x,te,null,this.state.variables,this.state.context,this,s)),await((N=(E=this.options).onSettled)==null?void 0:N.call(E,te,null,e,this.state.context,s)),xe(this,Fr,$n).call(this,{type:"success",data:te}),te}catch(te){try{throw await((j=(F=T(this,Ot).config).onError)==null?void 0:j.call(F,te,e,this.state.context,this,s)),await((H=(B=this.options).onError)==null?void 0:H.call(B,te,e,this.state.context,s)),await((Z=(G=T(this,Ot).config).onSettled)==null?void 0:Z.call(G,void 0,te,this.state.variables,this.state.context,this,s)),await((ae=(oe=this.options).onSettled)==null?void 0:ae.call(oe,void 0,te,e,this.state.context,s)),te}finally{xe(this,Fr,$n).call(this,{type:"error",error:te})}}finally{T(this,Ot).runNext(this)}}},Pa=new WeakMap,Dr=new WeakMap,Ot=new WeakMap,Hs=new WeakMap,Fr=new WeakSet,$n=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lt.batch(()=>{T(this,Dr).forEach(s=>{s.onMutationUpdate(e)}),T(this,Ot).notify({mutation:this,type:"updated",action:e})})},T_);function sw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var an,xr,ja,C_,hT=(C_=class extends ao{constructor(e={}){super();he(this,an);he(this,xr);he(this,ja);this.config=e,ee(this,an,new Set),ee(this,xr,new Map),ee(this,ja,0)}build(e,r,s){const o=new dT({client:e,mutationCache:this,mutationId:++nu(this,ja)._,options:e.defaultMutationOptions(r),state:s});return this.add(o),o}add(e){T(this,an).add(e);const r=iu(e);if(typeof r=="string"){const s=T(this,xr).get(r);s?s.push(e):T(this,xr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(T(this,an).delete(e)){const r=iu(e);if(typeof r=="string"){const s=T(this,xr).get(r);if(s)if(s.length>1){const o=s.indexOf(e);o!==-1&&s.splice(o,1)}else s[0]===e&&T(this,xr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=iu(e);if(typeof r=="string"){const s=T(this,xr).get(r),o=s==null?void 0:s.find(a=>a.state.status==="pending");return!o||o===e}else return!0}runNext(e){var s;const r=iu(e);if(typeof r=="string"){const o=(s=T(this,xr).get(r))==null?void 0:s.find(a=>a!==e&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lt.batch(()=>{T(this,an).forEach(e=>{this.notify({type:"removed",mutation:e})}),T(this,an).clear(),T(this,xr).clear()})}getAll(){return Array.from(T(this,an))}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ty(r,s))}findAll(e={}){return this.getAll().filter(r=>ty(e,r))}notify(e){lt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return lt.batch(()=>Promise.all(e.map(r=>r.continue().catch(At))))}},an=new WeakMap,xr=new WeakMap,ja=new WeakMap,C_);function iu(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ln,Kn,zt,un,pn,Eu,yf,I_,fT=(I_=class extends ao{constructor(r,s){super();he(this,pn);he(this,ln);he(this,Kn);he(this,zt);he(this,un);ee(this,ln,r),this.setOptions(s),this.bindMethods(),xe(this,pn,Eu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var o;const s=this.options;this.options=T(this,ln).defaultMutationOptions(r),Ru(this.options,s)||T(this,ln).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,zt),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Js(s.mutationKey)!==Js(this.options.mutationKey)?this.reset():((o=T(this,zt))==null?void 0:o.state.status)==="pending"&&T(this,zt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=T(this,zt))==null||r.removeObserver(this)}onMutationUpdate(r){xe(this,pn,Eu).call(this),xe(this,pn,yf).call(this,r)}getCurrentResult(){return T(this,Kn)}reset(){var r;(r=T(this,zt))==null||r.removeObserver(this),ee(this,zt,void 0),xe(this,pn,Eu).call(this),xe(this,pn,yf).call(this)}mutate(r,s){var o;return ee(this,un,s),(o=T(this,zt))==null||o.removeObserver(this),ee(this,zt,T(this,ln).getMutationCache().build(T(this,ln),this.options)),T(this,zt).addObserver(this),T(this,zt).execute(r)}},ln=new WeakMap,Kn=new WeakMap,zt=new WeakMap,un=new WeakMap,pn=new WeakSet,Eu=function(){var s;const r=((s=T(this,zt))==null?void 0:s.state)??sw();ee(this,Kn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},yf=function(r){lt.batch(()=>{var s,o,a,u,d,h,p,y;if(T(this,un)&&this.hasListeners()){const v=T(this,Kn).variables,_=T(this,Kn).context,b={client:T(this,ln),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((o=(s=T(this,un)).onSuccess)==null||o.call(s,r.data,v,_,b),(u=(a=T(this,un)).onSettled)==null||u.call(a,r.data,null,v,_,b)):(r==null?void 0:r.type)==="error"&&((h=(d=T(this,un)).onError)==null||h.call(d,r.error,v,_,b),(y=(p=T(this,un)).onSettled)==null||y.call(p,void 0,r.error,v,_,b))}this.listeners.forEach(v=>{v(T(this,Kn))})})},I_),Mr,O_,pT=(O_=class extends ao{constructor(e={}){super();he(this,Mr);this.config=e,ee(this,Mr,new Map)}build(e,r,s){const o=r.queryKey,a=r.queryHash??ap(o,r);let u=this.get(a);return u||(u=new oT({client:e,queryKey:o,queryHash:a,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(o)}),this.add(u)),u}add(e){T(this,Mr).has(e.queryHash)||(T(this,Mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=T(this,Mr).get(e.queryHash);r&&(e.destroy(),r===e&&T(this,Mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return T(this,Mr).get(e)}getAll(){return[...T(this,Mr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ey(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>ey(e,s)):r}notify(e){lt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mr=new WeakMap,O_),Je,Qn,Jn,Ki,Qi,Yn,Ji,Yi,A_,mT=(A_=class{constructor(t={}){he(this,Je);he(this,Qn);he(this,Jn);he(this,Ki);he(this,Qi);he(this,Yn);he(this,Ji);he(this,Yi);ee(this,Je,t.queryCache||new pT),ee(this,Qn,t.mutationCache||new hT),ee(this,Jn,t.defaultOptions||{}),ee(this,Ki,new Map),ee(this,Qi,new Map),ee(this,Yn,0)}mount(){nu(this,Yn)._++,T(this,Yn)===1&&(ee(this,Ji,up.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,Je).onFocus())})),ee(this,Yi,Pu.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,Je).onOnline())})))}unmount(){var t,e;nu(this,Yn)._--,T(this,Yn)===0&&((t=T(this,Ji))==null||t.call(this),ee(this,Ji,void 0),(e=T(this,Yi))==null||e.call(this),ee(this,Yi,void 0))}isFetching(t){return T(this,Je).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return T(this,Qn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=T(this,Je).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=T(this,Je).build(this,e),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(es(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return T(this,Je).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),o=T(this,Je).get(s.queryHash),a=o==null?void 0:o.state.data,u=Jk(e,a);if(u!==void 0)return T(this,Je).build(this,s).setData(u,{...r,manual:!0})}setQueriesData(t,e,r){return lt.batch(()=>T(this,Je).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=T(this,Je).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=T(this,Je);lt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=T(this,Je);return lt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},s=lt.batch(()=>T(this,Je).findAll(t).map(o=>o.cancel(r)));return Promise.all(s).then(At).catch(At)}invalidateQueries(t,e={}){return lt.batch(()=>(T(this,Je).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},s=lt.batch(()=>T(this,Je).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(At)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(At)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=T(this,Je).build(this,e);return r.isStaleByTime(es(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(At).catch(At)}fetchInfiniteQuery(t){return t.behavior=ly(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(At).catch(At)}ensureInfiniteQueryData(t){return t.behavior=ly(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Pu.isOnline()?T(this,Qn).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,Je)}getMutationCache(){return T(this,Qn)}getDefaultOptions(){return T(this,Jn)}setDefaultOptions(t){ee(this,Jn,t)}setQueryDefaults(t,e){T(this,Ki).set(Js(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...T(this,Ki).values()],r={};return e.forEach(s=>{Sa(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,e){T(this,Qi).set(Js(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...T(this,Qi).values()],r={};return e.forEach(s=>{Sa(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...T(this,Jn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ap(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===lp&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...T(this,Jn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){T(this,Je).clear(),T(this,Qn).clear()}},Je=new WeakMap,Qn=new WeakMap,Jn=new WeakMap,Ki=new WeakMap,Qi=new WeakMap,Yn=new WeakMap,Ji=new WeakMap,Yi=new WeakMap,A_),iw=I.createContext(void 0),lo=t=>{const e=I.useContext(iw);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gT=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(iw.Provider,{value:t,children:e})),ow=I.createContext(!1),yT=()=>I.useContext(ow);ow.Provider;function vT(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var _T=I.createContext(vT()),wT=()=>I.useContext(_T),bT=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},ET=t=>{I.useEffect(()=>{t.clearReset()},[t])},ST=({result:t,errorResetBoundary:e,throwOnError:r,query:s,suspense:o})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(o&&t.data===void 0||Z_(r,[t.error,s])),xT=t=>{if(t.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...o)=>r(s(...o)):r(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},kT=(t,e)=>t.isLoading&&t.isFetching&&!e,TT=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,cy=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function CT(t,e,r){var v,_,b,x,S;const s=yT(),o=wT(),a=lo(),u=a.defaultQueryOptions(t);(_=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||_.call(v,u),u._optimisticResults=s?"isRestoring":"optimistic",xT(u),bT(u,o),ET(o);const d=!a.getQueryCache().get(u.queryHash),[h]=I.useState(()=>new e(a,u)),p=h.getOptimisticResult(u),y=!s&&t.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(E=>{const N=y?h.subscribe(lt.batchCalls(E)):At;return h.updateResult(),N},[h,y]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),I.useEffect(()=>{h.setOptions(u)},[u,h]),TT(u,p))throw cy(u,h,o);if(ST({result:p,errorResetBoundary:o,throwOnError:u.throwOnError,query:a.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if((x=(b=a.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||x.call(b,u,p),u.experimental_prefetchInRender&&!Qs&&kT(p,s)){const E=d?cy(u,h,o):(S=a.getQueryCache().get(u.queryHash))==null?void 0:S.promise;E==null||E.catch(At).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?p:h.trackResult(p)}function Ma(t,e){return CT(t,aT)}function Zi(t,e){const r=lo(),[s]=I.useState(()=>new fT(r,t));I.useEffect(()=>{s.setOptions(t)},[s,t]);const o=I.useSyncExternalStore(I.useCallback(u=>s.subscribe(lt.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=I.useCallback((u,d)=>{s.mutate(u,d).catch(At)},[s]);if(o.error&&Z_(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}var en={},ou={},vf=function(t,e){return vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},vf(t,e)};function aw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ju=function(){return ju=Object.assign||function(e){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ju.apply(this,arguments)};function uo(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r}function lw(t,e,r,s){var o=arguments.length,a=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,s);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(a=(o<3?u(a):o>3?u(e,r,a):u(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}function uw(t,e){return function(r,s){e(r,s,t)}}function cw(t,e,r,s,o,a){function u(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var d=s.kind,h=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?s.static?t:t.prototype:null,y=e||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),v,_=!1,b=r.length-1;b>=0;b--){var x={};for(var S in s)x[S]=S==="access"?{}:s[S];for(var S in s.access)x.access[S]=s.access[S];x.addInitializer=function(N){if(_)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(N||null))};var E=(0,r[b])(d==="accessor"?{get:y.get,set:y.set}:y[h],x);if(d==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(v=u(E.get))&&(y.get=v),(v=u(E.set))&&(y.set=v),(v=u(E.init))&&o.unshift(v)}else(v=u(E))&&(d==="field"?o.unshift(v):y[h]=v)}p&&Object.defineProperty(p,s.name,y),_=!0}function dw(t,e,r){for(var s=arguments.length>2,o=0;o<e.length;o++)r=s?e[o].call(t,r):e[o].call(t);return s?r:void 0}function hw(t){return typeof t=="symbol"?t:"".concat(t)}function fw(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function pw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ie(t,e,r,s){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function d(y){try{p(s.next(y))}catch(v){u(v)}}function h(y){try{p(s.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):o(y.value).then(d,h)}p((s=s.apply(t,e||[])).next())})}function mw(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,o,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(y){return h([p,y])}}function h(p){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(s=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(y){p=[6,y],o=0}finally{s=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var uc=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,o)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function gw(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uc(e,t,r)}function Lu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dp(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),o,a=[],u;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)a.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return a}function yw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(dp(arguments[e]));return t}function vw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],u=0,d=a.length;u<d;u++,o++)s[o]=a[u];return s}function _w(t,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}function Xi(t){return this instanceof Xi?(this.v=t,this):new Xi(t)}function ww(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(b){return function(x){return Promise.resolve(x).then(b,v)}}function d(b,x){s[b]&&(o[b]=function(S){return new Promise(function(E,N){a.push([b,S,E,N])>1||h(b,S)})},x&&(o[b]=x(o[b])))}function h(b,x){try{p(s[b](x))}catch(S){_(a[0][3],S)}}function p(b){b.value instanceof Xi?Promise.resolve(b.value.v).then(y,v):_(a[0][2],b)}function y(b){h("next",b)}function v(b){h("throw",b)}function _(b,x){b(x),a.shift(),a.length&&h(a[0][0],a[0][1])}}function bw(t){var e,r;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,a){e[o]=t[o]?function(u){return(r=!r)?{value:Xi(t[o](u)),done:!1}:a?a(u):u}:a}}function Ew(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Lu=="function"?Lu(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(a){r[a]=t[a]&&function(u){return new Promise(function(d,h){u=t[a](u),o(d,h,u.done,u.value)})}}function o(a,u,d,h){Promise.resolve(h).then(function(p){a({value:p,done:d})},u)}}function Sw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var IT=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},_f=function(t){return _f=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},_f(t)};function xw(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=_f(t),s=0;s<r.length;s++)r[s]!=="default"&&uc(e,t,r[s]);return IT(e,t),e}function kw(t){return t&&t.__esModule?t:{default:t}}function Tw(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function Cw(t,e,r,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function Iw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Ow(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var OT=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function Aw(t){function e(a){t.error=t.hasError?new OT(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,s=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(a).then(o,function(u){return e(u),o()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function Nw(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,o,a,u){return s?e?".jsx":".js":o&&(!a||!u)?r:o+a+"."+u.toLowerCase()+"js"}):t}const AT={__extends:aw,__assign:ju,__rest:uo,__decorate:lw,__param:uw,__esDecorate:cw,__runInitializers:dw,__propKey:hw,__setFunctionName:fw,__metadata:pw,__awaiter:ie,__generator:mw,__createBinding:uc,__exportStar:gw,__values:Lu,__read:dp,__spread:yw,__spreadArrays:vw,__spreadArray:_w,__await:Xi,__asyncGenerator:ww,__asyncDelegator:bw,__asyncValues:Ew,__makeTemplateObject:Sw,__importStar:xw,__importDefault:kw,__classPrivateFieldGet:Tw,__classPrivateFieldSet:Cw,__classPrivateFieldIn:Iw,__addDisposableResource:Ow,__disposeResources:Aw,__rewriteRelativeImportExtension:Nw},NT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ow,get __assign(){return ju},__asyncDelegator:bw,__asyncGenerator:ww,__asyncValues:Ew,__await:Xi,__awaiter:ie,__classPrivateFieldGet:Tw,__classPrivateFieldIn:Iw,__classPrivateFieldSet:Cw,__createBinding:uc,__decorate:lw,__disposeResources:Aw,__esDecorate:cw,__exportStar:gw,__extends:aw,__generator:mw,__importDefault:kw,__importStar:xw,__makeTemplateObject:Sw,__metadata:pw,__param:uw,__propKey:hw,__read:dp,__rest:uo,__rewriteRelativeImportExtension:Nw,__runInitializers:dw,__setFunctionName:fw,__spread:yw,__spreadArray:_w,__spreadArrays:vw,__values:Lu,default:AT},Symbol.toStringTag,{value:"Module"})),RT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let cc=class extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}},Rw=class extends cc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},wf=class extends cc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},bf=class extends cc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Du;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Du||(Du={}));class PT{constructor(e,{headers:r={},customFetch:s,region:o=Du.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=RT(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ie(this,arguments,void 0,function*(r,s={}){var o;let a,u;try{const{headers:d,method:h,body:p,signal:y,timeout:v}=s;let _={},{region:b}=s;b||(b=this.region);const x=new URL(`${this.url}/${r}`);b&&b!=="any"&&(_["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let S;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",S=p):typeof p=="string"?(_["Content-Type"]="text/plain",S=p):typeof FormData<"u"&&p instanceof FormData?S=p:(_["Content-Type"]="application/json",S=JSON.stringify(p)):S=p;let E=y;v&&(u=new AbortController,a=setTimeout(()=>u.abort(),v),y?(E=u.signal,y.addEventListener("abort",()=>u.abort())):E=u.signal);const N=yield this.fetch(x.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),d),body:S,signal:E}).catch(H=>{throw new Rw(H)}),F=N.headers.get("x-relay-error");if(F&&F==="true")throw new wf(N);if(!N.ok)throw new bf(N);let j=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),B;return j==="application/json"?B=yield N.json():j==="application/octet-stream"||j==="application/pdf"?B=yield N.blob():j==="text/event-stream"?B=N:j==="multipart/form-data"?B=yield N.formData():B=yield N.text(),{data:B,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof bf||d instanceof wf?d.context:void 0}}finally{a&&clearTimeout(a)}})}}const jT=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Du},FunctionsClient:PT,FunctionsError:cc,FunctionsFetchError:Rw,FunctionsHttpError:bf,FunctionsRelayError:wf},Symbol.toStringTag,{value:"Module"})),Pw=La(jT);var xt={};const co=La(NT);var au={},lu={},uu={},cu={},du={},hu={},dy;function jw(){if(dy)return hu;dy=1,Object.defineProperty(hu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return hu.default=t,hu}var hy;function Lw(){if(hy)return du;hy=1,Object.defineProperty(du,"__esModule",{value:!0});const e=co.__importDefault(jw());let r=class{constructor(o){var a,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,y,v,_;let b=null,x=null,S=null,E=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const H=await h.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?x=H:x=JSON.parse(H))}const j=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),B=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");j&&B&&B.length>1&&(S=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,S=null,E=406,N="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const j=await h.text();try{b=JSON.parse(j),Array.isArray(b)&&h.status===404&&(x=[],b=null,E=200,N="OK")}catch{h.status===404&&j===""?(E=204,N="No Content"):b={message:j}}if(b&&this.isMaybeSingle&&(!((_=b==null?void 0:b.details)===null||_===void 0)&&_.includes("0 rows"))&&(b=null,E=200,N="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:x,count:S,status:E,statusText:N}});return this.shouldThrowOnError||(d=d.catch(h=>{var p,y,v,_,b,x;let S="";const E=h==null?void 0:h.cause;if(E){const N=(p=E==null?void 0:E.message)!==null&&p!==void 0?p:"",F=(y=E==null?void 0:E.code)!==null&&y!==void 0?y:"";S=`${(v=h==null?void 0:h.name)!==null&&v!==void 0?v:"FetchError"}: ${h==null?void 0:h.message}`,S+=`

Caused by: ${(_=E==null?void 0:E.name)!==null&&_!==void 0?_:"Error"}: ${N}`,F&&(S+=` (${F})`),E!=null&&E.stack&&(S+=`
${E.stack}`)}else S=(b=h==null?void 0:h.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(x=h==null?void 0:h.name)!==null&&x!==void 0?x:"FetchError"}: ${h==null?void 0:h.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(o,a)}returns(){return this}overrideTypes(){return this}};return du.default=r,du}var fy;function Dw(){if(fy)return cu;fy=1,Object.defineProperty(cu,"__esModule",{value:!0});const e=co.__importDefault(Lw());let r=class extends e.default{select(o){let a=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,a,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:p="text"}={}){var y;const v=[o?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${_}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return cu.default=r,cu}var py;function hp(){if(py)return uu;py=1,Object.defineProperty(uu,"__esModule",{value:!0});const e=co.__importDefault(Dw()),r=new RegExp("[,()]");let s=class extends e.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}regexMatch(a,u){return this.url.searchParams.append(a,`match.${u}`),this}regexIMatch(a,u){return this.url.searchParams.append(a,`imatch.${u}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}isDistinct(a,u){return this.url.searchParams.append(a,`isdistinct.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${p}fts${y}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}};return uu.default=s,uu}var my;function Fw(){if(my)return lu;my=1,Object.defineProperty(lu,"__esModule",{value:!0});const e=co.__importDefault(hp());let r=class{constructor(o,{headers:a={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(a),this.schema=u,this.fetch=d}select(o,a){const{head:u=!1,count:d}=a??{},h=u?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:u=!0}={}){var d;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(v.length>0){const _=[...new Set(v)].map(b=>`"${b}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var u;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var a;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return lu.default=r,lu}var gy;function LT(){if(gy)return au;gy=1,Object.defineProperty(au,"__esModule",{value:!0});const t=co,e=t.__importDefault(Fw()),r=t.__importDefault(hp());let s=class Mw{constructor(a,{headers:u={},schema:d,fetch:h}={}){this.url=a,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${a}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Mw(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:d=!1,get:h=!1,count:p}={}){var y;let v;const _=new URL(`${this.url}/rpc/${a}`);let b;d||h?(v=d?"HEAD":"GET",Object.entries(u).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{_.searchParams.append(S,E)})):(v="POST",b=u);const x=new Headers(this.headers);return p&&x.set("Prefer",`count=${p}`),new r.default({method:v,url:_,headers:x,schema:this.schemaName,body:b,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return au.default=s,au}var yy;function Uw(){if(yy)return xt;yy=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const t=co,e=t.__importDefault(LT());xt.PostgrestClient=e.default;const r=t.__importDefault(Fw());xt.PostgrestQueryBuilder=r.default;const s=t.__importDefault(hp());xt.PostgrestFilterBuilder=s.default;const o=t.__importDefault(Dw());xt.PostgrestTransformBuilder=o.default;const a=t.__importDefault(Lw());xt.PostgrestBuilder=a.default;const u=t.__importDefault(jw());return xt.PostgrestError=u.default,xt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:u.default},xt}class $w{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const DT="2.87.1",FT=`realtime-js/${DT}`,Bw="1.0.0",MT="2.0.0",vy=Bw,Ef=1e4,UT=1e3,$T=100;var Cs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Cs||(Cs={}));var tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(tt||(tt={}));var kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kr||(kr={}));var Sf;(function(t){t.websocket="websocket"})(Sf||(Sf={}));var Is;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Is||(Is={}));class BT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const o=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,s;const o=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,s){var o,a;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",h=(a=e.join_ref)!==null&&a!==void 0?a:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length+v.length,b=new ArrayBuffer(this.HEADER_LENGTH+_);let x=new DataView(b),S=0;x.setUint8(S++,this.KINDS.userBroadcastPush),x.setUint8(S++,h.length),x.setUint8(S++,d.length),x.setUint8(S++,u.length),x.setUint8(S++,p.length),x.setUint8(S++,v.length),x.setUint8(S++,r),Array.from(h,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(d,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(u,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(p,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(v,N=>x.setUint8(S++,N.charCodeAt(0)));var E=new Uint8Array(b.byteLength+s.byteLength);return E.set(new Uint8Array(b),0),E.set(new Uint8Array(s),b.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,a,u,d,h]=s;return r({join_ref:o,ref:a,topic:u,event:d,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodeUserBroadcast(e,r,s){const o=r.getUint8(1),a=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const p=s.decode(e.slice(h,h+o));h=h+o;const y=s.decode(e.slice(h,h+a));h=h+a;const v=s.decode(e.slice(h,h+u));h=h+u;const _=e.slice(h,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(s.decode(_)):_,x={type:this.BROADCAST_EVENT,event:y,payload:b};return u>0&&(x.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class zw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const _y=(t,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=zT(u,t,e,o),a),{}):{}},zT=(t,e,r,s)=>{const o=e.find(d=>d.name===t),a=o==null?void 0:o.type,u=r[t];return a&&!s.includes(a)?Vw(a,u):xf(u)},Vw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return qT(e,r)}switch(t){case $e.bool:return VT(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return WT(e);case $e.json:case $e.jsonb:return HT(e);case $e.timestamp:return GT(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return xf(e);default:return xf(e)}},xf=t=>t,VT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},WT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},HT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qT=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let a;const u=t.slice(1,r);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>Vw(e,d))}return t},GT=t=>typeof t=="string"?t.replace(" ","T"):t,Ww=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ch{constructor(e,r,s={},o=Ef){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(kf||(kf={}));let Hw=class Su{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Su.syncState(this.state,o,a,u),this.pendingDiffs.forEach(h=>{this.state=Su.syncDiff(this.state,h,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Su.syncDiff(this.state,o,a,u),d())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const a=this.cloneDeep(e),u=this.transformState(r),d={},h={};return this.map(a,(p,y)=>{u[p]||(h[p]=y)}),this.map(u,(p,y)=>{const v=a[p];if(v){const _=y.map(E=>E.presence_ref),b=v.map(E=>E.presence_ref),x=y.filter(E=>b.indexOf(E.presence_ref)<0),S=v.filter(E=>_.indexOf(E.presence_ref)<0);x.length>0&&(d[p]=x),S.length>0&&(h[p]=S)}else d[p]=y}),this.syncDiff(a,{joins:d,leaves:h},s,o)}static syncDiff(e,r,s,o){const{joins:a,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(d,h)=>{var p;const y=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),y.length>0){const v=e[d].map(b=>b.presence_ref),_=y.filter(b=>v.indexOf(b.presence_ref)<0);e[d].unshift(..._)}s(d,y,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const y=h.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),e[d]=p,o(d,p,h),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Tf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Tf||(Tf={}));var Mi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Mi||(Mi={}));var Lr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Lr||(Lr={}));const KT=tt;let qw=class ma{constructor(e,r={config:{}},s){var o,a;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ch(this,kr.join,this.params,this.timeout),this.rejoinTimer=new zw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Hw(this),this.broadcastEndpointURL=Ww(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Mi.PRESENCE]&&this.bindings[Mi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},_={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Lr.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Lr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Lr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(x=S==null?void 0:S.length)!==null&&x!==void 0?x:0,N=[];for(let F=0;F<E;F++){const j=S[F],{filter:{event:B,schema:H,table:G,filter:Z}}=j,oe=b&&b[F];if(oe&&oe.event===B&&ma.isFilterValueEqual(oe.schema,H)&&ma.isFilterValueEqual(oe.table,G)&&ma.isFilterValueEqual(oe.filter,Z))N.push(Object.assign(Object.assign({},j),{id:oe.id}));else{this.unsubscribe(),this.state=tt.errored,e==null||e(Lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Lr.SUBSCRIBED);return}}).receive("error",b=>{this.state=tt.errored,e==null||e(Lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===tt.joined&&e===Mi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,h;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Ch(this,kr.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,a=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ch(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$T){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,a;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:y}=kr;if(s&&[d,h,p,y].indexOf(u)>=0&&s!==this._joinRef())return;let _=this._onMessage(u,r,s);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var x,S,E;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((E=(S=b.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(b=>b.callback(_,s)):(a=this.bindings[u])===null||a===void 0||a.filter(b=>{var x,S,E,N,F,j;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const B=b.id,H=(x=b.filter)===null||x===void 0?void 0:x.event;return B&&((S=r.ids)===null||S===void 0?void 0:S.includes(B))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const B=(F=(N=b==null?void 0:b.filter)===null||N===void 0?void 0:N.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return B==="*"||B===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof _=="object"&&"ids"in _){const x=_.data,{schema:S,table:E,commit_timestamp:N,type:F,errors:j}=x;_=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:N,eventType:F,new:{},old:{},errors:j}),this._getPayloadRecords(x))}b.callback(_,s)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),a={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&ma.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kr.close,{},e)}_onError(e){this._on(kr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=_y(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=_y(e.columns,e.old_record)),r}};const Ih=()=>{},fu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},QT=[1e3,2e3,5e3,1e4],JT=1e4,YT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let ZT=class{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ef,this.transport=null,this.heartbeatIntervalMs=fu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ih,this.ref=0,this.reconnectTimer=null,this.vsn=vy,this.logger=Ih,this.conn=null,this.sendBuffer=[],this.serializer=new BT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Sf.websocket}`,this.httpEndpoint=Ww(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$w.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Cs.connecting:return Is.Connecting;case Cs.open:return Is.Open;case Cs.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===s);if(o)return o;{const a=new qw(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:s,payload:o,ref:a}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${s} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(UT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:a,ref:u}=r,d=u?`(${u})`:"",h=a.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),a),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Cs.open||this.conn.readyState===Cs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([YT],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const a={access_token:r,version:FT};r&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(kr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new zw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,a,u,d,h,p,y,v,_,b;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Ef,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:fu.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Ih,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:vy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(x=>QT[x-1]||JT),this.vsn){case Bw:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((x,S)=>S(JSON.stringify(x))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((x,S)=>S(JSON.parse(x)));break;case MT:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const XT=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:KT,get REALTIME_LISTEN_TYPES(){return Mi},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Tf},get REALTIME_PRESENCE_LISTEN_EVENTS(){return kf},get REALTIME_SUBSCRIBE_STATES(){return Lr},RealtimeChannel:qw,RealtimeClient:ZT,RealtimePresence:Hw,WebSocketFactory:$w},Symbol.toStringTag,{value:"Module"})),Gw=La(XT);class Ua extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function He(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Kw extends Ua{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fu extends Ua{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const fp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eC=()=>Response,Cf=t=>{if(Array.isArray(t))return t.map(r=>Cf(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Cf(s)}),e},tC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rC=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Oh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},nC=(t,e,r)=>ie(void 0,void 0,void 0,function*(){const s=yield eC();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(o=>{const a=t.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new Kw(Oh(o),a,u))}).catch(o=>{e(new Fu(Oh(o),o))}):e(new Fu(Oh(t),t))}),sC=(t,e,r,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?o:(tC(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function $a(t,e,r,s,o,a){return ie(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,sC(e,s,o,a)).then(h=>{if(!h.ok)throw h;return s!=null&&s.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>nC(h,d,s))})})}function xa(t,e,r,s){return ie(this,void 0,void 0,function*(){return $a(t,"GET",e,r,s)})}function Er(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return $a(t,"POST",e,s,o,r)})}function If(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return $a(t,"PUT",e,s,o,r)})}function iC(t,e,r,s){return ie(this,void 0,void 0,function*(){return $a(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function pp(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return $a(t,"DELETE",e,s,o,r)})}class oC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}})}}var Qw;class aC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Qw]="BlobDownloadBuilder",this.promise=null}asStream(){return new oC(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}})}}Qw=Symbol.toStringTag;const lC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uC{constructor(e,r={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=fp(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,o){return ie(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},wy),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),h&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(h))):(a=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(r),y=this._getFinalPath(p),v=yield(e=="PUT"?If:Er)(this.fetch,`${this.url}/object/${y}`,a,Object.assign({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}upload(e,r,s){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,o){return ie(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const p=Object.assign({upsert:wy.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",p.cacheControl)):(h=s,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const v=yield If(this.fetch,d.toString(),h,{headers:y});return{data:{path:a,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(He(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const a=yield Er(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new Ua("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}update(e,r,s){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return ie(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}copy(e,r,s){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,s){return ie(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Er(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,s){return ie(this,void 0,void 0,function*(){try{const o=yield Er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=a?`?${a}`:"",d=this._getFinalPath(e),h=()=>xa(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new aC(h,this.shouldThrowOnError)}info(e){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield xa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Cf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}exists(e){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield iC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s)&&s instanceof Fu){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),o=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&o.push(a);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&o.push(h);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(e){return ie(this,void 0,void 0,function*(){try{return{data:yield pp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}list(e,r,s){return ie(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},lC),r),{prefix:e||""});return{data:yield Er(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}listV2(e,r){return ie(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Er(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Jw="2.87.1",Yw={"X-Client-Info":`storage-js/${Jw}`};class cC{constructor(e,r={},s,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yw),r),this.fetch=fp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield xa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}createBucket(e){return ie(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return ie(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield pp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ka=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function dC(t,e,r){const s=new URL(e,t);if(r)for(const[o,a]of Object.entries(r))a!==void 0&&s.searchParams.set(o,a);return s.toString()}async function hC(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function fC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:o,body:a,headers:u}){const d=dC(t.baseUrl,s,o),h=await hC(t.auth),p=await e(d,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...h,...u},body:a?JSON.stringify(a):void 0}),y=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),_=v&&y?JSON.parse(y):y;if(!p.ok){const b=v?_:void 0,x=b==null?void 0:b.error;throw new ka((x==null?void 0:x.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:b})}return{status:p.status,headers:p.headers,data:_}}}}function pu(t){return t.join("")}var pC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:pu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pu(t.namespace)}`}),!0}catch(e){if(e instanceof ka&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ka&&r.status===409)return;throw r}}};function Ii(t){return t.join("")}var mC=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ka&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ka&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},gC=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=fC({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new pC(this.client,e),this.tableOps=new mC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Zw{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yw),r),this.fetch=fp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBuckets(e){return ie(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield xa(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield pp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}from(e){if(!rC(e))throw new Ua("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new gC({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ie(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(a,u){const d=a[u];return typeof d!="function"?d:(...h)=>ie(this,void 0,void 0,function*(){try{return{data:yield d.apply(a,h),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}})}})}}const mp={"X-Client-Info":`storage-js/${Jw}`,"Content-Type":"application/json"};class gp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class xu extends gp{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xw extends gp{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Of;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Of||(Of={}));const dc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yC=()=>Response,eb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vC=t=>Array.from(new Float32Array(t)),_C=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},by=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wC=(t,e,r)=>ie(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";e(new xu(by(u),o,d))}).catch(()=>{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new xu(d,o,u))});else{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new xu(d,o,u))}}else e(new Xw(by(t),t))}),bC=(t,e,r,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(eb(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),r)):o};function EC(t,e,r,s,o,a){return ie(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,bC(e,s,o,a)).then(h=>{if(!h.ok)throw h;if(s!=null&&s.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>wC(h,d,s))})})}function Qt(t,e,r,s,o){return ie(this,void 0,void 0,function*(){return EC(t,"POST",e,s,o,r)})}class tb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mp),r),this.fetch=dc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ie(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}listIndexes(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ie(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}}class rb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mp),r),this.fetch=dc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}getVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}listVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Qt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}queryVectors(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ie(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}class nb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mp),r),this.fetch=dc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}getBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}listBuckets(){return ie(this,arguments,void 0,function*(e={}){try{return{data:yield Qt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ie(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}class sb extends nb{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new ib(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ie(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ie(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ie(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ie(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class ib extends tb{constructor(e,r,s,o){super(e,r,o),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ob(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ob extends rb{constructor(e,r,s,o,a){super(e,r,a),this.vectorBucketName=s,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class SC extends cC{constructor(e,r={},s,o){super(e,r,s,o)}from(e){return new uC(this.url,this.headers,e,this.fetch)}get vectors(){return new sb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Zw(this.url+"/iceberg",this.headers,this.fetch)}}const xC=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Zw,StorageApiError:Kw,StorageClient:SC,StorageError:Ua,StorageUnknownError:Fu,StorageVectorsApiError:xu,StorageVectorsClient:sb,StorageVectorsError:gp,get StorageVectorsErrorCode(){return Of},StorageVectorsUnknownError:Xw,VectorBucketApi:nb,VectorBucketScope:ib,VectorDataApi:rb,VectorIndexApi:tb,VectorIndexScope:ob,isPlainObject:eb,isStorageError:He,isStorageVectorsError:Vt,normalizeToFloat32:vC,resolveFetch:dc,resolveResponse:yC,validateVectorDimension:_C},Symbol.toStringTag,{value:"Module"})),kC=La(xC);var Ah={},ia={},Ey;function TC(){return Ey||(Ey=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.version=void 0,ia.version="2.87.1"),ia}var Sy;function CC(){return Sy||(Sy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=TC();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Ah)),Ah}var Nh={},xy;function IC(){return xy||(xy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=o=>o?(...a)=>o(...a):(...a)=>fetch(...a);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const s=(o,a,u)=>{const d=(0,t.resolveFetch)(u),h=(0,t.resolveHeadersConstructor)();return async(p,y)=>{var v;const _=(v=await a())!==null&&v!==void 0?v:o;let b=new h(y==null?void 0:y.headers);return b.has("apikey")||b.set("apikey",o),b.has("Authorization")||b.set("Authorization",`Bearer ${_}`),d(p,Object.assign(Object.assign({},y),{headers:b}))}};t.fetchWithAuth=s})(Nh)),Nh}var tn={},ky;function OC(){if(ky)return tn;ky=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.isBrowser=void 0,tn.uuid=t,tn.ensureTrailingSlash=e,tn.applySettingDefaults=s,tn.validateSupabaseUrl=o;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var u=Math.random()*16|0,d=a=="x"?u:u&3|8;return d.toString(16)})}function e(a){return a.endsWith("/")?a:a+"/"}const r=()=>typeof window<"u";tn.isBrowser=r;function s(a,u){var d,h;const{db:p,auth:y,realtime:v,global:_}=a,{db:b,auth:x,realtime:S,global:E}=u,N={db:Object.assign(Object.assign({},b),p),auth:Object.assign(Object.assign({},x),y),realtime:Object.assign(Object.assign({},S),v),storage:{},global:Object.assign(Object.assign(Object.assign({},E),_),{headers:Object.assign(Object.assign({},(d=E==null?void 0:E.headers)!==null&&d!==void 0?d:{}),(h=_==null?void 0:_.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return a.accessToken?N.accessToken=a.accessToken:delete N.accessToken,N}function o(a){const u=a==null?void 0:a.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return tn}var oa={};const ab="2.87.1",ji=30*1e3,Af=3,Rh=Af*ji,AC="http://localhost:9999",NC="supabase.auth.token",RC={"X-Client-Info":`gotrue-js/${ab}`},Nf="X-Supabase-Api-Version",lb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jC=600*1e3;let eo=class extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}};function de(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let ub=class extends eo{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}};function cb(t){return de(t)&&t.name==="AuthApiError"}let Bn=class extends eo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},yn=class extends eo{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}},$t=class extends yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function db(t){return de(t)&&t.name==="AuthSessionMissingError"}let xs=class extends yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ga=class extends yn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},ya=class extends yn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function hb(t){return de(t)&&t.name==="AuthImplicitGrantRedirectError"}let Rf=class extends yn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Mu=class extends yn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function ku(t){return de(t)&&t.name==="AuthRetryableFetchError"}let Pf=class extends yn{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}};function LC(t){return de(t)&&t.name==="AuthWeakPasswordError"}let Uu=class extends yn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const $u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ty=` 	
\r=`.split(""),DC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ty.length;e+=1)t[Ty[e].charCodeAt(0)]=-2;for(let e=0;e<$u.length;e+=1)t[$u[e].charCodeAt(0)]=e;return t})();function Cy(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r($u[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r($u[s]),e.queuedBits-=6}}function fb(t,e,r){const s=DC[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Iy(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{UC(u,s,r)};for(let u=0;u<t.length;u+=1)fb(t.charCodeAt(u),o,a);return e.join("")}function FC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function MC(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}FC(s,e)}}function UC(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ui(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)fb(t.charCodeAt(o),r,s);return new Uint8Array(e)}function $C(t){const e=[];return MC(t,r=>e.push(r)),new Uint8Array(e)}function js(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Cy(o,r,s)),Cy(null,r,s),e.join("")}function BC(t){return Math.round(Date.now()/1e3)+t}function zC(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",bs={tested:!1,writable:!1},pb=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bs.tested)return bs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bs.tested=!0,bs.writable=!0}catch{bs.tested=!0,bs.writable=!1}return bs.writable};function VC(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const mb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Li=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Es=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yt=async(t,e)=>{await t.removeItem(e)};class hc{constructor(){this.promise=new hc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}hc.promiseConstructor=Promise;function Ph(t){const e=t.split(".");if(e.length!==3)throw new Uu("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!PC.test(e[s]))throw new Uu("JWT not in base64url format");return{header:JSON.parse(Iy(e[0])),payload:JSON.parse(Iy(e[1])),signature:Ui(e[2]),raw:{header:e[0],payload:e[1]}}}async function HC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qC(t,e){return new Promise((s,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){s(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function GC(t){return("0"+t.toString(16)).substr(-2)}function KC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,GC).join("")}async function QC(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function JC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await QC(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oi(t,e,r=!1){const s=KC();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await Li(t,`${e}-code-verifier`,o);const a=await JC(s);return[a,s===a?"plain":"s256"]}const YC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZC(t){const e=t.headers.get(Nf);if(!e||!e.match(YC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function XC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function eI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ai(t){if(!tI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rI(t,e){return new Proxy(t,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,o)}})}function Oy(t){return JSON.parse(JSON.stringify(t))}const ks=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nI=[502,503,504];async function Ay(t){var e;if(!WC(t))throw new Mu(ks(t),0);if(nI.includes(t.status))throw new Mu(ks(t),t.status);let r;try{r=await t.json()}catch(a){throw new Bn(ks(a),a)}let s;const o=ZC(t);if(o&&o.getTime()>=lb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Pf(ks(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Pf(ks(r),t.status,r.weak_password.reasons);throw new ub(ks(r),t.status||500,s)}const sI=(t,e,r,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function ve(t,e,r,s){var o;const a=Object.assign({},s==null?void 0:s.headers);a[Nf]||(a[Nf]=lb["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const u=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await iI(t,e,r+d,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(h):{data:Object.assign({},h),error:null}}async function iI(t,e,r,s,o,a){const u=sI(e,s,o,a);let d;try{d=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new Mu(ks(h),0)}if(d.ok||await Ay(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(h){await Ay(h)}}function br(t){var e;let r=null;lI(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=BC(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Ny(t){const e=br(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function oI(t){return{data:t,error:null}}function aI(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:a}=t,u=uo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:a},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function Ry(t){return t}function lI(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tu=["global","local","others"];let yp=class{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=mb(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Tu[0]){if(Tu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tu.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zn})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=uo(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:aI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,a,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},y=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Ry});if(y.error)throw y.error;const v=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);p[`${E}Page`]=S}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(de(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ai(e);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ai(e);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zn})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Ai(e);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zn})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Ai(e.userId);try{const{data:r,error:s}=await ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ai(e.userId),Ai(e.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,o,a,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},y=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Ry});if(y.error)throw y.error;const v=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);p[`${E}Page`]=S}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(de(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}};function Py(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ts={debug:!!(globalThis&&pb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let gb=class extends vp{};class uI extends vp{}async function yb(t,e,r){Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ts.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const jy={};async function cI(t,e,r){var s;const o=(s=jy[t])!==null&&s!==void 0?s:Promise.resolve(),a=Promise.race([o.catch(()=>null),e>=0?new Promise((u,d)=>{setTimeout(()=>{d(new uI(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await r());return jy[t]=a.catch(async u=>{if(u&&u.isAcquireTimeout)return await o,null;throw u}),await a}function dI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function hI(t){return parseInt(t,16)}function fI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function pI(t){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:y,uri:v,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=vb(t.address),x=y?`${y}://${s}`:s,S=t.statement?`${t.statement}
`:"",E=`${x} wants you to sign in with your Ethereum account:
${b}

${S}`;let N=`URI: ${v}
Version: ${_}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),h&&(N+=`
Request ID: ${h}`),p){let F=`
Resources:`;for(const j of p){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);F+=`
- ${j}`}N+=F}return`${E}
${N}`}class rt extends Error{constructor({message:e,code:r,cause:s,name:o}){var a;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=o??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Bu extends rt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function mI({error:t,options:e}){var r,s,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(_b(u)){if(a.rp.id!==u)return new rt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function gI({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(_b(s)){if(r.rpId!==s)return new rt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class yI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const vI=new yI;function _I(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,o=uo(t,["challenge","user","excludeCredentials"]),a=Ui(e).buffer,u=Object.assign(Object.assign({},r),{id:Ui(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:a,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Ui(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function wI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=uo(t,["challenge","allowCredentials"]),o=Ui(e).buffer,a=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];a.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Ui(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function bI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:js(new Uint8Array(t.response.attestationObject)),clientDataJSON:js(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function EI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:js(new Uint8Array(o.authenticatorData)),clientDataJSON:js(new Uint8Array(o.clientDataJSON)),signature:js(new Uint8Array(o.signature)),userHandle:o.userHandle?js(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _b(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ly(){var t,e;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function SI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bu("Browser returned unexpected credential type",e)}:{data:null,error:new Bu("Empty credential response",e)}}catch(e){return{data:null,error:mI({error:e,options:t})}}}async function xI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bu("Browser returned unexpected credential type",e)}:{data:null,error:new Bu("Empty credential response",e)}}catch(e){return{data:null,error:gI({error:e,options:t})}}}const kI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))s[a]=u;else if(r(u))s[a]=u;else if(e(u)){const d=s[a];e(d)?s[a]=zu(d,u):s[a]=zu(u)}else s[a]=u}return s}function CI(t,e){return zu(kI,t,e||{})}function II(t,e){return zu(TI,t,e||{})}class OI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:o},a){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const h=o??vI.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=CI(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:y,error:v}=await SI({publicKey:p,signal:h});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const p=II(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:y,error:v}=await xI(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new Bn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!r)return{data:null,error:new eo("rpId is required for WebAuthn authentication")};try{if(!Ly())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:a});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new Bn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!r)return{data:null,error:new eo("rpId is required for WebAuthn registration")};try{if(!Ly())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:a});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new Bn("Unexpected error in register",u)}}}}dI();const AI={url:AC,storageKey:NC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Dy(t,e,r){return await r()}const Ni={};let _p=class jf{get jwks(){var e,r;return(r=(e=Ni[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ni[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},AI),e);if(this.storageKey=a.storageKey,this.instanceID=(r=jf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&vt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new yp({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=mb(a.fetch),this.lock=a.lock||Dy,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&vt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=yb:this.lock=Dy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new OI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:pb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Py(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Py(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ab}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(vt()&&(r=VC(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),vt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),hb(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?this._returnResult({error:r}):this._returnResult({error:new Bn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:br}),{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,s,o;try{let a;if("email"in e){const{email:y,password:v,options:_}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await Oi(this.storage,this.storageKey)),a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:v,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:b,code_challenge_method:x},xform:br})}else if("phone"in e){const{phone:y,password:v,options:_}=e;a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},channel:(o=_==null?void 0:_.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:br})}else throw new ga("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(await yt(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:u,options:d}=e;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ny})}else if("phone"in e){const{phone:a,password:u,options:d}=e;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ny})}else throw new ga("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const a=new xs;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,a,u,d,h,p,y,v,_;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:S,wallet:E,statement:N,options:F}=e;let j;if(vt())if(typeof E=="object")j=E;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")j=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(F!=null&&F.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=E}const B=new URL((r=F==null?void 0:F.url)!==null&&r!==void 0?r:window.location.href),H=await j.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=vb(H[0]);let Z=(s=F==null?void 0:F.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!Z){const ae=await j.request({method:"eth_chainId"});Z=hI(ae)}const oe={domain:B.host,address:G,statement:N,uri:B.href,version:"1",chainId:Z,nonce:(o=F==null?void 0:F.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=F==null?void 0:F.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=F==null?void 0:F.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=F==null?void 0:F.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=F==null?void 0:F.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=F==null?void 0:F.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=pI(oe),x=await j.request({method:"personal_sign",params:[fI(b),G]})}try{const{data:S,error:E}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:br});if(E)throw E;if(!S||!S.session||!S.user){const N=new xs;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:E})}catch(S){if(de(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,s,o,a,u,d,h,p,y,v,_,b;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:E,wallet:N,statement:F,options:j}=e;let B;if(vt())if(typeof N=="object")B=N;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))B=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=N}const H=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const G=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),F?{statement:F}:null));let Z;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")Z=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)Z=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)x=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),S=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${H.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...F?["",F,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(o=(s=j==null?void 0:j.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((p=j==null?void 0:j.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((v=(y=j==null?void 0:j.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...j.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const G=await B.signMessage(new TextEncoder().encode(x),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=G}}try{const{data:E,error:N}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:js(S)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:br});if(N)throw N;if(!E||!E.session||!E.user){const F=new xs;return this._returnResult({data:{user:null,session:null},error:F})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:N})}catch(E){if(de(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await Es(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:a,error:u}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:br});if(await yt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const d=new xs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(await yt(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:a,nonce:u}=e,d=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:br}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const y=new xs;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,o,a,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Oi(this.storage,this.storageKey));const{error:v}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(s=h==null?void 0:h.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:y}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new ga("You must provide either an email or phone number.")}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),de(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,s;try{let o,a;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:br});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,s,o,a,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Oi(this.storage,this.storageKey));const p=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:oI});return!((a=p.data)===null||a===void 0)&&a.url&&vt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),de(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new $t;const{error:o}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(de(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:a}=e,{error:u}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:a}=e,{data:u,error:d}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ga("You must provide either an email or phone number and a type")}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Rh:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Es(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=jh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=rI(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zn}):await this._useSession(async r=>{var s,o,a;const{data:u,error:d}=r;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:zn})})}catch(r){if(de(r))return db(r)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new $t;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Oi(this.storage,this.storageKey));const{data:p,error:y}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:zn});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await yt(this.storage,`${this.storageKey}-code-verifier`),de(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const r=Date.now()/1e3;let s=r,o=!0,a=null;const{payload:u}=Ph(e.access_token);if(u.exp&&(s=u.exp,o=s<=r),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(de(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new $t;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!vt())throw new ya("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ya(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ya("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rf("No code detected.");const{data:F,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!a||!d||!u||!p)throw new ya("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(d);let _=y+v;h&&(_=parseInt(h));const b=_-y;b*1e3<=ji&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const x=_-v;y-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,_,y):y-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,_,y);const{data:S,error:E}=await this._getUser(a);if(E)throw E;const N={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:v,expires_at:_,refresh_token:u,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(s){if(de(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Es(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({error:a});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(cb(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=zC(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:a},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Oi(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await yt(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:o}=await this._useSession(async a=>{var u,d,h,p,y;const{data:v,error:_}=a;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return vt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(de(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:a}}=r;if(o)throw o;const{options:u,provider:d,token:h,access_token:p,nonce:y}=e,v=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a==null?void 0:a.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:br}),{data:_,error:b}=v;return b?this._returnResult({data:{user:null,session:null},error:b}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new xs}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:b}))}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:a,error:u}=r;if(u)throw u;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await qC(async o=>(o>0&&await HC(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:br})),(o,a)=>{const u=200*Math.pow(2,o);return a&&ku(a)&&Date.now()+u-s<ji})}catch(s){if(this._debug(r,"error",s),de(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),vt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Es(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Es(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Li(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:jh()}else if(o&&!o.user&&!o.user){const u=await Es(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await yt(this.storage,this.storageKey+"-user"),await Li(this.storage,this.storageKey,o)):o.user=jh()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Rh;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Rh}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),ku(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new hc;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new $t;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(o,"error",a),de(a)){const u={data:null,error:a};return ku(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){a.push(h)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Li(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const a=Oy(o);await Li(this.storage,this.storageKey,a)}else{const o=Oy(r);await Li(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ji);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/ji);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ji}ms, refresh threshold is ${Af} ticks`),o<=Af&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof vp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,u]=await Oi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;return a?this._returnResult({data:null,error:a}):await ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:a,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?bI(e.webauthn.credential_response):EI(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:_I(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:wI(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ph(s.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new $t})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new $t});const u=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&vt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new $t});const u=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&vt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new $t})})}catch(e){if(de(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+jC>o)return s;const{data:a,error:u}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});s=b.session.access_token}const{header:o,payload:a,signature:u,raw:{header:d,payload:h}}=Ph(s);r!=null&&r.allowExpired||XC(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:a,header:o,signature:u},error:null}}const y=eI(o.alg),v=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,$C(`${d}.${h}`)))throw new Uu("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}};_p.nextInstanceID={};const NI=yp,RI=_p,PI=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:NI,AuthApiError:ub,AuthClient:RI,AuthError:eo,AuthImplicitGrantRedirectError:ya,AuthInvalidCredentialsError:ga,AuthInvalidJwtError:Uu,AuthInvalidTokenResponseError:xs,AuthPKCEGrantCodeExchangeError:Rf,AuthRetryableFetchError:Mu,AuthSessionMissingError:$t,AuthUnknownError:Bn,AuthWeakPasswordError:Pf,CustomAuthError:yn,GoTrueAdminApi:yp,GoTrueClient:_p,NavigatorLockAcquireTimeoutError:gb,SIGN_OUT_SCOPES:Tu,isAuthApiError:cb,isAuthError:de,isAuthImplicitGrantRedirectError:hb,isAuthRetryableFetchError:ku,isAuthSessionMissingError:db,isAuthWeakPasswordError:LC,lockInternals:Ts,navigatorLock:yb,processLock:cI},Symbol.toStringTag,{value:"Module"})),wb=La(PI);var Fy;function jI(){if(Fy)return oa;Fy=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.SupabaseAuthClient=void 0;const t=wb;let e=class extends t.AuthClient{constructor(s){super(s)}};return oa.SupabaseAuthClient=e,oa}var My;function Uy(){if(My)return ou;My=1,Object.defineProperty(ou,"__esModule",{value:!0});const t=Pw,e=Uw(),r=Gw,s=kC,o=CC(),a=IC(),u=OC(),d=jI();class h{constructor(y,v,_){var b,x,S;this.supabaseUrl=y,this.supabaseKey=v;const E=(0,u.validateSupabaseUrl)(y);if(!v)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const N=`sb-${E.hostname.split(".")[0]}-auth-token`,F={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:N}),global:o.DEFAULT_GLOBAL_OPTIONS},j=(0,u.applySettingDefaults)(_??{},F);this.storageKey=(b=j.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(x=j.global.headers)!==null&&x!==void 0?x:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(B,H)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(H)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((S=j.auth)!==null&&S!==void 0?S:{},this.headers,j.global.fetch),this.fetch=(0,a.fetchWithAuth)(v,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(B=>this.realtime.setAuth(B)).catch(B=>console.warn("Failed to set initial Realtime auth token:",B)),this.rest=new e.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,_==null?void 0:_.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,v={},_={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,v,_)}channel(y,v={config:{}}){return this.realtime.channel(y,v)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,v;if(this.accessToken)return await this.accessToken();const{data:_}=await this.auth.getSession();return(v=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:v,detectSessionInUrl:_,storage:b,userStorage:x,storageKey:S,flowType:E,lock:N,debug:F,throwOnError:j},B,H){const G={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},G),B),storageKey:S,autoRefreshToken:y,persistSession:v,detectSessionInUrl:_,storage:b,userStorage:x,flowType:E,lock:N,debug:F,throwOnError:j,fetch:H,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Z=>Z.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((v,_)=>{this._handleTokenChanged(v,"CLIENT",_==null?void 0:_.access_token)})}_handleTokenChanged(y,v,_){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==_?(this.changedAccessToken=_,this.realtime.setAuth(_)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),v=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return ou.default=h,ou}var $y;function LI(){return $y||($y=1,(function(t){var e=en&&en.__createBinding||(Object.create?(function(y,v,_,b){b===void 0&&(b=_);var x=Object.getOwnPropertyDescriptor(v,_);(!x||("get"in x?!v.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return v[_]}}),Object.defineProperty(y,b,x)}):(function(y,v,_,b){b===void 0&&(b=_),y[b]=v[_]})),r=en&&en.__exportStar||function(y,v){for(var _ in y)_!=="default"&&!Object.prototype.hasOwnProperty.call(v,_)&&e(v,y,_)},s=en&&en.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const o=s(Uy());r(wb,t);var a=Uw();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var u=Pw;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),r(Gw,t);var d=Uy();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return s(d).default}});const h=(y,v,_)=>new o.default(y,v,_);t.createClient=h;function p(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const v=y.match(/^v(\d+)\./);return v?parseInt(v[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(en)),en}var bb=LI();const Eb=tp(bb),DI=N_({__proto__:null,default:Eb},[bb]),{PostgrestError:tD,FunctionsHttpError:rD,FunctionsFetchError:nD,FunctionsRelayError:sD,FunctionsError:iD,FunctionRegion:oD,SupabaseClient:aD,createClient:FI,GoTrueAdminApi:lD,GoTrueClient:uD,AuthAdminApi:cD,AuthClient:dD,navigatorLock:hD,NavigatorLockAcquireTimeoutError:fD,lockInternals:pD,processLock:mD,SIGN_OUT_SCOPES:gD,AuthError:yD,AuthApiError:vD,AuthUnknownError:_D,CustomAuthError:wD,AuthSessionMissingError:bD,AuthInvalidTokenResponseError:ED,AuthInvalidCredentialsError:SD,AuthImplicitGrantRedirectError:xD,AuthPKCEGrantCodeExchangeError:kD,AuthRetryableFetchError:TD,AuthWeakPasswordError:CD,AuthInvalidJwtError:ID,isAuthError:OD,isAuthApiError:AD,isAuthSessionMissingError:ND,isAuthImplicitGrantRedirectError:RD,isAuthRetryableFetchError:PD,isAuthWeakPasswordError:jD,RealtimePresence:LD,RealtimeChannel:DD,RealtimeClient:FD,REALTIME_LISTEN_TYPES:MD,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:UD,REALTIME_PRESENCE_LISTEN_EVENTS:$D,REALTIME_SUBSCRIBE_STATES:BD,REALTIME_CHANNEL_STATES:zD}=Eb||DI,MI="",UI="",$I="solicitudes_pps",BI="practicas",zI="estudiantes",VI="lanzamientos_pps",WI="convocatorias",HI="instituciones",qI="finalizacion_pps",GI="penalizaciones",Lf=$I,VD=BI,WD=zI,By=VI,KI=WI,HD=HI,zy=qI,qD=GI,Tr="legajo",ar="nombre",QI="nombre_separado",JI="apellido_separado",Cr="dni",lr="correo",Vu="telefono",ur="orientacion_elegida",Vy="estado",YI="user_id",Sb="notas_internas",GD="fecha_nacimiento",KD="genero",Lh="fecha_finalizacion",Ri="finalizaron",Wy="must_change_password",Hy="role",ZI="trabaja",Dh="certificado_trabajo",Gs="estudiante_id",ts="lanzamiento_id",QD="institucion_id",to="horas_realizadas",zr="nota",Ir="estado",rs="fecha_inicio",Jt="fecha_finalizacion",Vr="especialidad",cn="nombre_institucion",JD="legajo_busqueda",ut="nombre_pps",cr="estado_convocatoria",Di="estado_gestion",mu="cupos_disponibles",Xn="orientacion",$r="fecha_inicio",Br="fecha_finalizacion",YD="fecha_relanzamiento",dn="direccion",ZD="req_certificado_trabajo",XD="req_cv",e2="notas_gestion",gu="horario_seleccionado",Ls="horas_acreditadas",yu="informe",t2="permite_certificado",r2="codigo_tarjeta_campus",n2="telefono",s2="plantilla_seguro_url",i2="plazo_inscripcion_dias",o2="descripcion_larga",a2="actividades_lista",l2="requisito_obligatorio",u2="actividades_label",XI="fecha_inicio_inscripcion",c2="fecha_fin_inscripcion",eO="fecha_publicacion",d2="mensaje_whatsapp",h2="horarios_fijos",Rt="estado_inscripcion",Wu="informe_subido",Os="horario_seleccionado",dr="estudiante_id",hr="lanzamiento_id",xb="fecha_entrega_informe",wa="nombre_pps",Hu="fecha_inicio",qu="fecha_finalizacion",Gu="direccion",Ku="orientacion",Qu="horas_acreditadas",f2="cupos_disponibles",tO="legajo",rO="dni",nO="correo",p2="fecha_nacimiento",sO="telefono",iO="termino_cursar",qy="cursando_electivas",oO="finales_adeuda",aO="otra_situacion_academica",m2="certificado_url",lO="trabaja",uO="certificado_trabajo",cO="cv_url",Ta="estado_seguimiento",ro="nombre_alumno",Ju="nombre_institucion",Yu="estudiante_id",g2="actualizacion",y2="notas",Gy="legajo",Ky="email",v2="orientacion_sugerida",_2="localidad",w2="direccion_completa",b2="email_institucion",E2="telefono_institucion",S2="referente_institucion",x2="convenio_uflo",k2="tutor_disponible",T2="contacto_tutor",C2="tipo_practica",I2="descripcion_institucion",O2="legajo",A2="nombre",N2="password_hash",R2="salt",P2="role",j2="orientaciones",As="nombre",aa="telefono",la="direccion",ua="convenio_nuevo",ca="tutor",L2="codigo_tarjeta_campus",D2="orientaciones",Qy="logo_url",Jy="logo_invert_dark",Zu="estudiante_id",Xu="fecha_solicitud",ec="estado",dO="informe_final_url",hO="planilla_horas_url",fO="planilla_asistencia_url",pO="sugerencias_mejoras",F2="estudiante_id",M2="tipo_incumplimiento",U2="fecha_incidente",$2="notas",B2="puntaje_penalizacion",z2="convocatoria_afectada",V2="pps_email_monthly_count",W2="pps_email_current_month_key",mO=250,gO=70,yO=3,H2="Aviso Importante",q2="La informacin visualizada es una herramienta de seguimiento interno y no constituye un registro acadmico oficial, por lo que podra contener discrepancias. Para un registro ms preciso, se recomienda utilizar su Planilla de Seguimiento personal. Recuerde que tiene la posibilidad de editar la fecha de finalizacin de sus prcticas directamente en este panel. Las correcciones de datos no son obligatorias, pero si desea realizarlas, deber enviar las planillas correspondientes.";throw new Error("Supabase URL and Anon Key must be provided in src/constants.ts");const be=FI(MI,UI),kb=I.createContext(void 0),vO=({children:t})=>{const[e,r]=I.useState(null),[s,o]=I.useState(!0),a=lo(),u=I.useRef(0),d=I.useRef(null),h=I.useRef(null),p=I.useCallback(()=>{console.log(" Ejecutando limpieza profunda de sesin..."),localStorage.removeItem("sb-qxnxtnhtbpsgzprqtrjl-auth-token"),sessionStorage.clear(),a.clear(),r(null)},[a]),y=I.useCallback(async()=>{try{console.log(" Cerrando sesin..."),a.cancelQueries(),r(null);const{error:F}=await be.auth.signOut();F&&console.warn("Supabase signOut warning:",F.message),p()}catch(F){console.error("Error during forced logout:",F),p()}},[a,p]);I.useEffect(()=>{let F=!0;d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{F&&s&&(console.warn(" Auth check timed out. Stopping spinner."),o(!1))},8e3);const j=async H=>{if(!(H!=null&&H.user)){F&&(r(null),o(!1));return}try{const{data:G,error:Z}=await be.from("estudiantes").select(`${Tr}, ${ar}, ${ur}, ${Wy}, ${Hy}`).eq(YI,H.user.id).maybeSingle();if(F)if(G&&!Z){const oe=G[Hy];h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{r({id:H.user.id,legajo:G[Tr]||"",nombre:G[ar]||"Usuario",orientaciones:G[ur]?[G[ur]]:[],mustChangePassword:!!G[Wy],role:oe}),o(!1)},50)}else console.warn("Profile not found for authenticated user. Posible Admin o Error de Integridad."),H.user.email!=="admin@uflo.edu.ar"&&(r(null),o(!1))}catch(G){console.error("Profile fetch error:",G),F&&(r(null),o(!1))}};be.auth.getSession().then(({data:H,error:G})=>{if(G){const Z=G.message.toLowerCase();(Z.includes("refresh token")||Z.includes("not found")||Z.includes("invalid"))&&(console.error(" Token corrupto detectado. Limpiando almacenamiento."),p()),F&&o(!1)}else j(H.session)});const{data:{subscription:B}}=be.auth.onAuthStateChange(async(H,G)=>{if(console.log(`AUTH EVENT: ${H}`),d.current&&clearTimeout(d.current),H==="TOKEN_REFRESHED"){if(u.current+=1,u.current>3){console.error(" Bucle de refresco detectado. Forzando salida."),u.current=0,p(),F&&o(!1);return}}else H==="SIGNED_IN"||H==="INITIAL_SESSION"?(u.current=0,j(G)):H==="SIGNED_OUT"&&(u.current=0,F&&(r(null),o(!1),a.clear()))});return()=>{F=!1,d.current&&clearTimeout(d.current),h.current&&clearTimeout(h.current),B.unsubscribe()}},[a,p]);const v=I.useCallback(F=>{r(F),o(!1)},[]),_=I.useCallback(()=>{r(F=>F?{...F,mustChangePassword:!1}:null)},[]),b=(e==null?void 0:e.role)==="SuperUser"||(e==null?void 0:e.legajo)==="admin",x=(e==null?void 0:e.role)==="Jefe",S=(e==null?void 0:e.role)==="Directivo",E=(e==null?void 0:e.role)==="AdminTester",N=(e==null?void 0:e.role)==="Reportero";return g.jsx(kb.Provider,{value:{authenticatedUser:e,isSuperUserMode:b,isJefeMode:x,isDirectivoMode:S,isAdminTesterMode:E,isReporteroMode:N,isAuthLoading:s,login:v,logout:y,completePasswordChange:_},children:t})},ho=()=>{const t=I.useContext(kb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Tb=I.createContext(void 0),_O=({children:t})=>{const[e,r]=I.useState(null),[s,o]=I.useState(!1),[a,u]=I.useState(null),[d,h]=I.useState(null),[p,y]=I.useState(null),[v,_]=I.useState(!1),[b,x]=I.useState(!1),[S,E]=I.useState(null),[N,F]=I.useState(""),[j,B]=I.useState(!1),[H,G]=I.useState(null),Z=I.useCallback((L,D)=>{r({title:L,message:D})},[]),oe=I.useCallback(()=>{r(null)},[]),ae=I.useCallback((L,D,P)=>{u(L),h(D),y(()=>P),o(!0)},[]),te=I.useCallback(()=>{o(!1),u(null),h(null),y(null)},[]),fe=I.useCallback((L,D)=>{E(L),F(D),x(!0)},[]),Te=I.useCallback(()=>{x(!1),E(null),F("")},[]),pe=I.useCallback(L=>{G(()=>L),B(!0)},[]),V=I.useCallback(()=>{B(!1),G(null)},[]),A={modalInfo:e,showModal:Z,closeModal:oe,isEnrollmentFormOpen:s,selectedLanzamientoForEnrollment:a,studentProfileForEnrollment:d,openEnrollmentForm:ae,closeEnrollmentForm:te,onSubmitEnrollment:p,isSubmittingEnrollment:v,setIsSubmittingEnrollment:_,isSeleccionadosModalOpen:b,seleccionadosData:S,convocatoriaForModal:N,openSeleccionadosModal:fe,closeSeleccionadosModal:Te,isSolicitudPPSModalOpen:j,openSolicitudPPSModal:pe,closeSolicitudPPSModal:V,onSubmitSolicitudPPS:H};return g.jsx(Tb.Provider,{value:A,children:t})},Ba=()=>{const t=I.useContext(Tb);if(t===void 0)throw new Error("useModal must be used within a ModalProvider");return t},at=np.forwardRef(({id:t,type:e,value:r,onChange:s,placeholder:o,icon:a,disabled:u=!1,className:d="",wrapperClassName:h="",error:p,...y},v)=>g.jsxs("div",{className:`relative group ${h}`,children:[a&&g.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4 transition-colors duration-300 text-slate-400 group-focus-within:text-blue-600 dark:text-slate-500 dark:group-focus-within:text-blue-400",children:typeof a=="string"?g.jsx("span",{className:"material-icons !text-lg",children:a}):a}),g.jsx("input",{id:t,name:t,type:e,value:r,onChange:s,disabled:u,ref:v,className:`
            w-full rounded-xl border-2 
            bg-white dark:bg-slate-950 
            py-3.5 pr-4 text-sm font-medium 
            text-slate-900 dark:text-slate-100 
            shadow-sm transition-all duration-200 ease-out
            placeholder:text-slate-400 dark:placeholder:text-slate-600
            
            ${p?"border-red-300 dark:border-red-800/50 focus:border-red-500 focus:ring-red-100 dark:focus:ring-red-900/30":"border-slate-200 dark:border-slate-800 focus:border-blue-600 dark:focus:border-blue-400 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/20"}

            focus:outline-none 
            disabled:bg-slate-50 dark:disabled:bg-slate-900/50 disabled:text-slate-400 dark:disabled:text-slate-600 disabled:border-slate-100 dark:disabled:border-slate-800 disabled:cursor-not-allowed
            ${a?"pl-11":"pl-4"} 
            ${d}
        `,placeholder:o,...y}),p&&g.jsx("span",{className:"text-xs text-red-500 mt-1 ml-1",children:p})]}));at.displayName="Input";const Yy=t=>t?String(t).replace(/\D/g,""):"",wO=({login:t,showModal:e})=>{const[r,s]=I.useState("login"),[o,a]=I.useState("verify"),[u,d]=I.useState(1),[h,p]=I.useState(1),[y,v]=I.useState(""),[_,b]=I.useState(""),[x,S]=I.useState(""),[E,N]=I.useState(!0),[F,j]=I.useState(!1),[B,H]=I.useState(null),[G,Z]=I.useState(null),[oe,ae]=I.useState(null),[te,fe]=I.useState({dni:"",correo:"",telefono:""}),Te=()=>{H(null),Z(null),b(""),S(""),a("verify"),d(1),p(1),fe({dni:"",correo:"",telefono:""}),ae(null)};return{mode:r,setMode:L=>{s(L),be.auth.signOut().catch(()=>{}),(L==="migration"||L==="recover")&&r==="login"?(d(1),p(1),a("verify"),H(null),Z(null),ae(null)):Te()},resetStep:o,migrationStep:u,setMigrationStep:d,registerStep:h,setRegisterStep:p,legajo:y,setLegajo:v,password:_,setPassword:b,confirmPassword:x,setConfirmPassword:S,rememberMe:E,setRememberMe:N,isLoading:F,error:B,fieldError:G,foundStudent:oe,verificationData:te,handleVerificationDataChange:L=>{const{name:D,value:P}=L.target;fe(q=>({...q,[D]:P})),Z(null)},handleFormSubmit:async L=>{var q;L.preventDefault();const D=y.trim(),P=_.trim();if(D==="testing"&&P==="testing"){t({legajo:"99999",nombre:"Usuario de Prueba",role:"AdminTester"});return}if(j(!0),H(null),Z(null),r==="login")try{if(await be.auth.signOut(),!D||!P)throw new Error("Por favor, completa todos los campos.");const{data:W,error:C}=await be.rpc("get_student_details_by_legajo",{legajo_input:D});if(C)throw new Error("Error de conexin al validar legajo. Intenta nuevamente.");const $=W&&W.length>0?W[0]:null;if(!$)throw new Error("Legajo no encontrado. Verific el nmero o cre una cuenta nueva.");const X=$[lr];if(!X)throw new Error('Tu usuario parece incompleto. Por favor, ve a "Crear Cuenta" para actualizar tus datos.');const{error:ne}=await be.auth.signInWithPassword({email:X,password:P});if(ne){console.warn("Login failed:",ne.message),ne.message.includes("Invalid login credentials")?(H("Contrasea incorrecta. Verific tus datos o us el botn de recuperar contrasea."),Z("password")):H("Ocurri un error al iniciar sesin. Intenta nuevamente."),j(!1);return}}catch(W){console.error("Login error:",W),H(W.message||"Error al iniciar sesin.")}finally{j(!1)}else if(r==="migration")try{if(u===1){if(!D||!te.dni||!te.correo)throw new Error("Por favor completa los campos para validar tu identidad.");const{data:W,error:C}=await be.rpc("get_student_details_by_legajo",{legajo_input:D});if(C)throw new Error("Error de conexin. Intenta ms tarde.");const $=W&&W.length>0?W[0]:null;if(!$)throw new Error("No encontramos un estudiante con ese legajo.");const X=String($[Cr]||"").trim(),ne=String($[lr]||"").trim().toLowerCase(),me=te.dni.replace(/\D/g,"").trim(),Ee=te.correo.trim().toLowerCase();if(X.replace(/\D/g,"")!==me||ne!==Ee)throw new Error("Los datos ingresados no coinciden con nuestros registros.");ae($),d(2),j(!1);return}if(u===2){if(_.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");if(_!==x)throw new Error("Las contraseas no coinciden.");if(!oe)throw new Error("Sesin de validacin expirada. Por favor comienza de nuevo.");const W=String(oe[lr]).trim().toLowerCase(),{data:C,error:$}=await be.auth.signUp({email:W,password:_,options:{data:{legajo:D}}});if($)if($.message.includes("already registered")||$.status===422||$.status===400){console.log("Usuario ya existe en Auth, intentando forzar actualizacin de clave...");const{error:me}=await be.rpc("admin_reset_password",{legajo_input:D,new_password:_});if(me)throw console.error("RPC Reset Error:",me),me.message.includes("No existe usuario")||me.message.includes("not found")?new Error("Error de integridad: El email de tu legajo no coincide con el usuario registrado. Contacta soporte."):new Error("No se pudo actualizar tu usuario existente. Intenta 'Recuperar Acceso'.")}else throw new Error(`Error al crear usuario: ${$.message}`);const{data:X,error:ne}=await be.auth.signInWithPassword({email:W,password:_});if(ne)s("login"),H("Cuenta configurada, pero el inicio de sesin automtico fall. Por favor ingresa manualmente.");else if(X.user){const{error:me}=await be.rpc("register_new_student",{legajo_input:D,userid_input:X.user.id,dni_input:parseInt(oe[Cr]||"0",10),correo_input:W,telefono_input:oe[Vu]||""});me&&console.warn("Link RPC warning (non-critical):",me)}}}catch(W){console.error("Migration error:",W),H(W.message||"Error del servidor al procesar la solicitud.")}finally{j(!1)}else if(r==="register")try{if(h===1){if(!D)throw new Error("Por favor ingresa tu legajo.");const{data:W,error:C}=await be.rpc("get_student_for_signup",{legajo_input:D});if(C)throw new Error(C.message);const $=W&&W.length>0?W[0]:null;if(!$)throw new Error("El legajo no figura en la lista o ya tiene usuario. Prueba 'Recuperar Acceso'.");if($.user_id)throw new Error("Este legajo ya tiene cuenta activa. Usa 'Recuperar Acceso' si olvidaste la clave.");ae($),p(2),j(!1);return}if(h===2){const{dni:W,correo:C,telefono:$}=te;if(!W||!C||!$||!_)throw new Error("Todos los campos son obligatorios.");if(_!==x)throw new Error("Las contraseas no coinciden.");const X=C.trim().toLowerCase(),ne=W.replace(/\D/g,""),me=parseInt(ne,10);if(isNaN(me)||me===0)throw new Error("El DNI debe ser un nmero vlido.");const{data:Ee,error:Ce}=await be.auth.signUp({email:X,password:_,options:{data:{legajo:D}}});let ke=(q=Ee==null?void 0:Ee.user)==null?void 0:q.id;if(Ce||!ke){console.warn("SignUp failed, attempting fix via admin_reset_password");const{error:Re}=await be.rpc("admin_reset_password",{legajo_input:D,new_password:_});if(Re)throw console.error("Fix failed:",Re),new Error("Este correo ya est registrado y no se pudo vincular a tu legajo. Contacta soporte.");const{data:_t,error:ri}=await be.auth.signInWithPassword({email:X,password:_});if(ri||!_t.user)throw new Error("Cuenta reparada pero fall el inicio de sesin. Intenta ingresar normalmente.");ke=_t.user.id}ke&&await be.rpc("register_new_student",{legajo_input:D,userid_input:ke,dni_input:me,correo_input:X,telefono_input:$})}}catch(W){H(W.message)}finally{j(!1)}else if(r==="recover")try{if(o==="verify"){if(!D||!te.dni||!te.correo||!te.telefono)throw new Error("Por favor completa todos los campos para validar tu identidad.");const{data:W,error:C}=await be.rpc("get_student_details_by_legajo",{legajo_input:D});if(C)throw new Error("Error de conexin. Intenta ms tarde.");const $=W&&W.length>0?W[0]:null;if(!$)throw new Error("No encontramos un estudiante con ese legajo.");const X=String($[Cr]||"").replace(/\D/g,""),ne=String($[lr]||"").trim().toLowerCase(),me=Yy($[Vu]),Ee=te.dni.replace(/\D/g,""),Ce=te.correo.trim().toLowerCase(),ke=Yy(te.telefono);let Re=!1;if(X!==Ee&&(Re=!0),ne!==Ce&&(Re=!0),(!me||!ke.includes(me.slice(-6)))&&(Re=!0),Re)throw new Error("Los datos ingresados no coinciden con nuestros registros.");a("reset_password"),j(!1);return}if(o==="reset_password"){if(_.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");if(_!==x)throw new Error("Las contraseas no coinciden.");const{error:W}=await be.rpc("admin_reset_password",{legajo_input:D,new_password:_});if(W)throw console.error("RPC Reset Error",W),new Error("Error del servidor. Si el problema persiste, pide al administrador que actualice la base de datos.");a("success"),j(!1)}}catch(W){H(W.message),j(!1)}else j(!1)},handleForgotLegajoSubmit:L=>L.preventDefault()}};function wp(t){if(!t)return"N/A";const e=new Date(t);if(isNaN(e.getTime()))return"Fecha invlida";const r=String(e.getUTCDate()).padStart(2,"0"),s=String(e.getUTCMonth()+1).padStart(2,"0"),o=e.getUTCFullYear();return`${r}/${s}/${o}`}function nt(t){if(t==null)return"";if(typeof t=="boolean")return t?"true":"false";const e=Me(t);return String(e).toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function bO(t){const e=nt(t);let r={tag:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400 border border-slate-200 dark:border-slate-700",gradient:"from-slate-400 to-slate-600",headerBg:"bg-slate-50 dark:bg-slate-800",headerText:"text-slate-800 dark:text-slate-100",dot:"bg-slate-400",leftBorder:"border-l-slate-400 dark:border-l-slate-600"};return e.includes("clinica")?r={tag:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800",gradient:"from-emerald-400 to-teal-600",headerBg:"bg-emerald-50 dark:bg-emerald-900/20",headerText:"text-emerald-800 dark:text-emerald-300",dot:"bg-emerald-500",leftBorder:"border-l-emerald-500 dark:border-l-emerald-400"}:e.includes("educacional")||e.includes("educacion")?r={tag:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 border border-blue-200 dark:border-blue-800",gradient:"from-blue-400 to-indigo-600",headerBg:"bg-blue-50 dark:bg-blue-900/20",headerText:"text-blue-800 dark:text-blue-300",dot:"bg-blue-500",leftBorder:"border-l-blue-500 dark:border-l-blue-400"}:e.includes("laboral")||e.includes("trabajo")?r={tag:"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400 border border-rose-200 dark:border-rose-800",gradient:"from-rose-500 to-red-700",headerBg:"bg-rose-50 dark:bg-rose-900/20",headerText:"text-rose-800 dark:text-rose-300",dot:"bg-rose-500",leftBorder:"border-l-rose-500 dark:border-l-rose-400"}:(e.includes("comunitaria")||e.includes("comunidad"))&&(r={tag:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 border border-purple-200 dark:border-purple-800",gradient:"from-purple-400 to-fuchsia-600",headerBg:"bg-purple-50 dark:bg-purple-900/20",headerText:"text-purple-800 dark:text-blue-300",dot:"bg-purple-500",leftBorder:"border-l-purple-500 dark:border-l-purple-400"}),r}function EO(t){const e=nt(t);return e==="en curso"||e==="pendiente"||e==="en proceso"?{icon:"sync",labelClass:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800",accentBg:"bg-amber-500",iconContainerClass:"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-900/20"}:e==="finalizada"||e==="cargado"||e==="realizada"||e==="convenio realizado"?{icon:"verified",labelClass:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",accentBg:"bg-emerald-500",iconContainerClass:"border-emerald-200 bg-emerald-50 dark:border-emerald-800 dark:bg-emerald-900/20"}:e==="realizando convenio"||e==="en conversaciones"?{icon:"handshake",labelClass:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800",accentBg:"bg-indigo-500",iconContainerClass:"border-indigo-200 bg-indigo-50 dark:border-indigo-800 dark:bg-indigo-900/20"}:e==="cancelada"||e==="rechazada"||e==="no se pudo concretar"||e==="no seleccionado"?{icon:"cancel",labelClass:"bg-rose-100 text-rose-700 border-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:border-rose-800",accentBg:"bg-rose-500",iconContainerClass:"border-rose-200 bg-rose-50 dark:border-rose-800 dark:bg-rose-900/20"}:{icon:"help_outline",labelClass:"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700",accentBg:"bg-slate-500",iconContainerClass:"border-slate-200 bg-slate-50 dark:border-slate-700 dark:bg-slate-800"}}function tc(t){return t&&String(t).trim()||null}function rc(t){if(!t)return null;const e=new Date(t);if(isNaN(e.getTime())){const r=t.split("/");if(r.length===3){const s=new Date(Date.UTC(parseInt(r[2]),parseInt(r[1])-1,parseInt(r[0])));return isNaN(s.getTime())?null:s}return null}return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))}function Zy(t){return t?t.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):""}function G2(t){const e=t.trim().split(/\s+/);if(e.length<=1)return{nombre:t,apellido:""};const r=e.pop()||"";return{nombre:e.join(" "),apellido:r}}function K2(t){if(!t)return"N/A";const e=t.replace(/[^\d]/g,"");return e||"N/A"}function Ds(t){return Me(t)}function Me(t){if(t==null)return"";if(Array.isArray(t))return t.length>0?Me(t[0]):"";const e=String(t).trim();if(e.startsWith('["')&&e.endsWith('"]')||e.startsWith("['")&&e.endsWith("']"))try{const r=JSON.parse(e.replace(/'/g,'"'));if(Array.isArray(r)&&r.length>0)return Me(r[0])}catch{const s=e.match(/^\[["'](.+)["']\]$/);if(s&&s[1])return s[1]}if(e.startsWith('"')&&e.endsWith('"')&&e.length>1)return e.slice(1,-1);if(e.startsWith("{")&&e.endsWith("}")){const r=e.slice(1,-1);return r.startsWith('"')&&r.endsWith('"')||r.startsWith("'")&&r.endsWith("'")?r.slice(1,-1):r}return e}const SO="inline-flex items-center justify-center font-bold rounded-lg transition-all duration-300 ease-in-out shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:shadow-none disabled:translate-y-0 active:scale-95",xO={primary:"relative overflow-hidden bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 dark:hover:shadow-blue-400/20 hover:-translate-y-1 focus-visible:ring-blue-500 dark:focus-visible:ring-offset-slate-900 disabled:from-slate-400 disabled:to-slate-400 has-shine-effect hover:shine-effect",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 hover:-translate-y-px active:bg-slate-100 focus-visible:ring-blue-500 dark:bg-slate-700 dark:text-slate-200 dark:border-slate-600 dark:hover:bg-slate-600 dark:active:bg-slate-500 dark:focus-visible:ring-offset-slate-900 disabled:bg-slate-100 disabled:text-slate-400 dark:disabled:bg-slate-800 dark:disabled:text-slate-500",danger:"bg-rose-600 text-white hover:bg-rose-700 hover:-translate-y-1 focus-visible:ring-rose-500 dark:focus-visible:ring-offset-slate-900 disabled:bg-rose-300"},kO={sm:"py-2 px-4 text-sm gap-2",md:"py-2.5 px-6 text-base gap-2.5",lg:"py-3 px-8 text-lg gap-3"},TO={sm:"!text-base",md:"!text-lg",lg:"!text-xl"},da=({children:t,variant:e="primary",size:r="md",icon:s,iconPosition:o="left",isLoading:a=!1,disabled:u,className:d,...h})=>{const p=[SO,xO[e],kO[r],d].filter(Boolean).join(" "),y=s&&g.jsx("span",{className:`material-icons ${TO[r]}`,children:s});return g.jsx("button",{className:p,disabled:u||a,...h,children:a?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-5 h-5 border-2 border-current/50 border-t-current rounded-full animate-spin"}),g.jsx("span",{children:"Cargando..."})]}):g.jsxs(g.Fragment,{children:[o==="left"&&y,t,o==="right"&&y]})})},CO=()=>{const{login:t}=ho(),{showModal:e}=Ba(),{resolvedTheme:r}=op(),{mode:s,setMode:o,migrationStep:a,registerStep:u,resetStep:d,legajo:h,setLegajo:p,password:y,setPassword:v,confirmPassword:_,setConfirmPassword:b,rememberMe:x,setRememberMe:S,isLoading:E,error:N,fieldError:F,verificationData:j,handleVerificationDataChange:B,handleFormSubmit:H,foundStudent:G}=wO({login:t,showModal:e}),[Z,oe]=I.useState(!1),ae=()=>{if(!G)return"";const A=G[QI],L=G[JI];return Zy(A&&L?`${A} ${L}`:G[ar]||"")},te=()=>g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-left mb-10",children:[g.jsx("h2",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tighter",children:"Hola de nuevo."}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-3 text-lg font-medium",children:"Ingresa a tu panel acadmico."})]}),g.jsxs("form",{onSubmit:H,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsx(at,{id:"legajo",type:"text",value:h,onChange:A=>p(A.target.value),placeholder:"Nmero de Legajo",icon:"badge",disabled:E,autoComplete:"username",autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:bg-white dark:focus:bg-slate-900 h-14 font-semibold"}),g.jsxs("div",{className:"relative",children:[g.jsx(at,{id:"password",type:Z?"text":"password",value:y,onChange:A=>v(A.target.value),placeholder:"Contrasea",icon:"lock",disabled:E,autoComplete:"current-password",className:`bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:bg-white dark:focus:bg-slate-900 h-14 font-semibold ${F==="password"?"border-red-500 focus:border-red-500 ring-1 ring-red-500/20":""}`}),g.jsx("button",{type:"button",onClick:()=>oe(!Z),className:"absolute inset-y-0 right-0 flex items-center px-4 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors z-10","aria-label":Z?"Ocultar":"Mostrar",children:g.jsx("span",{className:"material-icons !text-xl",children:Z?"visibility_off":"visibility"})})]}),g.jsxs("div",{className:"flex justify-between items-center px-1",children:[g.jsxs("label",{htmlFor:"remember-me",className:"flex items-center gap-2.5 cursor-pointer group select-none",children:[g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:x,onChange:A=>S(A.target.checked),disabled:E,className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border-2 border-slate-300 dark:border-slate-600 bg-transparent transition-all checked:border-slate-900 checked:bg-slate-900 dark:checked:border-white dark:checked:bg-white"}),g.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-white dark:text-slate-900 opacity-0 peer-checked:opacity-100 pointer-events-none transition-opacity",children:g.jsx("span",{className:"material-icons !text-[14px] font-bold",children:"check"})})]}),g.jsx("span",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-white transition-colors",children:"Recordarme"})]}),g.jsx("button",{type:"button",onClick:()=>o("recover"),className:"text-sm font-bold text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 transition-colors",children:"Olvidaste tu contrasea?"})]})]}),g.jsx("div",{className:"pt-4",children:g.jsxs("button",{type:"submit",disabled:E,className:"group w-full relative overflow-hidden bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold text-lg py-4 px-6 rounded-2xl transition-all duration-300 hover:shadow-xl hover:shadow-slate-900/20 dark:hover:shadow-white/10 hover:-translate-y-1 active:scale-95 disabled:bg-slate-400 dark:disabled:bg-slate-700 disabled:cursor-not-allowed disabled:shadow-none disabled:translate-y-0",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 ease-in-out"}),g.jsx("div",{className:"relative flex items-center justify-center gap-3",children:E?g.jsx("div",{className:"w-6 h-6 border-2 border-current border-t-transparent rounded-full animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Iniciar Sesin"}),g.jsx("span",{className:"material-icons !text-2xl transition-transform group-hover:translate-x-1",children:"arrow_forward"})]})})]})}),g.jsx("div",{className:"mt-8 flex items-center justify-center pt-8 border-t border-slate-100 dark:border-slate-800",children:g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:["Primera vez aqu?"," ",g.jsx("button",{type:"button",onClick:()=>o("register"),className:"font-bold text-slate-900 dark:text-white hover:underline transition-all",children:"Crear cuenta de estudiante"})]})})]})]}),fe=()=>g.jsxs("form",{onSubmit:H,className:"space-y-6 animate-fade-in-up",children:[u===1?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-left mb-8",children:[g.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Crear Cuenta"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-base leading-relaxed",children:"Ingresa tu legajo para verificar si ests habilitado."})]}),g.jsx(at,{id:"legajo",type:"text",value:h,onChange:A=>p(A.target.value),placeholder:"Nmero de Legajo",icon:"badge",disabled:E,autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx("div",{className:"pt-2",children:g.jsx(da,{type:"submit",isLoading:E,className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 text-lg rounded-2xl",size:"lg",children:"Verificar"})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-left mb-8",children:[g.jsxs("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:["Hola, ",ae(),"!"]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-base leading-relaxed",children:"Confirma tus datos y crea una contrasea segura."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(at,{name:"dni",type:"text",placeholder:"DNI (sin puntos)",icon:"fingerprint",value:j.dni,onChange:B,disabled:E,inputMode:"numeric",autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"correo",type:"email",placeholder:"Correo electrnico",icon:"email",value:j.correo,onChange:B,disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"telefono",type:"tel",placeholder:"Nmero de Celular",icon:"smartphone",value:j.telefono,onChange:B,disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{id:"password",type:"password",value:y,onChange:A=>v(A.target.value),placeholder:"Nueva Contrasea (mn. 6 caracteres)",icon:"lock",disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{id:"confirmPassword",type:"password",value:_,onChange:A=>b(A.target.value),placeholder:"Confirmar Contrasea",icon:"lock",disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"})]}),g.jsx("div",{className:"pt-4",children:g.jsx(da,{type:"submit",isLoading:E,className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 text-lg rounded-2xl",size:"lg",children:"Crear Cuenta"})})]}),g.jsx("div",{className:"text-center pt-2",children:g.jsx("button",{type:"button",onClick:()=>o("login"),className:"text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors p-2",children:"Volver a Iniciar Sesin"})})]}),Te=()=>g.jsxs("form",{onSubmit:H,className:"space-y-6 animate-fade-in-up",children:[a===1?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-left mb-8",children:[g.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Activacin"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-base leading-relaxed",children:"Valida tu identidad para configurar el nuevo acceso."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(at,{name:"dni",type:"text",placeholder:"DNI (sin puntos)",icon:"fingerprint",value:j.dni,onChange:B,disabled:E,autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"correo",type:"email",placeholder:"Correo registrado",icon:"email",value:j.correo,onChange:B,disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"})]}),g.jsx("div",{className:"pt-4",children:g.jsx(da,{type:"submit",isLoading:E,className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 text-lg rounded-2xl",size:"lg",children:"Validar"})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-left mb-8",children:[g.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Identidad Verificada"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-base leading-relaxed",children:"Crea tu nueva contrasea."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(at,{id:"password",type:"password",value:y,onChange:A=>v(A.target.value),placeholder:"Nueva Contrasea",icon:"lock",disabled:E,autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{id:"confirmPassword",type:"password",value:_,onChange:A=>b(A.target.value),placeholder:"Confirmar Contrasea",icon:"lock",disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"})]}),g.jsx("div",{className:"pt-4",children:g.jsx(da,{type:"submit",isLoading:E,className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 text-lg rounded-2xl",size:"lg",children:"Establecer"})})]}),g.jsx("div",{className:"text-center pt-2",children:g.jsx("button",{type:"button",onClick:()=>o("login"),className:"text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors p-2",children:"Cancelar"})})]}),pe=()=>g.jsxs("form",{onSubmit:H,className:"space-y-8 animate-fade-in-up",children:[g.jsxs("div",{className:"text-left",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 text-xs font-bold mb-6 border border-slate-200 dark:border-slate-700",children:[g.jsx("span",{className:"material-icons !text-sm",children:"lock_reset"}),"Recuperacin"]}),g.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Recuperar Acceso"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-base leading-relaxed",children:d==="verify"?"Completa los datos para validar tu identidad.":d==="reset_password"?"Identidad confirmada. Ingresa tu nueva clave.":"Proceso completado con xito!"})]}),d==="verify"&&g.jsxs("div",{className:"space-y-4 animate-fade-in",children:[g.jsx(at,{id:"rec-legajo",type:"text",value:h,onChange:A=>p(A.target.value),placeholder:"Nmero de Legajo",icon:"badge",disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"dni",type:"text",placeholder:"DNI",icon:"fingerprint",value:j.dni,onChange:B,disabled:E,inputMode:"numeric",className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"correo",type:"email",placeholder:"Correo registrado",icon:"email",value:j.correo,onChange:B,disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"telefono",type:"tel",placeholder:"Celular registrado",icon:"smartphone",value:j.telefono,onChange:B,disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"})]}),d==="reset_password"&&g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsxs("div",{className:"relative",children:[g.jsx(at,{id:"new-password",type:Z?"text":"password",value:y,onChange:A=>v(A.target.value),placeholder:"Nueva Contrasea",icon:"lock",disabled:E,autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx("button",{type:"button",onClick:()=>oe(!Z),className:"absolute inset-y-0 right-0 flex items-center px-4 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors z-10",children:g.jsx("span",{className:"material-icons !text-xl",children:Z?"visibility_off":"visibility"})})]}),g.jsx(at,{id:"confirm-password",type:Z?"text":"password",value:_,onChange:A=>b(A.target.value),placeholder:"Repetir Contrasea",icon:"lock_reset",disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"})]}),d==="success"&&g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 p-8 rounded-2xl text-center animate-fade-in",children:[g.jsx("div",{className:"mx-auto bg-emerald-100 dark:bg-emerald-800 text-emerald-600 dark:text-emerald-300 w-16 h-16 rounded-full flex items-center justify-center mb-6 shadow-sm",children:g.jsx("span",{className:"material-icons !text-4xl",children:"check"})}),g.jsx("h3",{className:"font-black text-xl text-slate-900 dark:text-white mb-2",children:"Listo!"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-8 font-medium text-sm",children:"Contrasea actualizada."}),g.jsx("button",{type:"button",onClick:()=>o("login"),className:"w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-3.5 rounded-xl shadow-lg transition-all",children:"Iniciar Sesin"})]}),d!=="success"&&g.jsxs("div",{className:"pt-4 space-y-4",children:[g.jsx(da,{type:"submit",isLoading:E,className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 text-lg rounded-2xl",size:"lg",children:d==="verify"?"Validar Identidad":"Establecer Contrasea"}),g.jsx("button",{type:"button",onClick:()=>o("login"),className:"w-full text-center text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors p-2",children:"Cancelar"})]})]}),V=()=>{switch(s){case"login":return te();case"register":return fe();case"migration":return Te();case"recover":return pe();default:return te()}};return g.jsxs("div",{className:"fixed inset-0 w-full h-[100dvh] bg-slate-50 dark:bg-slate-950 flex flex-col overflow-hidden font-sans selection:bg-blue-500/30",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[60vw] h-[60vw] bg-indigo-400/20 dark:bg-indigo-900/10 rounded-full mix-blend-multiply filter blur-[120px] animate-blob"}),g.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[60vw] h-[60vw] bg-blue-400/20 dark:bg-blue-900/10 rounded-full mix-blend-multiply filter blur-[120px] animate-blob animation-delay-2000"}),g.jsx("div",{className:"absolute bottom-[-20%] left-[20%] w-[60vw] h-[60vw] bg-purple-400/20 dark:bg-purple-900/10 rounded-full mix-blend-multiply filter blur-[120px] animate-blob animation-delay-4000"}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"})]}),g.jsxs("header",{className:"flex-none h-20 px-6 sm:px-12 flex items-center justify-between z-30 relative w-full",children:[g.jsx("div",{className:"flex items-center gap-6",children:g.jsx("div",{className:"drop-shadow-sm",children:g.jsx(q_,{className:"h-10 sm:h-12 w-auto",variant:r})})}),g.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[g.jsx("div",{className:"hidden sm:block opacity-80 hover:opacity-100 transition-opacity",children:g.jsx(rf,{className:"h-8 sm:h-10 w-auto grayscale contrast-125",variant:r})}),g.jsx("div",{className:"pl-2 border-l border-slate-200 dark:border-slate-800",children:g.jsx(K_,{})})]})]}),g.jsx("main",{className:"flex-1 w-full relative overflow-y-auto overflow-x-hidden custom-scrollbar z-20",children:g.jsx("div",{className:"min-h-full flex flex-col items-center justify-center p-4 sm:p-6 lg:p-8 py-8 sm:py-12",children:g.jsxs("div",{className:"w-full max-w-[1100px] min-h-[600px] bg-white/80 dark:bg-[#0f1523]/80 rounded-[2.5rem] shadow-2xl shadow-slate-200/50 dark:shadow-black/80 overflow-hidden border border-white/60 dark:border-slate-700/50 relative backdrop-blur-2xl flex flex-col xl:flex-row ring-1 ring-white/40 dark:ring-white/5",children:[g.jsxs("div",{className:"hidden xl:flex w-5/12 relative flex-col justify-between p-16 overflow-hidden bg-slate-50/50 dark:bg-[#0B1120]/50 border-r border-slate-100 dark:border-slate-800",children:[g.jsx("div",{className:"absolute top-0 right-0 w-[300px] h-[300px] bg-gradient-to-br from-blue-400/10 to-indigo-400/10 rounded-full blur-3xl -mr-20 -mt-20"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-gradient-to-tr from-emerald-400/10 to-teal-400/10 rounded-full blur-3xl -ml-20 -mb-20"}),g.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center gap-12",children:[g.jsxs("div",{className:"space-y-10",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsxs("h1",{className:"text-5xl font-black leading-[1.05] tracking-tighter text-slate-900 dark:text-white",children:["Gestin acadmica ",g.jsx("br",{}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400",children:"inteligente."})]}),g.jsx("p",{className:"text-lg leading-relaxed font-medium text-slate-600 dark:text-slate-400 max-w-sm",children:"Centraliza tus prcticas, inscripciones y acreditaciones en una plataforma unificada y simple."})]}),g.jsx("div",{className:"space-y-5",children:[{icon:"verified_user",text:"Gestin 100% Digital",desc:"Olvdate del papel."},{icon:"insights",text:"Seguimiento Real",desc:"Tu progreso al instante."},{icon:"school",text:"Acreditacin Directa",desc:"Vinculacin con SAC."}].map((A,L)=>g.jsxs("div",{className:"flex items-start gap-4 group",children:[g.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center shadow-sm text-blue-600 dark:text-blue-400 shrink-0 group-hover:scale-110 transition-transform duration-300",children:g.jsx("span",{className:"material-icons !text-xl",children:A.icon})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-base font-bold text-slate-800 dark:text-slate-200",children:A.text}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:A.desc})]})]},L))})]}),g.jsxs("div",{className:"flex items-center gap-4 pt-8 border-t border-slate-200/60 dark:border-slate-800",children:[g.jsx("div",{className:"opacity-60 grayscale hover:grayscale-0 transition-all duration-300",children:g.jsx(rf,{className:"h-8 w-auto",variant:r})}),g.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-700"}),g.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 dark:text-slate-500 leading-tight",children:["Facultad de Psicologa ",g.jsx("br",{})," y Ciencias Sociales"]})]})]})]}),g.jsxs("div",{className:"w-full xl:w-7/12 flex flex-col relative bg-white/50 dark:bg-transparent",children:[g.jsxs("div",{className:"flex-1 flex flex-col justify-center p-8 sm:p-12 lg:p-16 w-full max-w-xl mx-auto",children:[V(),g.jsx("div",{"aria-live":"assertive",className:"mt-8 min-h-[60px]",children:N&&g.jsxs("div",{className:"flex items-start gap-4 p-4 bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-800 rounded-2xl shadow-sm animate-shake transition-all duration-300",children:[g.jsx("div",{className:"p-2 bg-white dark:bg-rose-950 rounded-full text-rose-500 dark:text-rose-400 shadow-sm border border-rose-100 dark:border-rose-900/50 flex-shrink-0",children:g.jsx("span",{className:"material-icons !text-lg",children:"error"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-bold text-rose-800 dark:text-rose-200",children:"Atencin"}),g.jsx("p",{className:"text-sm text-rose-600 dark:text-rose-300 mt-1 leading-snug font-medium",children:N})]})]})})]}),g.jsx("div",{className:"xl:hidden p-6 text-center border-t border-slate-100 dark:border-slate-800",children:g.jsx("p",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-600 uppercase tracking-widest",children:"UFLO Universidad  Facultad de Psicologa"})})]})]})})})]})},Cb=I.createContext(void 0),IO=({children:t})=>{const[e,r]=I.useState(null);I.useEffect(()=>{const o=u=>{u.preventDefault(),r(u)};window.addEventListener("beforeinstallprompt",o);const a=()=>{r(null)};return window.addEventListener("appinstalled",a),()=>{window.removeEventListener("beforeinstallprompt",o),window.removeEventListener("appinstalled",a)}},[]);const s=I.useCallback(async()=>{if(e){await e.prompt();const{outcome:o}=await e.userChoice;console.log(`Respuesta del usuario al dilogo de instalacin: ${o}`)}},[e]);return g.jsx(Cb.Provider,{value:{canInstall:!!e,triggerInstall:s},children:t})},Ib=()=>{const t=I.useContext(Cb);if(t===void 0)throw new Error("usePwaInstall debe ser usado dentro de un PwaInstallProvider");return t},OO=({message:t,type:e,onClose:r,duration:s=4e3})=>{const[o,a]=I.useState(!1);I.useEffect(()=>{const v=setTimeout(()=>a(!0),50),_=setTimeout(()=>{a(!1),setTimeout(r,300)},s);return()=>{clearTimeout(v),clearTimeout(_)}},[s,r]);let u="",d="",h="";switch(e){case"success":u="bg-emerald-50 border-emerald-200 text-emerald-800",d="check_circle",h="text-emerald-500";break;case"warning":u="bg-amber-50 border-amber-200 text-amber-800",d="warning",h="text-amber-500";break;case"error":default:u="bg-rose-50 border-rose-200 text-rose-800",d="error",h="text-rose-500";break}const p="fixed top-5 right-5 z-[2000] flex items-center gap-4 w-full max-w-sm p-4 rounded-xl shadow-lg border transition-all duration-300 ease-in-out",y=o?"opacity-100 translate-y-0":"opacity-0 -translate-y-4";return g.jsxs("div",{className:`${p} ${u} ${y}`,role:"alert","aria-live":"polite",children:[g.jsx("div",{className:`flex-shrink-0 ${h}`,children:g.jsx("span",{className:"material-icons",children:d})}),g.jsx("div",{className:"flex-grow text-sm font-medium",children:g.jsx("span",{children:t})}),g.jsx("button",{onClick:()=>{a(!1),setTimeout(r,300)},className:"flex-shrink-0 p-1 -m-1 rounded-full hover:bg-black/10 transition-colors","aria-label":"Cerrar notificacin",children:g.jsx("span",{className:"material-icons !text-base",children:"close"})})]})},AO="BKsSAPjJqlAO8_j5PtNJJfWsNHcPENWVeMaAwZf6i00oVlmvJYbf3FCrqrgZR2jK5nQ5PFWSLsw2iMwi4iRW0YI";function NO(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(r),o=new Uint8Array(s.length);for(let a=0;a<s.length;++a)o[a]=s.charCodeAt(a);return o}function Xy(t){const e=new Uint8Array(t);let r="";for(let s=0;s<e.byteLength;s++)r+=String.fromCharCode(e[s]);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function fc(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&window.isSecureContext}async function RO(){if(!fc())return{isSubscribed:!1,permission:"denied"};const t=Notification.permission;try{return{isSubscribed:!!await(await navigator.serviceWorker.ready).pushManager.getSubscription(),permission:t}}catch(e){return console.error("[Push] Error checking subscription status:",e),{isSubscribed:!1,permission:t}}}async function PO(){if(!fc())return{success:!1,error:window.isSecureContext?"Push notifications no soportadas en este navegador":"Push requiere un contexto seguro (HTTPS o localhost)"};try{console.log("[Push] Iniciando proceso de suscripcin...");const t=await Notification.requestPermission();if(console.log("[Push] Permiso de notificaciones:",t),t!=="granted")return{success:!1,error:"Permiso de notificaciones denegado. Habilitalo en la configuracin del navegador."};const e=await navigator.serviceWorker.ready;console.log("[Push] Service Worker listo:",e.scope);let r=await e.pushManager.getSubscription();if(r)console.log("[Push] Suscripcin existente encontrada.");else{console.log("[Push] No hay suscripcin previa, creando una nueva...");try{const h=NO(AO);console.log("[Push] VAPID Key convertida (Largo):",h.length),r=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:h})}catch(h){console.error("[Push] Error especfico en subscribe():",h),console.error("[Push] Nombre del error:",h.name);try{const p=await e.pushManager.getSubscription();p&&(console.log("[Push] Intentando limpiar suscripcin antigua problemtica..."),await p.unsubscribe())}catch{}if(h.name==="AbortError"||h.message.includes("Registration failed")){console.warn("[Push] Fallo de registro (AbortError).");try{const p=await e.pushManager.getSubscription();p&&await p.unsubscribe(),await e.unregister()}catch{}throw new Error("El navegador bloque la conexin. En Opera/Brave, asegrate de desactivar el 'Escudo de Privacidad' para este sitio y que los Permisos de Notificacin estn en 'Preguntar' o 'Permitir'.")}throw h}}const s=r.getKey("p256dh"),o=r.getKey("auth");if(!s||!o)throw new Error("Failed to get subscription keys");const{data:{user:a}}=await be.auth.getUser();if(!a)throw new Error("Usuario no autenticado");const u={user_id:a.id,endpoint:r.endpoint,p256dh:Xy(s),auth:Xy(o)},{error:d}=await be.from("push_subscriptions").upsert(u,{onConflict:"user_id,endpoint"});if(d)throw console.error("[Push] Database error:",d),new Error("Error guardando suscripcin");return console.log("[Push]  Subscribed successfully"),{success:!0}}catch(t){return console.error("[Push] Subscription error:",t),{success:!1,error:t.message||"Error al suscribirse"}}}async function jO(){if(!fc())return{success:!1,error:"Push notifications not supported"};try{const e=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(e){const{data:{user:r}}=await be.auth.getUser();r&&await be.from("push_subscriptions").delete().eq("user_id",r.id).eq("endpoint",e.endpoint),await e.unsubscribe()}return console.log("[Push]  Unsubscribed successfully"),{success:!0}}catch(t){return console.error("[Push] Unsubscribe error:",t),{success:!1,error:t.message||"Error al desuscribirse"}}}const Ob=I.createContext(void 0),LO=({children:t})=>{const{authenticatedUser:e,isSuperUserMode:r,isJefeMode:s,isDirectivoMode:o}=ho(),[a,u]=I.useState([]),[d,h]=I.useState(null),[p,y]=I.useState(new Set),[v]=I.useState(()=>fc()),[_,b]=I.useState(!1),[x,S]=I.useState(!1),E=lc(),N=r||s||o,F=!N&&!!e,B=`read_notifications_v2_${(e==null?void 0:e.id)||"guest"}`;I.useEffect(()=>{if(e)try{const V=localStorage.getItem(B);if(V){const A=JSON.parse(V);Array.isArray(A)&&y(new Set(A))}}catch(V){console.warn("Error cargando notificaciones ledas del storage",V)}},[e,B]),I.useEffect(()=>{if(!e||!v)return;(async()=>{try{const{isSubscribed:A}=await RO();b(A)}catch(A){console.warn("Error checking push status",A)}})()},[e,v]);const H=V=>{localStorage.setItem(B,JSON.stringify(Array.from(V))),y(V)};I.useEffect(()=>{if(!e)return;(async()=>{try{const A=[];if(N){const{data:L}=await be.from(Lf).select(`id, created_at, ${ro}, ${Ju}`).eq(Ta,"Pendiente").order("created_at",{ascending:!1}).limit(20);L&&L.forEach(P=>{const q=`pps-${P.id}`;A.push({id:q,title:"Solicitud PPS Pendiente",message:`${P[ro]||"Estudiante"} solicit iniciar en ${P[Ju]||"Institucin"}.`,timestamp:new Date(P.created_at),type:"solicitud_pps",link:"/admin/solicitudes?tab=ingreso",isRead:p.has(q)})});const{data:D}=await be.from(zy).select(`
                            id,
                            created_at,
                            ${Xu},
                            estudiante:estudiantes!fk_finalizacion_estudiante (
                                ${ar}
                            )
                        `).eq(ec,"Pendiente").order("created_at",{ascending:!1}).limit(20);D&&D.forEach(P=>{const q=`fin-${P.id}`,W=Array.isArray(P.estudiante)?P.estudiante[0]:P.estudiante,C=(W==null?void 0:W[ar])||"Estudiante";A.push({id:q,title:"Acreditacin Pendiente",message:`${C} ha enviado documentacin para acreditar.`,timestamp:new Date(P.created_at),type:"acreditacion",link:"/admin/solicitudes?tab=egreso",isRead:p.has(q)})})}else if(F){const L=new Date;L.setDate(L.getDate()-7);const{data:D}=await be.from(By).select(`id, created_at, ${ut}, ${cr}`).eq(cr,"Abierta").gt("created_at",L.toISOString()).order("created_at",{ascending:!1});D&&D.forEach(P=>{const q=`launch-${P.id}`;A.push({id:q,title:"Nueva Convocatoria",message:`${P[ut]} est abierta para inscripcin.`,timestamp:new Date(P.created_at),type:"lanzamiento",link:"/student",isRead:p.has(q)})})}A.sort((L,D)=>D.timestamp.getTime()-L.timestamp.getTime()),u(A)}catch(A){console.error("Error loading notification history:",A)}})()},[N,F,e,p]),I.useEffect(()=>{if(!e)return;const V=`notifications-${e.id}`,A=be.channel(V).on("postgres_changes",{event:"INSERT",schema:"public",table:Lf},async L=>{if(!N||!L||!L.new)return;const P=`pps-${L.new.id}`;G({id:P,title:"Nueva Solicitud de PPS",message:"Nueva solicitud de inicio recibida.",timestamp:new Date,type:"solicitud_pps",link:"/admin/solicitudes?tab=ingreso",isRead:!1})}).on("postgres_changes",{event:"INSERT",schema:"public",table:zy},async L=>{if(!N||!L||!L.new)return;const P=`fin-${L.new.id}`;G({id:P,title:"Nueva Solicitud de Acreditacin",message:"Un estudiante ha enviado documentacin para finalizar.",timestamp:new Date,type:"acreditacion",link:"/admin/solicitudes?tab=egreso",isRead:!1})}).on("postgres_changes",{event:"*",schema:"public",table:By},async L=>{var W;if(!F)return;const D=L.new;if(!D)return;const P=L.eventType==="INSERT"&&D[cr]==="Abierta",q=L.eventType==="UPDATE"&&D[cr]==="Abierta"&&((W=L.old)==null?void 0:W[cr])!=="Abierta";if(P||q){const C=`launch-realtime-${D.id}`;G({id:C,title:"Nueva Oportunidad de PPS!",message:`Se ha abierto la inscripcin para ${D[ut]}.`,timestamp:new Date,type:"lanzamiento",link:"/student",isRead:!1})}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:KI},async L=>{if(!F)return;const D=L.new,P=L.old,q=D[dr],W=Array.isArray(q)?q[0]:q;if(e&&W===e.id&&D[Rt]!==P[Rt]){const C=D[Rt];let $=`Tu estado ha cambiado a: ${C}`;C==="Seleccionado"&&($="Felicitaciones! Has sido Seleccionado para la PPS."),G({id:`conv-update-${D.id}-${Date.now()}`,title:"Actualizacin de Postulacin",message:$,timestamp:new Date,type:"estado",link:"/student/solicitudes",isRead:!1})}}).subscribe();return()=>{be.removeChannel(A)}},[N,F,e]);const G=V=>{u(A=>[V,...A]),h({message:V.title,type:"success"}),Notification.permission==="granted"&&document.hidden&&new Notification(V.title,{body:V.message,icon:"/icons/icon-192x192.png"});try{new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3").play().catch(()=>{})}catch{}},Z=V=>{u(D=>D.map(P=>P.id===V?{...P,isRead:!0}:P));const A=new Set(p);A.add(V),H(A);const L=a.find(D=>D.id===V);L&&L.link&&E(L.link)},oe=()=>{u(A=>A.map(L=>({...L,isRead:!0})));const V=new Set(p);a.forEach(A=>V.add(A.id)),H(V)},ae=()=>{oe(),u([])},te=a.filter(V=>!V.isRead).length,fe=I.useCallback((V,A)=>{h({message:V,type:A})},[]),Te=I.useCallback(async()=>{if(!v){fe("Tu navegador no soporta notificaciones push","warning");return}S(!0);try{const V=await PO();V.success?(b(!0),fe("Notificaciones activadas! Te avisaremos de nuevas convocatorias.","success")):fe(V.error||"No se pudo activar notificaciones","error")}catch(V){fe(V.message||"Error al activar notificaciones","error")}finally{S(!1)}},[v,fe]),pe=I.useCallback(async()=>{S(!0);try{const V=await jO();V.success?(b(!1),fe("Notificaciones desactivadas","success")):fe(V.error||"No se pudo desactivar notificaciones","error")}catch(V){fe(V.message||"Error al desactivar notificaciones","error")}finally{S(!1)}},[fe]);return g.jsxs(Ob.Provider,{value:{notifications:a,unreadCount:te,markAsRead:Z,markAllAsRead:oe,clearNotifications:ae,showToast:fe,isPushSupported:v,isPushEnabled:_,isPushLoading:x,subscribeToPush:Te,unsubscribeFromPush:pe},children:[t,d&&g.jsx(OO,{message:d.message,type:d.type,onClose:()=>h(null),duration:5e3})]})},Ab=()=>{const t=I.useContext(Ob);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t},DO=({onClose:t})=>{const{notifications:e,unreadCount:r,markAsRead:s,markAllAsRead:o,clearNotifications:a}=Ab(),u=I.useRef(null);return I.useEffect(()=>{const d=h=>{u.current&&!u.current.contains(h.target)&&t()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[t]),e.length===0?g.jsxs("div",{ref:u,className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 p-6 text-center z-[1000] animate-fade-in-up",children:[g.jsx("div",{className:"mx-auto bg-slate-100 dark:bg-slate-700 text-slate-400 rounded-full h-12 w-12 flex items-center justify-center mb-3",children:g.jsx("span",{className:"material-icons !text-2xl",children:"notifications_none"})}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 font-medium text-sm",children:"No tienes notificaciones nuevas."})]}):g.jsxs("div",{ref:u,className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 z-[1000] overflow-hidden animate-fade-in-up",children:[g.jsxs("div",{className:"p-3 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[g.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm",children:"Notificaciones"}),g.jsxs("div",{className:"flex gap-2",children:[r>0&&g.jsx("button",{onClick:o,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Marcar todo ledo"}),g.jsx("button",{onClick:a,className:"text-xs text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200",children:"Limpiar"})]})]}),g.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.map(d=>g.jsx("div",{onClick:()=>{s(d.id),t()},className:`p-4 border-b border-slate-100 dark:border-slate-700/50 cursor-pointer transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50 ${d.isRead?"":"bg-blue-50/50 dark:bg-blue-900/10"}`,children:g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:`flex-shrink-0 mt-1 ${d.type==="solicitud_pps"?"text-blue-500":d.type==="acreditacion"?"text-emerald-500":d.type==="recordatorio"?"text-amber-500":"text-slate-500"}`,children:g.jsx("span",{className:"material-icons !text-xl",children:d.type==="solicitud_pps"?"assignment_ind":d.type==="acreditacion"?"verified":d.type==="recordatorio"?"alarm":"info"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("p",{className:`text-sm font-bold ${d.isRead?"text-slate-700 dark:text-slate-300":"text-slate-900 dark:text-white"}`,children:d.title}),!d.isRead&&g.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1.5"})]}),g.jsx("p",{className:`text-xs mt-1 line-clamp-2 ${d.isRead?"text-slate-500 dark:text-slate-500":"text-slate-700 dark:text-slate-300"}`,children:d.message}),g.jsxs("p",{className:"text-[10px] text-slate-400 mt-2",children:[wp(d.timestamp.toISOString())," ",d.timestamp.toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"})]})]})]})},d.id))})]})},FO=()=>{const{authenticatedUser:t,logout:e,isSuperUserMode:r,isJefeMode:s,isDirectivoMode:o}=ho(),{resolvedTheme:a}=op(),{canInstall:u,triggerInstall:d}=Ib(),h=!!t,[p,y]=I.useState(!1),v=Xs(),{unreadCount:_}=Ab(),[b,x]=I.useState(!1),E=["/admin","/jefe","/directivo","/reportero","/testing"].some(F=>v.pathname.startsWith(F)),N=h&&(r||s||o);return I.useEffect(()=>{const F=()=>{y(window.scrollY>10)};return window.addEventListener("scroll",F,{passive:!0}),F(),()=>{window.removeEventListener("scroll",F)}},[]),g.jsx("header",{className:`no-print sticky top-0 z-50 bg-white dark:bg-gray-950/80 backdrop-blur-xl transition-all duration-300 ${p?"border-b border-slate-200/70 dark:border-white/10 shadow-sm":"border-b border-transparent"}`,children:g.jsx("div",{className:`px-4 sm:px-6 lg:px-8 ${E?"w-full":"max-w-7xl mx-auto"}`,children:g.jsxs("div",{className:"flex justify-between items-center h-16 md:h-20",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx(q_,{className:"h-10 md:h-14 w-auto transition-all duration-300",variant:a})}),g.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[r&&g.jsx("span",{className:"hidden sm:inline-flex items-center bg-blue-100 text-blue-800 text-xs sm:text-sm font-semibold px-3 py-1.5 rounded-full border border-blue-200/80 dark:bg-blue-900/50 dark:text-blue-200 dark:border-blue-800",children:"Modo Administrador"}),g.jsx("div",{className:"hidden sm:block",children:g.jsx(rf,{className:"h-10 md:h-14 w-auto transition-all duration-300",variant:a})}),N&&g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>x(!b),className:"relative bg-white dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400 p-2.5 rounded-full transition-all duration-200 shadow-sm border border-slate-200/80 dark:border-slate-700 flex items-center justify-center group","aria-label":"Notificaciones",children:[g.jsx("span",{className:`material-icons !text-xl sm:!text-2xl transition-transform duration-300 ease-out ${b?"text-blue-600 dark:text-blue-400":""} group-hover:scale-110`,children:_>0?"notifications_active":"notifications"}),_>0&&g.jsxs("span",{className:"absolute top-0 right-0 flex h-4 w-4 -mt-1 -mr-1",children:[g.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),g.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500 text-white text-[10px] font-bold items-center justify-center",children:_>9?"9+":_})]})]}),b&&g.jsx(DO,{onClose:()=>x(!1)})]}),g.jsx(K_,{}),u&&g.jsx("button",{onClick:d,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold p-2.5 rounded-full transition-all duration-200 shadow-md border border-blue-700 flex items-center justify-center group animate-pulse","aria-label":"Instalar aplicacin",title:"Instalar aplicacin",children:g.jsx("span",{className:"material-icons !text-xl sm:!text-2xl transition-transform duration-300 ease-out group-hover:scale-110",children:"install_mobile"})}),h&&g.jsx("button",{onClick:e,className:"bg-white dark:bg-slate-800 hover:bg-rose-50 dark:hover:bg-rose-900/50 text-slate-500 hover:text-rose-600 dark:text-slate-400 dark:hover:text-rose-400 font-semibold p-2.5 rounded-full transition-all duration-200 shadow-sm border border-slate-200/80 dark:border-slate-700 flex items-center justify-center","aria-label":"Cerrar sesin",title:"Cerrar sesin",children:g.jsx("span",{className:"material-icons !text-xl sm:!text-2xl",children:"logout"})})]})]})})})},MO=({children:t})=>{const e=Xs(),{showModal:r}=Ba(),[s,o]=I.useState(navigator.onLine),a=e.pathname==="/login",d=["/admin","/jefe","/directivo","/reportero","/testing"].some(h=>e.pathname.startsWith(h));return I.useEffect(()=>{const h=_=>{var x;const b=_.message||((x=_.error)==null?void 0:x.message)||String(_.error);String(b).includes("Incorrect locale")||String(b).includes("RangeError")||(console.error("Global Error Caught:",_.error),r("Se produjo un error inesperado",`Detalle: ${b||"Error desconocido en la aplicacin."}

Por favor, recarga la pgina.`))},p=_=>{var x;const b=((x=_.reason)==null?void 0:x.message)||_.reason||"Error de conexin o lgica asncrona.";String(b).includes("Incorrect locale")||String(b).includes("RangeError")||(console.error("Unhandled Rejection Caught:",_.reason),r("Error de Procesamiento",`Ocurri un fallo en una operacin: ${b}`))},y=()=>o(!0),v=()=>o(!1);return window.addEventListener("error",h),window.addEventListener("unhandledrejection",p),window.addEventListener("online",y),window.addEventListener("offline",v),()=>{window.removeEventListener("error",h),window.removeEventListener("unhandledrejection",p),window.removeEventListener("online",y),window.removeEventListener("offline",v)}},[r]),a?g.jsx(g.Fragment,{children:t}):g.jsxs("div",{className:"flex flex-col min-h-screen",children:[!s&&g.jsxs("div",{className:"bg-red-500 text-white text-center text-xs font-bold py-1 px-4 fixed top-0 left-0 right-0 z-[2000] animate-pulse shadow-md flex items-center justify-center gap-2",children:[g.jsx("span",{className:"material-icons !text-sm",children:"wifi_off"}),"Sin conexin a internet. Verificando red..."]}),g.jsx(FO,{}),g.jsx("main",{className:`flex-grow w-full px-4 sm:px-6 lg:px-8 pb-8 ${d?"":"max-w-7xl mx-auto"}`,children:t})]})},va={horasObjetivoTotal:mO,horasObjetivoOrientacion:gO,rotacionObjetivo:yO},Nb=I.createContext(va),UO=({children:t})=>{const[e,r]=I.useState(va);return I.useEffect(()=>{(async()=>{try{const{data:o,error:a}=await be.from("app_config").select("*").single();!a&&o&&r({horasObjetivoTotal:o.horas_objetivo_total??va.horasObjetivoTotal,horasObjetivoOrientacion:o.horas_objetivo_orientacion??va.horasObjetivoOrientacion,rotacionObjetivo:o.rotacion_objetivo??va.rotacionObjetivo})}catch{console.warn("Using default app config")}})()},[]),g.jsx(Nb.Provider,{value:e,children:t})},$O=()=>I.useContext(Nb),Fh={showAiInsights:!0,showManagementTab:!0,showLaunchHistory:!0,showPenalizations:!0,showAutomation:!0,showNewAgreements:!0,showReports:!0,showIntegrity:!0,showMonitoring:!0},Rb=I.createContext(void 0),ev="admin_module_preferences_v1",BO=({children:t})=>{const[e,r]=I.useState(Fh);I.useEffect(()=>{const a=localStorage.getItem(ev);if(a)try{const u=JSON.parse(a);r({...Fh,...u})}catch(u){console.warn("Error parsing admin preferences",u)}},[]),I.useEffect(()=>{localStorage.setItem(ev,JSON.stringify(e))},[e]);const s=a=>{r(u=>({...u,[a]:!u[a]}))},o=()=>{r(Fh)};return g.jsx(Rb.Provider,{value:{preferences:e,toggleModule:s,resetPreferences:o},children:t})},Q2=()=>{const t=I.useContext(Rb);if(!t)throw new Error("useAdminPreferences must be used within an AdminPreferencesProvider");return t};class zO{constructor(){sr(this,"isDev");const e=import.meta;this.isDev=e&&e.env?e.env.DEV:!1}info(e,r){this.isDev&&console.log(` [INFO] ${e}`,r||"")}warn(e,r){console.warn(` [WARN] ${e}`,r||"")}error(e,r){console.error(` [ERROR] ${e}`,r||"")}debug(e,r){this.isDev&&console.debug(` [DEBUG] ${e}`,r||"")}}const VO=new zO;class WO extends I.Component{constructor(r){super(r);sr(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0}),this.props.onRetry&&this.props.onRetry()});this.state={hasError:!1,error:void 0}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){VO.error("ErrorBoundary caught an error:",{error:r,errorInfo:s});const o=r.message||"";(o.includes("Failed to fetch dynamically imported module")||o.includes("Importing a module script failed"))&&(sessionStorage.getItem("retry-chunk-load")?sessionStorage.removeItem("retry-chunk-load"):(sessionStorage.setItem("retry-chunk-load","true"),window.location.reload()))}render(){var r,s;if(this.state.hasError){const o=((r=this.state.error)==null?void 0:r.message)||"",a=o.includes("Failed to fetch")||o.includes("Importing a module"),u=o.includes("removeChild")||o.includes("Node");let d="Algo sali mal",h=((s=this.state.error)==null?void 0:s.message)||"Ocurri un error inesperado al procesar tu solicitud.",p="error_outline";return a?(d="Actualizacin Disponible",h="Se ha detectado una nueva versin de la aplicacin. Por favor, recarga la pgina para obtener las ltimas mejoras.",p="system_update"):u&&(d="Error de Interfaz",h="La traduccin automtica o una extensin del navegador interfiri con la aplicacin. Por favor, desactiva el traductor para este sitio y recarga.",p="translate"),g.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-red-200 dark:border-red-900/50 max-w-lg mx-auto my-8 mt-20",children:[g.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full h-16 w-16 flex items-center justify-center mb-4",children:g.jsx("span",{className:"material-icons !text-4xl",children:p})}),g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 text-center",children:d}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm text-center mt-2 mb-6 leading-relaxed",children:h}),g.jsxs("div",{className:"flex gap-3",children:[!a&&!u&&g.jsx("button",{onClick:this.handleRetry,className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-xl font-bold hover:bg-slate-200 transition-colors text-sm",children:"Reintentar"}),g.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 shadow-md hover:shadow-lg transition-all text-sm flex items-center gap-2",children:[g.jsx("span",{className:"material-icons !text-lg",children:"refresh"}),"Recargar Pgina"]})]})]})}return this.props.children}}const HO=I.createContext(null),qO=({children:t})=>{const[e,r]=I.useState(null),[s,o]=I.useState(null),a=I.useCallback((p,y,v)=>{const _=new Date;if(typeof p=="string")return new Error(p);const b=p;return b.context=y,b.details=v,b.timestamp=_,b},[]),u=I.useCallback((p,y="",v)=>{const _=a(p,y,v);console.error(`[Error${y?` in ${y}`:""}]:`,{message:_.message,context:y,details:v,timestamp:_.timestamp,stack:_.stack}),o({message:_.message||"Ocurri un error inesperado",type:"error"}),r(_),setTimeout(()=>{r(null),o(null)},5e3)},[a]),d=I.useCallback(p=>{console.log(`[Success]: ${p}`),o({message:p,type:"success"}),r(null),setTimeout(()=>{o(null)},3e3)},[]),h=I.useCallback(()=>{r(null),o(null)},[]);return g.jsxs(HO.Provider,{value:{error:e,showError:u,showSuccess:d,clearError:h},children:[t,s&&g.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:g.jsx("div",{className:`px-6 py-3 rounded-lg shadow-lg ${s.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"material-icons",children:s.type==="success"?"check_circle":"error"}),g.jsx("span",{className:"font-medium",children:s.message}),g.jsx("button",{onClick:h,className:"hover:opacity-80",children:g.jsx("span",{className:"material-icons !text-lg",children:"close"})})]})})})]})},Ss=({children:t,allowedRoles:e})=>{const{authenticatedUser:r,isAuthLoading:s,isSuperUserMode:o,isJefeMode:a,isDirectivoMode:u,isAdminTesterMode:d,isReporteroMode:h}=ho(),p=Xs();if(s)return g.jsx("div",{className:"flex justify-center items-center min-h-screen",children:g.jsx(H_,{})});if(!r)return g.jsx(Kt,{to:"/login",state:{from:p},replace:!0});if(e){let y=!1;if(e.includes("SuperUser")&&o&&(y=!0),e.includes("Jefe")&&a&&(y=!0),e.includes("Directivo")&&u&&(y=!0),e.includes("Reportero")&&h&&(y=!0),e.includes("Student")&&!o&&!a&&!u&&!h&&!d&&(y=!0),d&&(y=!0),!y)return o?g.jsx(Kt,{to:"/admin/dashboard",replace:!0}):a?g.jsx(Kt,{to:"/jefe/dashboard",replace:!0}):g.jsx(Kt,{to:"/student",replace:!0})}return g.jsx(g.Fragment,{children:t})},tv=3,GO=1e3,KO=t=>new Promise(e=>setTimeout(e,t)),QO=(t,e)=>{if(!t||e.length===0)return null;const r=t.replace(/[%\\]/g,"");return r?e.map(s=>`${s}.ilike.*${r}*`).join(","):null},bp=(t,e)=>(e&&Object.entries(e).forEach(([r,s])=>{s==null||s===""||(r==="startDate"?t=t.gte("fecha_inicio",s):r==="endDate"?t=t.lte("fecha_inicio",s):r==="finishDateGte"?t=t.gte("fecha_finalizacion",s):r==="finishDateLte"?t=t.lte("fecha_finalizacion",s):r==="institucion"?t=t.ilike("nombre_institucion",`%${s}%`):r===cn?t=t.ilike(r,`%${s}%`):Array.isArray(s)?s.length>0&&(t=t.in(r,s)):typeof s=="string"&&s.includes("%")?t=t.ilike(r,s):t=t.eq(r,s))}),t),JO=async(t,e,r,s,o,a,u,d)=>{try{const h=(e-1)*r,p=h+r-1,y=s&&s.length>0?`id, created_at, ${s.join(", ")}`:"*";let v=be.from(t).select(y,{count:"exact"});if(v=bp(v,d),o&&a&&a.length>0){const S=QO(o,a);S&&(v=v.or(S))}u?v=v.order(u.field,{ascending:u.direction==="asc"}):v=v.order("created_at",{ascending:!1});const{data:_,error:b,count:x}=await v.range(h,p);return b?{records:[],total:0,error:{error:{type:"SUPABASE_ERROR",message:b.message}}}:{records:_,total:x||0,error:null}}catch(h){return{records:[],total:0,error:{error:{type:"UNKNOWN_ERROR",message:h.message}}}}},Pb=async(t,e,r,s)=>{try{let o=[],a=0;const u=1e3;let d=!0;const h=e&&e.length>0?`id, created_at, ${e.join(", ")}`:"*";for(;d;){let p=0,y=!1,v=null;for(;p<tv&&!y;)try{let _=be.from(t).select(h);_=bp(_,r),s&&s.length>0?s.forEach(S=>_=_.order(S.field,{ascending:S.direction==="asc"})):_=_.order("id",{ascending:!0});const{data:b,error:x}=await _.range(a,a+u-1);if(x)throw x;b?(o=[...o,...b],b.length<u?d=!1:a+=u):d=!1,y=!0}catch(_){v=_,p++,p<tv&&await KO(GO*p)}if(!y)return{records:[],error:{error:{type:"SUPABASE_ERROR",message:(v==null?void 0:v.message)||"Network error"}}}}return{records:o,error:null}}catch(o){return{records:[],error:{error:{type:"UNKNOWN_ERROR",message:o.message}}}}},YO=async(t,e,r,s,o)=>{if(s&&s>0)try{const a=e&&e.length>0?`id, created_at, ${e.join(", ")}`:"*";let u=be.from(t).select(a).limit(s);u=bp(u,r),o&&o.length>0&&o.forEach(p=>u=u.order(p.field,{ascending:p.direction==="asc"}));const{data:d,error:h}=await u;if(h)throw h;return{records:d,error:null}}catch(a){return{records:[],error:{error:{type:"SUPABASE_ERROR",message:a.message}}}}return await Pb(t,e,r,o)},ZO=async(t,e)=>{try{const{data:r,error:s}=await be.from(t).insert(e).select().single();return s?{record:null,error:{error:{type:"CREATE_ERROR",message:s.message}}}:{record:r,error:null}}catch(r){return{record:null,error:{error:{type:"UNKNOWN_ERROR",message:r.message}}}}},jb=async(t,e,r)=>{try{const{data:s,error:o}=await be.from(t).update(r).eq("id",e).select().maybeSingle();return o?{record:null,error:{error:{type:"UPDATE_ERROR",message:o.message}}}:{record:s,error:null}}catch(s){return{record:null,error:{error:{type:"UNKNOWN_ERROR",message:s.message}}}}},XO=async(t,e)=>{try{const r=e.map(u=>jb(t,u.id,u.fields)),s=await Promise.all(r);return s.filter(u=>u.error).length>0?{records:null,error:{error:{type:"BULK_UPDATE_PARTIAL_ERROR",message:"Algunos registros no se actualizaron."}}}:{records:s.map(u=>u.record).filter(Boolean),error:null}}catch(r){return{records:null,error:{error:{type:"UNKNOWN_ERROR",message:r.message}}}}},eA=async(t,e)=>{try{const{error:r,count:s}=await be.from(t).delete({count:"exact"}).eq("id",e);return r?{success:!1,error:{error:{type:"DELETE_ERROR",message:r.message}}}:s===0?{success:!1,error:{error:{type:"DELETE_ERROR",message:"No se pudo eliminar el registro."}}}:{success:!0,error:null}}catch(r){return{success:!1,error:{error:{type:"UNKNOWN_ERROR",message:r.message}}}}},as=t=>({...t,createdTime:t.created_at||"",id:String(t.id)}),tA=t=>{const e={...t};return t.legajo&&(e.legajo=Me(t.legajo)),t.nombre&&(e.nombre=Me(t.nombre)),t.correo&&(e.correo=Me(t.correo)),as(e)},rA=t=>{const e={...t,especialidad:Me(t.especialidad),estado:Me(t.estado),nota:Me(t.nota)};return as(e)},nA=t=>{const e={...t};return e.nombre_institucion=Me(t.nombre_institucion),e.nombre_alumno=Me(t.nombre_alumno),e.estado_seguimiento=Me(t.estado_seguimiento),as(e)},sA=t=>{const e={...t};return e.nombre_pps=Me(t.nombre_pps),e.orientacion=Me(t.orientacion),e.estado_convocatoria=Me(t.estado_convocatoria),as(e)},iA=t=>{const e={...t};return e.nombre_pps=Me(t.nombre_pps),e.estado_inscripcion=Me(t.estado_inscripcion),e.horario_seleccionado=Me(t.horario_seleccionado),as(e)},oA=t=>{const e={...t};return e.nombre=Me(t.nombre),e.direccion=Me(t.direccion),e.tutor=Me(t.tutor),as(e)},aA=t=>as(t),lA=t=>{const e={...t};return e.estado=Me(t.estado),as(e)};function Mn(t,e){return{getAll:async r=>{const{records:s,error:o}=await Pb(t,r==null?void 0:r.fields,r==null?void 0:r.filters,r==null?void 0:r.sort);return o?(console.warn(`Fetch warning in ${t}:`,o),[]):s.map(e)},get:async r=>{const{records:s,error:o}=await YO(t,[],r==null?void 0:r.filters,r==null?void 0:r.maxRecords,r==null?void 0:r.sort);return o?[]:s.map(e)},getPage:async(r,s,o)=>{const{records:a,total:u,error:d}=await JO(t,r,s,[],o==null?void 0:o.searchTerm,o==null?void 0:o.searchFields,o==null?void 0:o.sort,o==null?void 0:o.filters);return{records:a.map(e),total:u,error:d}},create:async r=>{const{record:s,error:o}=await ZO(t,r);if(o)throw o;if(!s)throw new Error("Create failed, no record returned");return e(s)},update:async(r,s)=>{const{record:o,error:a}=await jb(t,r,s);if(a)throw a;if(!o)throw new Error("Update failed, no record returned");return e(o)},updateMany:async r=>{const{records:s,error:o}=await XO(t,r);if(o)throw o;return(s||[]).map(e)},delete:async r=>{const{success:s,error:o}=await eA(t,r);if(o)throw o;return s}}}const Ve={estudiantes:Mn("estudiantes",tA),practicas:Mn("practicas",rA),convocatorias:Mn("convocatorias",iA),lanzamientos:Mn("lanzamientos_pps",sA),instituciones:Mn("instituciones",oA),penalizaciones:Mn("penalizaciones",aA),solicitudes:Mn("solicitudes_pps",nA),finalizacion:Mn("finalizacion_pps",lA)},pc=async t=>{const{data:e,error:r}=await be.from("estudiantes").select("*").eq(Tr,t).maybeSingle(),s=e;return r||!s?(console.warn("Estudiante no encontrado por legajo:",t),{studentDetails:null,studentAirtableId:null}):{studentDetails:s,studentAirtableId:s.id}},uA=async t=>{const{studentAirtableId:e}=await pc(t);if(!e)return[];const{data:r,error:s}=await be.from("practicas").select(`
          *,
          lanzamiento:lanzamientos_pps!fk_practica_lanzamiento (
              nombre_pps,
              orientacion,
              fecha_inicio,
              fecha_finalizacion
          )
      `).eq(Gs,e);return s||!r?(console.error("Error fetching practicas:",s),[]):r.map(o=>{let a=null;o.lanzamiento&&(Array.isArray(o.lanzamiento)?a=o.lanzamiento[0]:a=o.lanzamiento);const u=o[cn]||(a==null?void 0:a.nombre_pps)||"Institucin desconocida",d=Me(u),h={...o};return!h[rs]&&(a!=null&&a.fecha_inicio)&&(h[rs]=a.fecha_inicio),!h[Jt]&&(a!=null&&a.fecha_finalizacion)&&(h[Jt]=a.fecha_finalizacion),!h[Vr]&&(a!=null&&a.orientacion)&&(h[Vr]=a.orientacion),h[cn]=[d],h})},cA=async(t,e)=>{let r=e;if(!r){const{studentAirtableId:u}=await pc(t);r=u}if(!r)return[];const{data:s,error:o}=await be.from(Lf).select(`
          *,
          estudiante:estudiantes!fk_solicitud_estudiante (
            nombre, legajo, correo
          )
      `).eq(Yu,r).order("created_at",{ascending:!1});return o||!s?(console.error("Error fetching solicitudes:",o),[]):s.map(u=>{const d=Array.isArray(u.estudiante)?u.estudiante[0]:u.estudiante;return{...u,[ro]:(d==null?void 0:d.nombre)||u[ro]||"Estudiante",[Gy]:(d==null?void 0:d.legajo)||u[Gy],[Ky]:(d==null?void 0:d.correo)||u[Ky]}}).filter(u=>u[Ta]!=="Archivado")},dA=async(t,e)=>{try{let r=e;if(!r){const{studentAirtableId:o}=await pc(t);r=o}if(!r)return null;const s=await Ve.finalizacion.get({filters:{[Zu]:r},sort:[{field:"created_at",direction:"desc"}],maxRecords:1});return!s||s.length===0?null:s[0]}catch(r){return console.warn("Suppressing error in fetchFinalizacionRequest:",r),null}},hA=async t=>{let e=[];const r=new Set;t&&(e=await Ve.convocatorias.getAll({filters:{[dr]:t}}),e.forEach(E=>{const N=E[hr];N&&(Array.isArray(N)?N.forEach(F=>r.add(F)):r.add(N))}));const s=await Ve.lanzamientos.getAll({filters:{[cr]:["Abierta","Abierto","Cerrado"]},sort:[{field:$r,direction:"desc"}]}),o=new Set(s.map(S=>S.id)),a=Array.from(r).filter(S=>!o.has(S));let u=[];a.length>0&&(u=await Ve.lanzamientos.getAll({filters:{id:a}}));const d=[...s,...u],h=new Map(d.map(S=>[S.id,S])),p=e.map(S=>{const E=S[hr],N=E?Array.isArray(E)?h.get(E[0]):h.get(E):null;return{...S,[wa]:Ds(S[wa]||(N==null?void 0:N[ut])),[Hu]:S[Hu]||(N==null?void 0:N[$r]),[qu]:S[qu]||(N==null?void 0:N[Br]),[Gu]:S[Gu]||(N==null?void 0:N[dn]),[Ku]:S[Ku]||(N==null?void 0:N[Xn]),[Qu]:S[Qu]||(N==null?void 0:N[Ls])}}),v=s.map(S=>({...S,[ut]:Ds(S[ut])})).filter(S=>{const E=nt(S[cr]),N=S[Di],F=S[eO]||S[XI]||S[$r],j=F?new Date(F)>new Date:!1,B=nt(E)==="cerrada"||nt(E)==="cerrado";return E!=="oculto"&&N!=="Archivado"&&["abierta","abierto","cerrado","cerrada"].includes(E)&&(B||!j)}),_=new Map;d.forEach(S=>{const E=Ds(S[ut]),N=S[dn];E&&N&&_.set(nt(E),N)});const b=await Ve.instituciones.getAll({fields:[As,Qy,Jy]}),x=new Map;return b.forEach(S=>{const E=Ds(S[As]),N=S[Qy],F=S[Jy];E&&N&&x.set(nt(E),{url:N,invert:!!F})}),{lanzamientos:v,myEnrollments:p,allLanzamientos:d,institutionAddressMap:_,institutionLogoMap:x}},J2=async t=>{const e=t.id;if(!e)return null;try{const{data:h,error:p}=await be.rpc("get_postulantes_seleccionados",{lanzamiento_uuid:e});if(!p&&h){const y={};if(h.forEach(v=>{const _=v.horario||"No especificado";y[_]||(y[_]=[]),y[_].push({nombre:v.nombre||"Estudiante",legajo:v.legajo||"---"})}),Object.keys(y).length===0)return null;for(const v in y)y[v].sort((_,b)=>_.nombre.localeCompare(b.nombre));return y}}catch{}const s=(await Ve.convocatorias.getAll({filters:{[hr]:e}})).filter(h=>{const p=String(h[Rt]||"").toLowerCase();return p.includes("seleccionado")||p.includes("asignado")});if(s.length===0)return null;const o=s.map(h=>tc(h[dr])).filter(Boolean),a=await Ve.estudiantes.getAll({filters:{id:o}}),u=new Map(a.map(h=>[h.id,h])),d={};s.forEach(h=>{const p=h[Os]||"No especificado",y=tc(h[dr]),v=y?u.get(y):null,_=v?v[ar]:"Estudiante",b=v?String(v[Tr]):"---";d[p]||(d[p]=[]),d[p].push({nombre:_,legajo:b})});for(const h in d)d[h].sort((p,y)=>p.nombre.localeCompare(y.nombre));return d},Y2=async(t,e,r,s)=>{const o=e?"Seleccionado":"Inscripto";try{if(await Ve.convocatorias.update(t,{[Rt]:o}),e){let a=s[ut];Array.isArray(a)&&(a=a[0]);const u=Me(a),d=Me(s[Xn]);a&&a!==u&&u.length>2&&(console.log(`[DATA SERVICE]  DETECTED DIRTY ROOT: Lanzamiento ${s.id} has dirty name. Cleaning source...`),Ve.lanzamientos.update(s.id,{[ut]:u}).catch(p=>console.warn("Failed to clean source launch",p)));const{data:h}=await be.from("practicas").select(`id, ${cn}`).eq(Gs,r).eq(ts,s.id).maybeSingle();if(h){console.log("[DATA SERVICE] Practica already exists. Checking data integrity...");const p=h,y=p[cn],v=Array.isArray(y)?y[0]:String(y);v!==u&&(console.log(`[DATA SERVICE] Fixing dirty name: ${v} -> ${u}`),await Ve.practicas.update(p.id,{[cn]:[u],[Vr]:d}))}else{console.log(`[DATA SERVICE] Creating Practica. Name="${u}"`);let p=u;typeof p=="string"&&(p=p.replace(/^\{|^\[|\]$|\}$/g,"").replace(/^"|^'|"$|'$/g,""));const y={[Gs]:r,[ts]:s.id,[cn]:p,[Vr]:d,[rs]:s[$r],[Jt]:s[Br],[to]:0,[Ir]:"En curso",[zr]:"Sin calificar"};await Ve.practicas.create(y)}}else{const{data:a}=await be.from("practicas").select("id").eq(Gs,r).eq(ts,s.id);if(a&&a.length>0){const u=a;for(const d of u)await Ve.practicas.delete(d.id)}}return{success:!0}}catch(a){return console.error("[DATA SERVICE] ERROR:",a),{success:!1,error:a.message}}},Z2=async(t,e,r)=>{if(!e)throw new Error("No student ID");const s=t.name.split(".").pop(),o=`${e}/${r}_${Date.now()}.${s}`,{error:a}=await be.storage.from("documentos_finalizacion").upload(o,t,{upsert:!0});if(a)throw a;const{data:u}=be.storage.from("documentos_finalizacion").getPublicUrl(o);return u.publicUrl},X2=async(t,e)=>{const r={[Zu]:t,[Xu]:new Date().toISOString(),[ec]:"Pendiente",[dO]:JSON.stringify(e.informes),[hO]:JSON.stringify(e.horas),[fO]:JSON.stringify(e.asistencias),[pO]:e.sugerencias};await Ve.finalizacion.create(r)},eF=async t=>{try{return await Ve.finalizacion.delete(t),{success:!0,error:null}}catch(e){return{success:!1,error:e}}},tF=async(t,e)=>{try{const r=Me(e).replace(/[^a-z0-9]/gi,"_").toLowerCase(),s=t.name.split(".").pop(),o=`logos/${r}_${Date.now()}.${s}`,a="institution-logos",{error:u}=await be.storage.from(a).upload(o,t,{upsert:!0});if(u)throw console.error("Upload Error (institution-logos):",u),new Error(`Error subiendo logo: ${u.message}`);const{data:d}=be.storage.from(a).getPublicUrl(o);return d.publicUrl}catch(r){throw new Error(r.message||"Error desconocido al subir logo")}},Lb=new Date,fA=Lb.getFullYear(),Fe=(t=0)=>{const e=new Date(Lb);return e.setMonth(e.getMonth()+t),e.toISOString()},Nt=t=>new Date(fA,t,15).toISOString(),rv=[{id:"inst_1",created_at:Fe(-20),[As]:"Hospital Garrahan",[la]:"Pichincha 1890",[aa]:"4122-6000",[ua]:!0,[ca]:"Lic. Peralta"},{id:"inst_2",created_at:Fe(-20),[As]:"Clnica San Jorge",[la]:"Av. Maip 1234",[aa]:"4790-1000",[ua]:!1,[ca]:"Lic. Fernandez"},{id:"inst_3",created_at:Fe(-20),[As]:"Fundacin S",[la]:"ngel Carranza 1962",[aa]:"4775-6900",[ua]:!0,[ca]:"Lic. Gomez"},{id:"inst_4",created_at:Fe(-20),[As]:"ManpowerGroup",[la]:"F. Alcorta 3351",[aa]:"4809-5100",[ua]:!0,[ca]:"Lic. Martinez"},{id:"inst_5",created_at:Fe(-20),[As]:"Centro de Salud Mental N1",[la]:"Manuela Pedraza 1558",[aa]:"4702-7489",[ua]:!0,[ca]:"Lic. Lopez"}],nv=[{id:"st_999",created_at:Fe(-12),[Tr]:"99999",[ar]:"Usuario de Prueba",[Cr]:12345678,[lr]:"tester@uflo.edu.ar",[ur]:"Clinica",[Ri]:!1,[Sb]:"Alumno para demostracin."},{id:"st_1",created_at:Fe(-10),[Tr]:"35123",[ar]:"Sofa Martnez",[Cr]:38111,[lr]:"sofia@test.com",[ur]:"Clinica",[Ri]:!1},{id:"st_2",created_at:Fe(-10),[Tr]:"36451",[ar]:"Lucas Prez",[Cr]:40222,[lr]:"lucas@test.com",[ur]:"Laboral",[Ri]:!1},{id:"st_3",created_at:Fe(-24),[Tr]:"33999",[ar]:"Camila Lpez",[Cr]:37333,[lr]:"cami@test.com",[ur]:"Educacional",[Ri]:!0,[Lh]:Nt(2)},{id:"st_4",created_at:Fe(-24),[Tr]:"31000",[ar]:"Martn Garcia",[Cr]:35444,[lr]:"martin@test.com",[ur]:"Comunitaria",[Ri]:!0,[Lh]:Nt(5)},{id:"st_5",created_at:Fe(-24),[Tr]:"32555",[ar]:"Ana Torres",[Cr]:39555,[lr]:"ana@test.com",[ur]:"Clinica",[Ri]:!0,[Lh]:Nt(8)}],sv=[{id:"lanz_1",created_at:Fe(-6),[ut]:"Hospital Garrahan - Guardia Peditrica",[$r]:Nt(2),[Br]:Nt(6),[Xn]:"Clinica",[mu]:10,[cr]:"Abierta",[Di]:"Relanzamiento Confirmado",[gu]:"Lunes 8 a 12hs; Mircoles 8 a 12hs",[dn]:"Pichincha 1890",[Ls]:80},{id:"lanz_2",created_at:Fe(-5),[ut]:"Clnica San Jorge - Admisiones",[$r]:Nt(3),[Br]:Nt(7),[Xn]:"Clinica",[mu]:5,[cr]:"Cerrado",[Di]:"Relanzamiento Confirmado",[gu]:"Martes 14 a 18hs",[dn]:"Av. Maip 1234",[Ls]:60},{id:"lanz_3",created_at:Fe(-4),[ut]:"Fundacin S - Abordaje Comunitario",[$r]:Nt(4),[Br]:Nt(8),[Xn]:"Comunitaria",[mu]:15,[cr]:"Abierta",[Di]:"Relanzamiento Confirmado",[gu]:"Sbados 10 a 14hs",[dn]:"ngel Carranza 1962",[Ls]:40},{id:"lanz_4",created_at:Fe(-1),[ut]:"ManpowerGroup - Seleccin IT",[$r]:Nt(7),[Br]:Nt(11),[Xn]:"Laboral",[mu]:8,[cr]:"Abierta",[Di]:"Relanzamiento Confirmado",[gu]:"Full time",[dn]:"Remoto",[Ls]:120}],iv=[{id:"conv_1",created_at:Fe(-5),[hr]:"lanz_1",[dr]:"st_999",[Rt]:"Seleccionado",[Os]:"Lunes 8 a 12hs"},{id:"conv_2",created_at:Fe(-5),[hr]:"lanz_1",[dr]:"st_1",[Rt]:"Seleccionado",[Os]:"Mircoles 8 a 12hs"},{id:"conv_3",created_at:Fe(-5),[hr]:"lanz_1",[dr]:"st_2",[Rt]:"Inscripto",[Os]:"Lunes 8 a 12hs"},{id:"conv_4",created_at:Fe(-4),[hr]:"lanz_2",[dr]:"st_3",[Rt]:"Seleccionado",[Os]:"Martes 14 a 18hs"},{id:"conv_5",created_at:Fe(-2),[hr]:"lanz_3",[dr]:"st_4",[Rt]:"Inscripto",[Os]:"Sbados 10 a 14hs"}],ov=[{id:"prac_1",created_at:Fe(-2),[Gs]:"st_999",[ts]:"lanz_1",[to]:40,[Ir]:"En curso",[zr]:"Sin calificar",[Vr]:"Clinica",[rs]:Nt(2),[Jt]:Nt(6)},{id:"prac_2",created_at:Fe(-6),[Gs]:"st_3",[ts]:"lanz_2",[to]:60,[Ir]:"Finalizada",[zr]:"9",[Vr]:"Clinica",[rs]:Nt(3),[Jt]:Nt(7)}],av=[{id:"sol_1",created_at:Fe(-1),[ro]:"Usuario de Prueba",[Yu]:"st_999",[Ju]:"Centro Racker",[Ta]:"Pendiente"},{id:"sol_2",created_at:Fe(-5),[ro]:"Lucas Prez",[Yu]:"st_2",[Ju]:"Clnica Esperanza",[Ta]:"Realizando convenio"}],lv=[{id:"fin_1",created_at:Fe(-1),[Zu]:"st_5",[Xu]:Fe(-1),[ec]:"Pendiente"},{id:"fin_2",created_at:Fe(-20),[Zu]:"st_3",[Xu]:Fe(-20),[ec]:"Cargado"}],uv=[];class pA{constructor(){sr(this,"data",{estudiantes:[...nv],instituciones:[...rv],lanzamientos_pps:[...sv],practicas:[...ov],solicitudes_pps:[...av],convocatorias:[...iv],penalizaciones:[...uv],finalizacion_pps:[...lv]})}reset(){this.data={estudiantes:[...nv],instituciones:[...rv],lanzamientos_pps:[...sv],practicas:[...ov],solicitudes_pps:[...av],convocatorias:[...iv],penalizaciones:[...uv],finalizacion_pps:[...lv]}}async getAll(e,r){await new Promise(o=>setTimeout(o,300));let s=this.data[e]||[];return r&&(s=s.filter(o=>Object.entries(r).every(([a,u])=>Array.isArray(u)?u.includes(o[a]):typeof o[a]=="string"&&o[a].includes(",")?o[a].split(",").map(d=>d.trim()).includes(u):String(o[a])===String(u)))),JSON.parse(JSON.stringify(s))}async create(e,r){await new Promise(o=>setTimeout(o,400));const s={id:`mock_${e}_${Date.now()}`,created_at:new Date().toISOString(),...r};return this.data[e]||(this.data[e]=[]),this.data[e]=[s,...this.data[e]],s}async update(e,r,s){await new Promise(a=>setTimeout(a,300));const o=this.data[e].findIndex(a=>a.id===r);if(o===-1)throw new Error(`Record ${r} not found in mock db table ${e}`);return this.data[e][o]={...this.data[e][o],...s},this.data[e][o]}async delete(e,r){return await new Promise(s=>setTimeout(s,300)),this.data[e]=this.data[e].filter(s=>s.id!==r),{success:!0}}}const Ur=new pA,Mh=t=>t==null?!1:String(t).replace(/[\[\]"']/g,"").trim().length>2,mA=t=>{const e=lo(),{showModal:r}=Ba(),{data:s,isLoading:o,error:a,refetch:u}=Ma({queryKey:["student",t],queryFn:async()=>{if(t==="99999"){await new Promise(_=>setTimeout(_,500));const v=(await Ur.getAll("estudiantes",{legajo:"99999"}))[0];return{studentDetails:v,studentAirtableId:v.id}}return pc(t)},staleTime:1e3*60*5,refetchOnWindowFocus:!1}),d=(s==null?void 0:s.studentDetails)??null,h=(s==null?void 0:s.studentAirtableId)??null;I.useEffect(()=>{if(d&&h&&t!=="99999"){const v=d[Vy],_=Mh(d[Cr])||Mh(d[lr])||Mh(d[Vu]);v==="Nuevo (Sin cuenta)"&&_&&(console.log(` Sanando estado para legajo ${t}...`),Ve.estudiantes.update(h,{[Vy]:"Inactivo"}).then(()=>{e.invalidateQueries({queryKey:["metricsData"]})}))}},[d,h,t,e]);const p=Zi({mutationFn:async v=>{if(!h)throw new Error("ID no disponible.");return Ve.estudiantes.update(h,{[ur]:v||null})},onSuccess:()=>e.invalidateQueries({queryKey:["student",t]}),onError:v=>r("Error",`No se pudo guardar: ${v.message}`)}),y=Zi({mutationFn:async v=>{if(!h)throw new Error("ID no disponible.");return Ve.estudiantes.update(h,{[Sb]:v||null})},onSuccess:()=>{e.invalidateQueries({queryKey:["student",t]}),r("xito","Notas guardadas correctamente.")},onError:v=>r("Error",`Error: ${v.message}`)});return{studentDetails:d,studentAirtableId:h,isStudentLoading:o,studentError:a,updateOrientation:p,updateInternalNotes:y,refetchStudent:u}},gA=t=>{const e=lo(),{showModal:r}=Ba(),{data:s=[],isLoading:o,error:a,refetch:u}=Ma({queryKey:["practicas",t],queryFn:async()=>{let p=[];t==="99999"?(await new Promise(_=>setTimeout(_,600)),p=await Ur.getAll("practicas",{[Gs]:"st_999"})):p=await uA(t);const y=new Date;y.setHours(0,0,0,0);const v=[];for(const _ of p)if(nt(_[Ir])==="en curso"&&_[Jt]){const x=rc(_[Jt]);x&&x<y&&(t==="99999"?await Ur.update("practicas",_.id,{[Ir]:"Finalizada"}):v.push(Ve.practicas.update(_.id,{[Ir]:"Finalizada"})),_[Ir]="Finalizada")}return v.length>0&&await Promise.all(v),p},staleTime:1e3*60*5,refetchOnWindowFocus:!0}),d=Zi({mutationFn:async({practicaId:p,nota:y,convocatoriaId:v})=>{if(t==="99999"){await Ur.update("practicas",p,{[zr]:y}),y==="No Entregado"&&v&&await Ur.update("convocatorias",v,{[Wu]:!1});return}const _=y==="Sin calificar"?null:y,b=[Ve.practicas.update(p,{[zr]:_})];return y==="No Entregado"&&v&&b.push(Ve.convocatorias.update(v,{[Wu]:!1})),Promise.all(b)},onSuccess:(p,y)=>{y.nota==="No Entregado"&&r("Actualizacin Exitosa",'El estado del informe se ha cambiado a "No Entregado".'),e.invalidateQueries({queryKey:["practicas",t]}),e.invalidateQueries({queryKey:["convocatorias",t]})},onError:()=>r("Error","No se pudo actualizar la nota.")}),h=Zi({mutationFn:async({practicaId:p,fecha:y})=>t==="99999"?Ur.update("practicas",p,{[Jt]:y}):Ve.practicas.update(p,{[Jt]:y}),onSuccess:()=>{e.invalidateQueries({queryKey:["practicas",t]}),r("Fecha Actualizada","La fecha de finalizacin se ha modificado correctamente.")},onError:p=>r("Error",`No se pudo actualizar la fecha: ${p.message}`)});return{practicas:s,isPracticasLoading:o,practicasError:a,updateNota:d,updateFechaFin:h,refetchPracticas:u}},yA=(t,e)=>{const{data:r=[],isLoading:s,error:o,refetch:a}=Ma({queryKey:["solicitudes",t],queryFn:async()=>t==="99999"?(await Ur.getAll("solicitudes_pps",{[Yu]:"st_999"})).filter(d=>d[Ta]!=="Archivado"):cA(t,e),enabled:!!t,staleTime:3e5,refetchOnWindowFocus:!0});return{solicitudes:r,isSolicitudesLoading:s,solicitudesError:o,refetchSolicitudes:a}},vA=(t,e,r,s)=>{const o=lo(),{showModal:a,openEnrollmentForm:u,closeEnrollmentForm:d,setIsSubmittingEnrollment:h}=Ba(),{data:p,isLoading:y,error:v,refetch:_}=Ma({queryKey:["convocatorias",t,e],queryFn:async()=>{if(t==="99999"){const[H,G]=await Promise.all([Ur.getAll("convocatorias",{[dr]:e||"st_999"}),Ur.getAll("lanzamientos_pps")]),Z=new Map(G.map(fe=>[fe.id,fe])),oe=H.map(fe=>{const Te=fe[hr],pe=Z.get(Te);return{...fe,[wa]:Ds(pe==null?void 0:pe[ut]),[Hu]:pe==null?void 0:pe[$r],[qu]:pe==null?void 0:pe[Br],[Gu]:pe==null?void 0:pe[dn],[Ku]:pe==null?void 0:pe[Xn],[Qu]:pe==null?void 0:pe[Ls]}}),ae=G.filter(fe=>{const Te=nt(fe[cr]),pe=fe[Di];return Te!=="oculto"&&pe!=="Archivado"&&pe!=="No se Relanza"}),te=new Map;return G.forEach(fe=>{const Te=fe[ut],pe=fe[dn];Te&&pe&&te.set(nt(Te),pe)}),{lanzamientos:ae,myEnrollments:oe,allLanzamientos:G,institutionAddressMap:te,institutionLogoMap:new Map}}return hA(e)},enabled:!!e||s||t==="99999",staleTime:1e3*60*5,refetchOnWindowFocus:!0}),{lanzamientos:b=[],myEnrollments:x=[],allLanzamientos:S=[],institutionAddressMap:E=new Map,institutionLogoMap:N=new Map}=p||{},F=Zi({mutationFn:async({formData:H,selectedLanzamiento:G})=>{if(t==="99999"){await new Promise(te=>setTimeout(te,800));const ae={[hr]:G.id,[dr]:"st_999",[Rt]:"Inscripto",[wa]:Ds(G[ut]),[qy]:H.cursandoElectivas?"S":"No"};return await Ur.create("convocatorias",ae),ae}if(!e)throw new Error("No student ID");(H.trabaja!==void 0||H.certificadoTrabajoUrl)&&await Ve.estudiantes.update(e,{[ZI]:H.trabaja,[Dh]:H.certificadoTrabajoUrl||(r==null?void 0:r[Dh])});const Z={[hr]:tc(G.id),[dr]:tc(e),[Rt]:"Inscripto",[iO]:H.terminoDeCursar?"S":"No",[qy]:H.cursandoElectivas?"S":"No",[oO]:H.finalesAdeudados,[aO]:H.otraSituacionAcademica,[Os]:H.horarios.join("; "),[lO]:H.trabaja,[uO]:H.certificadoTrabajoUrl||(r==null?void 0:r[Dh]),[cO]:H.cvUrl,[wa]:Ds(G[ut]),[Hu]:G[$r],[qu]:G[Br],[Ku]:G[Xn],[Qu]:G[Ls],[Gu]:G[dn]},oe=parseInt(t,10);return isNaN(oe)||(Z[tO]=oe),r&&(Z[nO]=r[lr],Z[sO]=r[Vu],Z[rO]=r[Cr]),Ve.convocatorias.create(Z)},onMutate:async()=>{await o.cancelQueries({queryKey:["convocatorias",t,e]}),h(!0)},onError:H=>{a("Error",`Error: ${H.message}`)},onSuccess:()=>{a("Inscripcin Exitosa!","Tu solicitud ha sido registrada correctamente."),o.invalidateQueries({queryKey:["convocatorias",t,e]}),o.invalidateQueries({queryKey:["student",t]}),d()},onSettled:()=>{h(!1)}}),j=Zi({mutationFn:async H=>{if(t!=="99999"){if(H.practicaId&&H.convocatoriaId.startsWith("practica-"))return Ve.practicas.update(H.practicaId,{[zr]:"Entregado (sin corregir)"});if(H.convocatoriaId)return Ve.convocatorias.update(H.convocatoriaId,{[Wu]:!0,[xb]:new Date().toISOString()})}},onSuccess:()=>{o.invalidateQueries({queryKey:["convocatorias",t,e]}),o.invalidateQueries({queryKey:["practicas",t]})}}),B={mutate:H=>{u(H,r,async G=>{await F.mutateAsync({formData:G,selectedLanzamiento:H})})},isPending:F.isPending};return{lanzamientos:b,myEnrollments:x,allLanzamientos:S,isConvocatoriasLoading:y,convocatoriasError:v,enrollStudent:B,confirmInforme:j,refetchConvocatorias:_,institutionAddressMap:E,institutionLogoMap:N}},_A=(t,e)=>{const{data:r=null,isLoading:s,error:o,refetch:a}=Ma({queryKey:["finalizacionRequest",t],queryFn:()=>dA(t,e),enabled:!!e,staleTime:3e5});return{finalizacionRequest:r,isFinalizationLoading:s,finalizationError:o,refetchFinalizacion:a}},cv={HOURS_TOTAL_REQUIRED:250,HOURS_SPECIALTY_REQUIRED:70},wA=t=>{const e=nt(t);return e==="en curso"||e==="pendiente"||e==="en proceso"},bA=t=>t.reduce((e,r)=>e+(r[to]||0),0),EA=(t,e)=>{if(!e)return 0;const r=nt(e);return t.filter(s=>nt(s[Vr])===r).reduce((s,o)=>s+(o[to]||0),0)},SA=t=>[...new Set(t.map(e=>e[Vr]).filter(Boolean).map(String))],xA=t=>t.some(e=>wA(e[Ir])),dv={horasObjetivoTotal:cv.HOURS_TOTAL_REQUIRED,horasObjetivoOrientacion:cv.HOURS_SPECIALTY_REQUIRED},Db={horasTotales:0,horasFaltantes250:dv.horasObjetivoTotal,cumpleHorasTotales:!1,horasOrientacionElegida:0,horasFaltantesOrientacion:dv.horasObjetivoOrientacion,cumpleHorasOrientacion:!1,orientacionesCursadasCount:0,orientacionesUnicas:[],cumpleRotacion:!1,tienePracticasPendientes:!1},kA=(t,e,r)=>{if(t.length===0)return{...Db,horasFaltantes250:r.horasObjetivoTotal,horasFaltantesOrientacion:r.horasObjetivoOrientacion};const s=bA(t),o=EA(t,e),a=SA(t),u=xA(t),d=s>=r.horasObjetivoTotal,h=o>=r.horasObjetivoOrientacion,p=a.length>=r.rotacionObjetivo;return{horasTotales:s,cumpleHorasTotales:d,horasOrientacionElegida:o,cumpleHorasOrientacion:h,orientacionesCursadasCount:a.length,orientacionesUnicas:a,cumpleRotacion:p,horasFaltantes250:Math.max(0,r.horasObjetivoTotal-s),horasFaltantesOrientacion:Math.max(0,r.horasObjetivoOrientacion-o),tienePracticasPendientes:u}};function TA({myEnrollments:t,allLanzamientos:e,practicas:r}){const s=new Map(e.map(v=>[v.id,v])),o=new Map;t.forEach(v=>{const _=v[hr];_&&(o.has(_)||o.set(_,[]),o.get(_).push(v))});const a=new Map,u={seleccionado:3,inscripto:2,"no seleccionado":1};o.forEach((v,_)=>{const b=v.reduce((x,S)=>{const E=nt(x[Rt]),N=nt(S[Rt]),F=u[E]||0;return(u[N]||0)>F?S:x});a.set(_,b)});const d=new Set,h=["finalizada","pps realizada","convenio realizado","aprobada"];r.forEach(v=>{const _=nt(v[Ir]);if(h.includes(_)){const b=v[ts];b&&d.add(b);const x=v[cn],S=String(x||"");if(S.trim()){const E=nt(S);d.add(E)}}});const p=[],y=new Set;for(const[v,_]of a.entries())if(nt(_[Rt])==="seleccionado"){const b=s.get(v);if(b&&b[yu]){const x=r.find(S=>S[ts]===b.id);p.push({convocatoriaId:_.id,practicaId:x==null?void 0:x.id,ppsName:b[ut]||"Prctica",informeLink:b[yu],fechaFinalizacion:b[Br]||new Date().toISOString(),informeSubido:!!_[Wu],nota:x==null?void 0:x[zr],fechaEntregaInforme:_[xb]}),y.add(v)}}for(const v of r){const _=v[ts];if(_&&!y.has(_)){const b=s.get(_),x=nt(v[Ir]);b&&b[yu]&&h.includes(x)&&(p.push({convocatoriaId:`practica-${v.id}`,practicaId:v.id,ppsName:b[ut]||"Prctica",informeLink:b[yu],fechaFinalizacion:b[Br]||v[Jt]||new Date().toISOString(),informeSubido:!!v[zr],nota:v[zr]}),y.add(_))}}return p.sort((v,_)=>{var N,F;const b=!v.informeSubido,x=!_.informeSubido;if(b&&!x)return-1;if(!b&&x)return 1;const S=((N=rc(v.fechaFinalizacion))==null?void 0:N.getTime())||0,E=((F=rc(_.fechaFinalizacion))==null?void 0:F.getTime())||0;return S-E}),{enrollmentMap:a,completedLanzamientoIds:d,informeTasks:p}}const Fb=I.createContext(void 0),CA=({legajo:t,children:e})=>{const{isSuperUserMode:r}=ho(),s=$O(),{studentDetails:o,studentAirtableId:a,isStudentLoading:u,studentError:d,updateOrientation:h,updateInternalNotes:p,refetchStudent:y}=mA(t),{practicas:v,isPracticasLoading:_,practicasError:b,updateNota:x,updateFechaFin:S,refetchPracticas:E}=gA(t),{solicitudes:N,isSolicitudesLoading:F,solicitudesError:j,refetchSolicitudes:B}=yA(t,a),{lanzamientos:H,myEnrollments:G,allLanzamientos:Z,isConvocatoriasLoading:oe,convocatoriasError:ae,enrollStudent:te,confirmInforme:fe,refetchConvocatorias:Te,institutionAddressMap:pe,institutionLogoMap:V}=vA(t,a,o,r),{finalizacionRequest:A,isFinalizationLoading:L,finalizationError:D,refetchFinalizacion:P}=_A(t,a),q=u||_||F||oe||L,W=d||b||j||ae||D,C=I.useCallback(()=>{y(),E(),B(),Te(),P()},[y,E,B,Te,P]),$=o&&o[ur]?o[ur]:"",X=I.useMemo(()=>q?Db:kA(v,$,s),[v,$,q,s]),{enrollmentMap:ne,completedLanzamientoIds:me,informeTasks:Ee}=I.useMemo(()=>oe||_?{enrollmentMap:new Map,completedLanzamientoIds:new Set,informeTasks:[]}:TA({myEnrollments:G,allLanzamientos:Z,practicas:v}),[G,Z,v,oe,_]),Ce={studentDetails:o,studentAirtableId:a,practicas:v,solicitudes:N,lanzamientos:H,allLanzamientos:Z,institutionAddressMap:pe,institutionLogoMap:V,finalizacionRequest:A,isLoading:q,isStudentLoading:u,isPracticasLoading:_,isSolicitudesLoading:F,isConvocatoriasLoading:oe,isFinalizationLoading:L,error:W,updateOrientation:h,updateInternalNotes:p,updateNota:x,updateFechaFin:S,enrollStudent:te,confirmInforme:fe,refetchAll:C,criterios:X,enrollmentMap:ne,completedLanzamientoIds:me,informeTasks:Ee};return g.jsx(Fb.Provider,{value:Ce,children:e})},IA=()=>{const t=I.useContext(Fb);if(!t)throw new Error("useStudentPanel must be used within a StudentPanelProvider");return t},OA=()=>{const{canInstall:t,triggerInstall:e}=Ib(),[r,s]=I.useState(!1),[o,a]=I.useState(!1);I.useEffect(()=>{t&&s(!0);const d=window.navigator.userAgent.toLowerCase(),h=/iphone|ipad|ipod/.test(d),p="standalone"in window.navigator&&window.navigator.standalone;h&&!p&&(a(!0),s(!0))},[t]);const u=()=>{o?alert("Para instalar en iOS: toca el botn 'Compartir' de Safari y selecciona 'Agregar a Inicio'."):e()};return r?g.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 z-[9999] md:hidden",children:g.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-md text-white p-4 rounded-2xl shadow-2xl border border-white/10 flex items-center justify-between gap-4 animate-scale-in",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-blue-500/20 rounded-xl",children:g.jsx("span",{className:"material-icons !text-2xl text-blue-400",children:"install_mobile"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-sm leading-tight text-white",children:"Instalar Aplicacin"}),g.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:"Acceso rpido y notificaciones"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-500 text-white text-[11px] font-black px-4 py-2.5 rounded-xl shadow-lg shadow-blue-500/20 active:scale-95 transition-all uppercase tracking-tighter",children:"Instalar"}),g.jsx("button",{onClick:()=>s(!1),className:"p-1 text-slate-500 hover:text-white transition-colors",children:g.jsx("span",{className:"material-icons !text-lg",children:"close"})})]})]})}):null},AA=({title:t,description:e})=>g.jsxs("div",{className:"relative p-6 rounded-3xl border border-blue-100/60 dark:border-slate-800 shadow-lg overflow-hidden bg-gradient-to-br from-white via-blue-50/40 to-indigo-50/40 dark:from-slate-900 dark:via-[#0B1120] dark:to-slate-950 backdrop-blur-xl animate-fade-in-up group mb-6",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400/20 to-indigo-400/20 rounded-full blur-2xl -mr-10 -mt-10 pointer-events-none"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-emerald-400/10 to-teal-400/10 rounded-full blur-2xl -ml-10 -mb-10 pointer-events-none"}),g.jsxs("div",{className:"relative z-10 flex flex-col gap-2",children:[g.jsx("h2",{className:"text-3xl sm:text-4xl font-black text-slate-800 dark:text-white tracking-tight leading-tight drop-shadow-sm",children:t}),e&&g.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed mt-1 max-w-[95%]",children:e})]})]}),NA=({children:t,title:e,description:r,icon:s,actions:o,className:a="",style:u,titleAs:d="h2",titleClassName:h="",noPadding:p=!1,hoverable:y=!1})=>{const v=d;return g.jsxs("div",{className:`glass-panel rounded-3xl transition-all duration-300 ${y?"glass-card-hover cursor-pointer":""} ${a}`,style:u,children:[(e||r||o)&&g.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 border-b border-slate-100/50 dark:border-white/5 ${p?"p-6":"p-6 sm:p-8 mb-0"}`,children:[(e||r)&&g.jsxs("div",{className:"flex items-start gap-4 flex-grow",children:[s&&g.jsx("div",{className:"flex-shrink-0 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-700 text-blue-600 dark:text-blue-400 rounded-2xl h-12 w-12 flex items-center justify-center shadow-sm",children:g.jsx("span",{className:"material-icons !text-2xl",children:s})}),g.jsxs("div",{children:[e&&g.jsx(v,{className:`text-slate-900 dark:text-white text-xl font-black tracking-tight ${h}`,children:e}),r&&g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium text-sm leading-relaxed",children:r})]})]}),o&&g.jsx("div",{className:"flex-shrink-0 self-start sm:self-center",children:o})]}),g.jsx("div",{className:p?"":"p-6 sm:p-8 pt-0",children:t})]})},RA=({title:t,icon:e,children:r,description:s})=>g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"md:hidden animate-fade-in-up",children:[g.jsx(AA,{title:t,description:s}),g.jsx("div",{className:"mt-4",children:r})]}),g.jsx("div",{className:"hidden md:block animate-fade-in-up",children:g.jsx(NA,{title:t,icon:e,description:s,children:r})})]}),PA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("circle",{cx:"90",cy:"90",r:"50",className:"stroke-slate-200 dark:stroke-slate-700",strokeWidth:"8",strokeDasharray:"10 10"}),g.jsx("circle",{cx:"90",cy:"90",r:"30",className:"fill-blue-100 dark:fill-blue-900/30"}),g.jsx("path",{d:"M130 130L160 160",className:"stroke-slate-300 dark:stroke-slate-600",strokeWidth:"12",strokeLinecap:"round"}),g.jsx("circle",{cx:"110",cy:"70",r:"8",className:"fill-blue-400 dark:fill-blue-500 animate-pulse"})]}),jA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("rect",{x:"50",y:"40",width:"100",height:"120",rx:"10",className:"stroke-slate-200 dark:stroke-slate-700",strokeWidth:"8"}),g.jsx("path",{d:"M50 80H150",className:"stroke-slate-100 dark:stroke-slate-800",strokeWidth:"4"}),g.jsx("rect",{x:"70",y:"70",width:"60",height:"60",rx:"30",className:"fill-slate-50 dark:fill-slate-800/50 stroke-slate-200 dark:stroke-slate-700",strokeWidth:"4"}),g.jsx("path",{d:"M90 100L110 100",className:"stroke-slate-300 dark:stroke-slate-600",strokeWidth:"4",strokeLinecap:"round"}),g.jsx("circle",{cx:"130",cy:"140",r:"15",className:"fill-amber-100 dark:fill-amber-900/30 stroke-amber-200 dark:stroke-amber-700",strokeWidth:"4"})]}),LA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("circle",{cx:"100",cy:"100",r:"60",className:"fill-emerald-50 dark:fill-emerald-900/20 stroke-emerald-100 dark:stroke-emerald-800",strokeWidth:"4"}),g.jsx("path",{d:"M70 100L90 120L130 80",className:"stroke-emerald-500 dark:stroke-emerald-400",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("circle",{cx:"50",cy:"50",r:"5",className:"fill-emerald-300 animate-ping"}),g.jsx("circle",{cx:"150",cy:"150",r:"3",className:"fill-emerald-400 animate-bounce"})]}),DA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M100 40L160 150H40L100 40Z",className:"fill-rose-50 dark:fill-rose-900/20 stroke-rose-200 dark:stroke-rose-800",strokeWidth:"6",strokeLinejoin:"round"}),g.jsx("path",{d:"M100 80V110",className:"stroke-rose-400 dark:stroke-rose-500",strokeWidth:"8",strokeLinecap:"round"}),g.jsx("circle",{cx:"100",cy:"130",r:"6",className:"fill-rose-500"})]}),FA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("rect",{x:"40",y:"140",width:"120",height:"20",rx:"4",className:"fill-slate-200 dark:fill-slate-700"}),g.jsx("path",{d:"M60 140L60 80L100 50L140 80L140 140",className:"stroke-slate-300 dark:stroke-slate-600",strokeWidth:"6",strokeLinejoin:"round"}),g.jsx("circle",{cx:"100",cy:"90",r:"15",className:"fill-indigo-100 dark:fill-indigo-900/30 stroke-indigo-300 dark:stroke-indigo-700",strokeWidth:"4"}),g.jsx("path",{d:"M90 90H110",className:"stroke-indigo-400",strokeWidth:"2"}),g.jsx("path",{d:"M100 80V100",className:"stroke-indigo-400",strokeWidth:"2"})]}),MA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("rect",{x:"60",y:"40",width:"80",height:"100",rx:"8",className:"fill-white dark:fill-slate-800 stroke-slate-200 dark:stroke-slate-600",strokeWidth:"4"}),g.jsx("path",{d:"M75 70H125",className:"stroke-blue-200 dark:stroke-blue-900",strokeWidth:"4",strokeLinecap:"round"}),g.jsx("path",{d:"M75 90H125",className:"stroke-blue-200 dark:stroke-blue-900",strokeWidth:"4",strokeLinecap:"round"}),g.jsx("path",{d:"M75 110H105",className:"stroke-blue-200 dark:stroke-blue-900",strokeWidth:"4",strokeLinecap:"round"}),g.jsx("rect",{x:"80",y:"110",width:"80",height:"60",rx:"8",className:"fill-blue-50 dark:fill-blue-900/40 stroke-blue-300 dark:stroke-blue-700",strokeWidth:"4"}),g.jsx("circle",{cx:"120",cy:"140",r:"12",className:"fill-blue-500"}),g.jsx("path",{d:"M115 140L118 143L125 136",className:"stroke-white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),UA=({icon:t,title:e,message:r,className:s="",action:o})=>{const a=()=>{const u="w-32 h-32 sm:w-40 sm:h-40 mx-auto drop-shadow-sm";switch(t){case"search_off":case"person_search":case"search":return g.jsx(PA,{className:u});case"error":case"warning":case"report":return g.jsx(DA,{className:u});case"check_circle":case"task_alt":case"verified":case"verified_user":return g.jsx(LA,{className:u});case"construction":case"pending_actions":return g.jsx(FA,{className:u});case"inbox":case"list_alt":case"description":case"folder_off":return g.jsx(MA,{className:u});default:return g.jsx(jA,{className:u})}};return g.jsxs("div",{className:`text-center py-12 px-6 rounded-3xl transition-all duration-300 ${s}`,children:[g.jsx("div",{className:"mb-6 animate-[subtle-bob_4s_ease-in-out_infinite]",children:a()}),g.jsx("h3",{className:"font-extrabold text-slate-900 dark:text-white text-xl sm:text-2xl tracking-tight mb-2",children:g.jsx("span",{children:e})}),g.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm sm:text-base font-medium max-w-md mx-auto leading-relaxed",children:g.jsx("span",{children:r})}),o&&g.jsx("div",{className:"mt-8 flex justify-center",children:o})]})},$A=["4","5","6","7","8","9","10"],BA=({onSelect:t,onClose:e,currentValue:r})=>{const s=(o,a)=>{o.preventDefault(),o.stopPropagation(),t(a)};return g.jsxs("div",{className:"absolute top-full right-0 mt-3 w-28 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden animate-scale-in origin-top-right z-[100]",onMouseDown:o=>o.stopPropagation(),children:[g.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-white dark:bg-slate-800 border-t border-l border-slate-200 dark:border-slate-700 transform rotate-45"}),g.jsxs("div",{className:"p-2 relative z-10 grid grid-cols-2 gap-1",children:[$A.map(o=>{const a=r===o;let u="hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 border-transparent";return a?u="bg-blue-600 text-white border-blue-600 shadow-md font-extrabold":parseInt(o)>=7?u="hover:bg-emerald-50 dark:hover:bg-emerald-900/30 hover:text-emerald-600 hover:border-emerald-200 border-slate-100 dark:border-slate-700":u="hover:bg-amber-50 dark:hover:bg-amber-900/30 hover:text-amber-600 hover:border-amber-200 border-slate-100 dark:border-slate-700",g.jsx("button",{type:"button",onMouseDown:d=>d.preventDefault(),onClick:d=>s(d,o),className:`
                        h-9 w-full rounded-lg font-bold text-sm border transition-all duration-150 flex items-center justify-center
                        ${u}
                    `,children:o},o)}),g.jsx("button",{type:"button",onMouseDown:o=>o.preventDefault(),onClick:o=>s(o,"Sin calificar"),className:"col-span-1 h-9 rounded-lg border border-slate-100 dark:border-slate-700 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-colors flex items-center justify-center",title:"Borrar nota",children:g.jsx("span",{className:"material-icons !text-sm",children:"remove_circle_outline"})})]})]})},Ne=({className:t=""})=>g.jsx("div",{className:`animate-background-shine bg-slate-200 dark:bg-slate-700 rounded-md ${t}`}),rF=()=>g.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-2xl border border-slate-200/60 dark:border-slate-700 shadow-lg",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[g.jsxs("div",{className:"lg:col-span-3 flex flex-col sm:flex-row items-center gap-8",children:[g.jsx("div",{className:"w-40 h-40 rounded-full bg-slate-200 dark:bg-slate-700 animate-background-shine flex-shrink-0"}),g.jsxs("div",{className:"flex-1 w-full space-y-4",children:[g.jsx(Ne,{className:"h-8 w-3/4"}),g.jsx(Ne,{className:"h-5 w-full"}),g.jsx(Ne,{className:"h-5 w-5/6"})]})]}),g.jsxs("div",{className:"lg:col-span-2 flex flex-col justify-center gap-8 border-t-2 lg:border-t-0 lg:border-l-2 border-slate-200/60 dark:border-slate-700 pt-8 lg:pt-0 lg:pl-8",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx(Ne,{className:"h-6 w-1/2"}),g.jsx(Ne,{className:"h-4 w-full"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(Ne,{className:"h-6 w-1/2"}),g.jsx(Ne,{className:"h-10 w-full"})]})]})]})}),zA=()=>g.jsx("div",{className:"space-y-3",children:[...Array(5)].map((t,e)=>g.jsxs("div",{className:"flex items-center gap-4 p-2",children:[g.jsx(Ne,{className:"h-8 w-1/4"}),g.jsx(Ne,{className:"h-8 w-1/4"}),g.jsx(Ne,{className:"h-8 w-1/4"}),g.jsx(Ne,{className:"h-8 w-1/4"})]},e))}),nF=()=>g.jsxs("div",{className:"space-y-8 animate-fade-in",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsx(Ne,{className:"h-32 rounded-2xl"}),g.jsx(Ne,{className:"h-32 rounded-2xl"}),g.jsx(Ne,{className:"h-32 rounded-2xl"})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 h-96",children:[g.jsx(Ne,{className:"h-8 w-1/3 mb-6"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(Ne,{className:"h-16 w-full"}),g.jsx(Ne,{className:"h-16 w-full"}),g.jsx(Ne,{className:"h-16 w-full"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 h-80",children:[g.jsx(Ne,{className:"h-8 w-1/2 mb-6"}),g.jsx(Ne,{className:"h-12 w-full mb-4"}),g.jsx(Ne,{className:"h-12 w-full mb-4"})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 h-80",children:[g.jsx(Ne,{className:"h-8 w-1/2 mb-6"}),g.jsx(Ne,{className:"h-12 w-full mb-4"}),g.jsx(Ne,{className:"h-12 w-full mb-4"})]})]})]}),sF=()=>g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsx(Ne,{className:"h-48 rounded-2xl"}),g.jsx(Ne,{className:"h-48 rounded-2xl"}),g.jsx(Ne,{className:"h-48 rounded-2xl"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl h-96 border border-slate-200 dark:border-slate-700",children:[g.jsx(Ne,{className:"h-8 w-1/3 mb-6"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(Ne,{className:"h-10 w-full"}),g.jsx(Ne,{className:"h-10 w-full"}),g.jsx(Ne,{className:"h-10 w-full"})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl h-96 border border-slate-200 dark:border-slate-700",children:[g.jsx(Ne,{className:"h-8 w-1/3 mb-6"}),g.jsx(Ne,{className:"h-full w-full"})]})]})]}),VA=({nota:t,onClick:e,isSaving:r,isSuccess:s,isOpen:o})=>{const u=(h=>{const p=parseInt(h,10);return isNaN(p)?"text-slate-400 dark:text-slate-500 border-slate-200 bg-white dark:bg-slate-800 hover:border-blue-300 dark:hover:border-blue-700":p>=7?"text-emerald-600 dark:text-emerald-400 border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20":p>=4?"text-amber-600 dark:text-amber-400 border-amber-200 bg-amber-50 dark:bg-amber-900/20":"text-rose-600 dark:text-rose-400 border-rose-200 bg-rose-50 dark:bg-rose-900/20"})(t),d=isNaN(parseInt(t,10))?"-":t;return g.jsx("div",{className:`
                relative flex items-center justify-center w-12 h-12 rounded-xl border-2 text-xl font-bold transition-all duration-300 cursor-pointer
                ${u} 
                ${r?"animate-pulse opacity-70":"hover:scale-105 hover:shadow-md"}
                ${o?"ring-4 ring-blue-100 dark:ring-blue-900/40 border-blue-400 z-50":""}
            `,onClick:h=>{h.stopPropagation(),e()},title:"Clic para editar nota",children:r?g.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s?g.jsx("span",{className:"material-icons !text-lg",children:"check"}):d})},WA=({dateStr:t,onDateChange:e})=>{const[r,s]=I.useState(!1),o=t?t.split("T")[0]:"",a=d=>{s(!1),d.target.value&&d.target.value!==o&&e(d.target.value)},u=()=>{s(!0)};return r?g.jsx("input",{type:"date",autoFocus:!0,defaultValue:o,onBlur:a,onKeyDown:d=>{d.key==="Enter"&&d.currentTarget.blur()},className:"bg-white dark:bg-slate-800 border border-blue-500 rounded px-1 py-0.5 text-xs text-slate-800 dark:text-white outline-none w-28"}):g.jsxs("span",{onClick:u,className:"group/date relative cursor-default md:cursor-pointer flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Clic para editar fecha (Solo PC)",children:[wp(t),g.jsx("span",{className:"material-icons !text-[10px] opacity-0 group-hover/date:opacity-100 transition-opacity hidden md:inline-block",children:"edit"})]})},HA=({practica:t,onNotaChange:e,onFechaFinChange:r,isSaving:s,isSuccess:o})=>{const[a,u]=I.useState(!1),d=t[cn],h=Me(d)||"Institucin desconocida";let p=t[Ir];const y=new Date;if(y.setHours(0,0,0,0),nt(p)==="en curso"&&t[Jt]){const S=rc(t[Jt]);S&&S<y&&(p="Finalizada")}const v=EO(p||""),_=bO(t[Vr]||""),b=t[zr]||"Sin calificar",x=S=>{e(t.id,S),u(!1)};return g.jsxs("div",{className:`
                group relative bg-white dark:bg-slate-900 rounded-xl p-5 border border-slate-200 dark:border-slate-800 transition-all duration-300 flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between
                ${a?"z-[60] ring-1 ring-blue-200 dark:ring-blue-800":"z-10 shadow-sm hover:shadow-md"}
                border-l-[6px] ${_.leftBorder}
            `,children:[g.jsxs("div",{className:"pl-1 flex-1 min-w-0 w-full",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("span",{className:`${_.tag} text-[10px] py-0.5 px-2 font-bold`,children:t[Vr]||"General"}),g.jsx("span",{className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider ${v.labelClass} border bg-opacity-10`,children:p})]}),g.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white pr-2 leading-tight break-words hyphens-auto",children:h}),g.jsx("div",{className:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-400 mt-1.5 font-medium",children:g.jsxs("div",{className:"flex items-center gap-1 bg-slate-50 dark:bg-slate-800/50 px-2 py-1 rounded border border-slate-100 dark:border-slate-700/50",children:[g.jsx("span",{className:"material-icons !text-sm opacity-70",children:"date_range"}),g.jsx("span",{children:wp(t[rs])}),g.jsx("span",{className:"mx-1",children:"-"}),g.jsx(WA,{dateStr:t[Jt]||null,onDateChange:S=>r&&r(t.id,S),label:"Fecha Fin"})]})})]}),g.jsxs("div",{className:"flex items-center gap-6 w-full sm:w-auto justify-between sm:justify-end border-t sm:border-t-0 border-slate-100 dark:border-slate-800 pt-3 sm:pt-0",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[3rem] text-center",children:[g.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-slate-200 leading-none text-center w-full",children:t[to]||0}),g.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mt-0.5 text-center w-full",children:"Horas"})]}),g.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700 hidden sm:block"}),g.jsxs("div",{className:"relative flex flex-col items-center",children:[g.jsx(VA,{nota:b,onClick:()=>!s&&u(!a),isSaving:s,isSuccess:o,isOpen:a}),g.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mt-1 text-center",children:"Nota"}),a&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40 cursor-default",onClick:S=>{S.stopPropagation(),u(!1)}}),g.jsx(BA,{onSelect:x,onClose:()=>u(!1),currentValue:b})]})]})]})]})},qA=({practicas:t,handleNotaChange:e,handleFechaFinChange:r,isLoading:s=!1})=>{console.log("[DEBUG] PracticasTable Props:",{practicasCount:t.length,hasDateHandler:!!r});const[o,a]=I.useState(null),[u,d]=I.useState(null),h=async(y,v)=>{a(y),await e(y,v),a(null),d(y),setTimeout(()=>d(null),2e3)};if(s)return g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("div",{className:"flex justify-between items-end px-2 mb-1",children:g.jsx("div",{className:"h-4 w-32 bg-slate-200 dark:bg-slate-800 rounded animate-pulse"})}),g.jsx(zA,{})]});if(t.length===0)return g.jsx(UA,{icon:"work_off",title:"Sin Prcticas",message:"An no tienes historial de prcticas registradas.",className:"bg-transparent border-none shadow-none p-0"});const p=[...t].sort((y,v)=>{const _=new Date(y[rs]||0).getTime();return new Date(v[rs]||0).getTime()-_});return g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("div",{className:"flex justify-between items-end px-2 mb-1",children:g.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:["Total: ",p.length," Prcticas"]})}),p.map(y=>g.jsx(HA,{practica:y,onNotaChange:h,onFechaFinChange:r,isSaving:o===y.id,isSuccess:u===y.id},y.id))]})},GA=()=>{const{practicas:t,updateNota:e,updateFechaFin:r}=IA();return g.jsx(RA,{icon:"work_history",title:g.jsxs("span",{children:["Historial de"," ",g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400",children:"Practicas"})]}),description:"Detalle de todas las practicas realizadas y sus calificaciones.",children:g.jsx(qA,{practicas:t,handleNotaChange:(s,o,a)=>e.mutate({practicaId:s,nota:o,convocatoriaId:a}),handleFechaFinChange:(s,o)=>{alert("DEBUG: Fix Directo - Intentando guardar"),r.mutate({practicaId:s,fecha:o})}})})},KA=I.lazy(()=>ct(()=>import("./StudentView-De99uWK8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)),QA=I.lazy(()=>ct(()=>import("./StudentDashboard-_sgKRHhD.js"),__vite__mapDeps([5,6,4,7,8,3,9,10]),import.meta.url)),JA=I.lazy(()=>ct(()=>import("./StudentDashboard-_sgKRHhD.js"),__vite__mapDeps([5,6,4,7,8,3,9,10]),import.meta.url).then(t=>({default:t.StudentHome}))),YA=I.lazy(()=>ct(()=>import("./SolicitudesView-YKQmvci7.js"),__vite__mapDeps([11,7]),import.meta.url)),ZA=I.lazy(()=>ct(()=>import("./InformesView-DV477EyR.js"),[],import.meta.url)),XA=I.lazy(()=>ct(()=>import("./StudentProfileView-CGfDkxH7.js"),__vite__mapDeps([12,9]),import.meta.url)),eN=I.lazy(()=>ct(()=>import("./AdminView-D_ssnPNn.js"),__vite__mapDeps([13,1,2,3,4,14]),import.meta.url)),tN=I.lazy(()=>ct(()=>import("./AdminDashboard-BW32dpJn.js"),__vite__mapDeps([15,16]),import.meta.url)),rN=I.lazy(()=>ct(()=>import("./LanzadorView-BXU4N7re.js"),__vite__mapDeps([17,18,14,3,6,19,20,4,10,21,22]),import.meta.url)),nN=I.lazy(()=>ct(()=>import("./GestionView-BxmB3GZu.js"),__vite__mapDeps([23,18,14,3,24,20]),import.meta.url)),sN=I.lazy(()=>ct(()=>import("./HerramientasView-DmsAFi25.js"),__vite__mapDeps([25,18,14,3,26,19]),import.meta.url)),iN=I.lazy(()=>ct(()=>import("./MetricsView-Cvn33uc4.js"),__vite__mapDeps([27,18,14,3,28,16]),import.meta.url)),oN=I.lazy(()=>ct(()=>import("./SolicitudesManager-B0vYm3k3.js"),__vite__mapDeps([29,21,20,22,18,14,3]),import.meta.url)),aN=I.lazy(()=>ct(()=>import("./JefeView-TbmhlitR.js"),__vite__mapDeps([30,26,24,20,5,6,4,7,8,3,9,10,28,16,18,14,31,1,2]),import.meta.url)),lN=I.lazy(()=>ct(()=>import("./DirectivoView-CkyN4-TO.js"),__vite__mapDeps([32,26,24,20,5,6,4,7,8,3,9,10,28,16,18,14,31,1,2]),import.meta.url)),uN=I.lazy(()=>ct(()=>import("./ReporteroView-DW6yIF6g.js"),__vite__mapDeps([33,8,3,28,16,18,14,31]),import.meta.url)),cN=I.lazy(()=>ct(()=>import("./AdminTestingView-KwSPkikm.js"),__vite__mapDeps([34,13,1,2,3,4,14,5,6,7,8,9,10]),import.meta.url)),dN=()=>{const{legajo:t}=kk();return t?g.jsx(CA,{legajo:t,children:g.jsx(QA,{showExportButton:!0},t)}):null},hN=()=>{const{authenticatedUser:t}=ho(),e=lc();return g.jsxs($k,{children:[g.jsx(Ke,{path:"/login",element:t?g.jsx(Kt,{to:"/"}):g.jsx(CO,{})}),g.jsx(Ke,{path:"/",element:g.jsx(Ss,{children:(t==null?void 0:t.role)==="AdminTester"?g.jsx(Kt,{to:"/testing",replace:!0}):(t==null?void 0:t.role)==="SuperUser"?g.jsx(Kt,{to:"/admin",replace:!0}):(t==null?void 0:t.role)==="Jefe"?g.jsx(Kt,{to:"/jefe",replace:!0}):(t==null?void 0:t.role)==="Directivo"?g.jsx(Kt,{to:"/directivo",replace:!0}):(t==null?void 0:t.role)==="Reportero"?g.jsx(Kt,{to:"/reportero",replace:!0}):g.jsx(Kt,{to:"/student",replace:!0})})}),g.jsxs(Ke,{path:"/student",element:g.jsx(Ss,{allowedRoles:["Student"],children:g.jsx(KA,{})}),children:[g.jsx(Ke,{index:!0,element:g.jsx(JA,{})}),g.jsx(Ke,{path:"practicas",element:g.jsx(GA,{})}),g.jsx(Ke,{path:"solicitudes",element:g.jsx(YA,{})}),g.jsx(Ke,{path:"informes",element:g.jsx(ZA,{})}),g.jsx(Ke,{path:"perfil",element:g.jsx(XA,{})})]}),g.jsxs(Ke,{path:"/admin",element:g.jsx(Ss,{allowedRoles:["SuperUser","AdminTester"],children:g.jsx(eN,{})}),children:[g.jsx(Ke,{index:!0,element:g.jsx(Kt,{to:"dashboard",replace:!0})}),g.jsx(Ke,{path:"dashboard",element:g.jsx(tN,{})}),g.jsx(Ke,{path:"metrics",element:g.jsx(iN,{onStudentSelect:r=>e(`/admin/estudiantes/${r.legajo}`)})}),g.jsx(Ke,{path:"lanzador",element:g.jsx(rN,{})}),g.jsx(Ke,{path:"gestion",element:g.jsx(nN,{})}),g.jsx(Ke,{path:"solicitudes",element:g.jsx(oN,{})}),g.jsx(Ke,{path:"herramientas",element:g.jsx(sN,{onStudentSelect:r=>e(`/admin/estudiantes/${r[Tr]}`)})}),g.jsx(Ke,{path:"estudiantes/:legajo",element:g.jsx(dN,{})})]}),g.jsx(Ke,{path:"/jefe",element:g.jsx(Ss,{allowedRoles:["Jefe"],children:g.jsx(aN,{})})}),g.jsx(Ke,{path:"/directivo",element:g.jsx(Ss,{allowedRoles:["Directivo"],children:g.jsx(lN,{})})}),g.jsx(Ke,{path:"/reportero",element:g.jsx(Ss,{allowedRoles:["Reportero"],children:g.jsx(uN,{})})}),g.jsx(Ke,{path:"/testing",element:g.jsx(Ss,{allowedRoles:["SuperUser","AdminTester"],children:g.jsx(cN,{})})}),g.jsx(Ke,{path:"*",element:g.jsx(Kt,{to:"/",replace:!0})})]})},fN=()=>g.jsx(qO,{children:g.jsx(Wk,{children:g.jsx(UO,{children:g.jsx(BO,{children:g.jsx(LO,{children:g.jsx(IO,{children:g.jsx(qk,{children:g.jsx(_O,{children:g.jsx(WO,{children:g.jsxs(MO,{children:[g.jsx(OA,{}),g.jsx(I.Suspense,{fallback:g.jsx(H_,{}),children:g.jsx(hN,{})})]})})})})})})})})})});var pN=function(){return null},Uh={},$h={},Bh={},hv;function mN(){return hv||(hv=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];if(typeof window<"u"){var d;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(d=window).gtag.apply(d,a)}},r=e;t.default=r})(Bh)),Bh}var zh={},fv;function gN(){return fv||(fv=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function r(d){return d.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(h,p,y){return p>0&&p+h.length!==y.length&&h.search(e)>-1&&y.charAt(p-2)!==":"&&(y.charAt(p+h.length)!=="-"||y.charAt(p-1)==="-")&&y.charAt(p-1).search(/[^\s-]/)<0?h.toLowerCase():h.substr(1).search(/[A-Z]|\../)>-1?h:h.charAt(0).toUpperCase()+h.substr(1)})}function s(d){return typeof d=="string"&&d.indexOf("@")!==-1}var o="REDACTED (Potential Email Address)";function a(d){return s(d)?(console.warn("This arg looks like an email address, redacting."),o):d}function u(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,y=d||"";return h&&(y=r(d)),p&&(y=a(y)),y}})(zh)),zh}var pv;function yN(){return pv||(pv=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=u(mN()),r=u(gN()),s=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],a=["page","hitType"];function u(V){return V&&V.__esModule?V:{default:V}}function d(V,A){if(V==null)return{};var L=h(V,A),D,P;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(V);for(P=0;P<q.length;P++)D=q[P],!(A.indexOf(D)>=0)&&Object.prototype.propertyIsEnumerable.call(V,D)&&(L[D]=V[D])}return L}function h(V,A){if(V==null)return{};var L={},D=Object.keys(V),P,q;for(q=0;q<D.length;q++)P=D[q],!(A.indexOf(P)>=0)&&(L[P]=V[P]);return L}function p(V){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},p(V)}function y(V){return b(V)||_(V)||F(V)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}function b(V){if(Array.isArray(V))return j(V)}function x(V,A){var L=Object.keys(V);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(V);A&&(D=D.filter(function(P){return Object.getOwnPropertyDescriptor(V,P).enumerable})),L.push.apply(L,D)}return L}function S(V){for(var A=1;A<arguments.length;A++){var L=arguments[A]!=null?arguments[A]:{};A%2?x(Object(L),!0).forEach(function(D){ae(V,D,L[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(L)):x(Object(L)).forEach(function(D){Object.defineProperty(V,D,Object.getOwnPropertyDescriptor(L,D))})}return V}function E(V,A){return H(V)||B(V,A)||F(V,A)||N()}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(V,A){if(V){if(typeof V=="string")return j(V,A);var L=Object.prototype.toString.call(V).slice(8,-1);if(L==="Object"&&V.constructor&&(L=V.constructor.name),L==="Map"||L==="Set")return Array.from(V);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return j(V,A)}}function j(V,A){(A==null||A>V.length)&&(A=V.length);for(var L=0,D=new Array(A);L<A;L++)D[L]=V[L];return D}function B(V,A){var L=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(L!=null){var D,P,q,W,C=[],$=!0,X=!1;try{if(q=(L=L.call(V)).next,A!==0)for(;!($=(D=q.call(L)).done)&&(C.push(D.value),C.length!==A);$=!0);}catch(ne){X=!0,P=ne}finally{try{if(!$&&L.return!=null&&(W=L.return(),Object(W)!==W))return}finally{if(X)throw P}}return C}}function H(V){if(Array.isArray(V))return V}function G(V,A){if(!(V instanceof A))throw new TypeError("Cannot call a class as a function")}function Z(V,A){for(var L=0;L<A.length;L++){var D=A[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(V,te(D.key),D)}}function oe(V,A,L){return A&&Z(V.prototype,A),Object.defineProperty(V,"prototype",{writable:!1}),V}function ae(V,A,L){return A=te(A),A in V?Object.defineProperty(V,A,{value:L,enumerable:!0,configurable:!0,writable:!0}):V[A]=L,V}function te(V){var A=fe(V,"string");return p(A)==="symbol"?A:String(A)}function fe(V,A){if(p(V)!=="object"||V===null)return V;var L=V[Symbol.toPrimitive];if(L!==void 0){var D=L.call(V,A);if(p(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(V)}var Te=(function(){function V(){var A=this;G(this,V),ae(this,"reset",function(){A.isInitialized=!1,A._testMode=!1,A._currentMeasurementId,A._hasLoadedGA=!1,A._isQueuing=!1,A._queueGtag=[]}),ae(this,"_gtag",function(){for(var L=arguments.length,D=new Array(L),P=0;P<L;P++)D[P]=arguments[P];A._testMode||A._isQueuing?A._queueGtag.push(D):e.default.apply(void 0,D)}),ae(this,"_loadGA",function(L,D){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!A._hasLoadedGA){var q=document.createElement("script");q.async=!0,q.src="".concat(P,"?id=").concat(L),D&&q.setAttribute("nonce",D),document.body.appendChild(q),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},A._hasLoadedGA=!0}}),ae(this,"_toGtagOptions",function(L){if(L){var D={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},P=Object.entries(L).reduce(function(q,W){var C=E(W,2),$=C[0],X=C[1];return D[$]?q[D[$]]=X:q[$]=X,q},{});return P}}),ae(this,"initialize",function(L){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!L)throw new Error("Require GA_MEASUREMENT_ID");var P=typeof L=="string"?[{trackingId:L}]:L;A._currentMeasurementId=P[0].trackingId;var q=D.gaOptions,W=D.gtagOptions,C=D.nonce,$=D.testMode,X=$===void 0?!1:$,ne=D.gtagUrl;if(A._testMode=X,X||A._loadGA(A._currentMeasurementId,C,ne),A.isInitialized||(A._gtag("js",new Date),P.forEach(function(Ce){var ke=S(S(S({},A._toGtagOptions(S(S({},q),Ce.gaOptions))),W),Ce.gtagOptions);Object.keys(ke).length?A._gtag("config",Ce.trackingId,ke):A._gtag("config",Ce.trackingId)})),A.isInitialized=!0,!X){var me=y(A._queueGtag);for(A._queueGtag=[],A._isQueuing=!1;me.length;){var Ee=me.shift();A._gtag.apply(A,y(Ee)),Ee[0]==="get"&&(A._isQueuing=!0)}}}),ae(this,"set",function(L){if(!L){console.warn("`fieldsObject` is required in .set()");return}if(p(L)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(L).length===0&&console.warn("empty `fieldsObject` given to .set()"),A._gaCommand("set",L)}),ae(this,"_gaCommandSendEvent",function(L,D,P,q,W){A._gtag("event",D,S(S({event_category:L,event_label:P,value:q},W&&{non_interaction:W.nonInteraction}),A._toGtagOptions(W)))}),ae(this,"_gaCommandSendEventParameters",function(){for(var L=arguments.length,D=new Array(L),P=0;P<L;P++)D[P]=arguments[P];if(typeof D[0]=="string")A._gaCommandSendEvent.apply(A,y(D.slice(1)));else{var q=D[0],W=q.eventCategory,C=q.eventAction,$=q.eventLabel,X=q.eventValue;q.hitType;var ne=d(q,s);A._gaCommandSendEvent(W,C,$,X,ne)}}),ae(this,"_gaCommandSendTiming",function(L,D,P,q){A._gtag("event","timing_complete",{name:D,value:P,event_category:L,event_label:q})}),ae(this,"_gaCommandSendPageview",function(L,D){if(D&&Object.keys(D).length){var P=A._toGtagOptions(D),q=P.title,W=P.location,C=d(P,o);A._gtag("event","page_view",S(S(S(S({},L&&{page_path:L}),q&&{page_title:q}),W&&{page_location:W}),C))}else L?A._gtag("event","page_view",{page_path:L}):A._gtag("event","page_view")}),ae(this,"_gaCommandSendPageviewParameters",function(){for(var L=arguments.length,D=new Array(L),P=0;P<L;P++)D[P]=arguments[P];if(typeof D[0]=="string")A._gaCommandSendPageview.apply(A,y(D.slice(1)));else{var q=D[0],W=q.page;q.hitType;var C=d(q,a);A._gaCommandSendPageview(W,C)}}),ae(this,"_gaCommandSend",function(){for(var L=arguments.length,D=new Array(L),P=0;P<L;P++)D[P]=arguments[P];var q=typeof D[0]=="string"?D[0]:D[0].hitType;switch(q){case"event":A._gaCommandSendEventParameters.apply(A,D);break;case"pageview":A._gaCommandSendPageviewParameters.apply(A,D);break;case"timing":A._gaCommandSendTiming.apply(A,y(D.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(q));break;default:console.warn("Send command doesn't exist: ".concat(q))}}),ae(this,"_gaCommandSet",function(){for(var L=arguments.length,D=new Array(L),P=0;P<L;P++)D[P]=arguments[P];typeof D[0]=="string"&&(D[0]=ae({},D[0],D[1])),A._gtag("set",A._toGtagOptions(D[0]))}),ae(this,"_gaCommand",function(L){for(var D=arguments.length,P=new Array(D>1?D-1:0),q=1;q<D;q++)P[q-1]=arguments[q];switch(L){case"send":A._gaCommandSend.apply(A,P);break;case"set":A._gaCommandSet.apply(A,P);break;default:console.warn("Command doesn't exist: ".concat(L))}}),ae(this,"ga",function(){for(var L=arguments.length,D=new Array(L),P=0;P<L;P++)D[P]=arguments[P];if(typeof D[0]=="string")A._gaCommand.apply(A,D);else{var q=D[0];A._gtag("get",A._currentMeasurementId,"client_id",function(W){A._isQueuing=!1;var C=A._queueGtag;for(q({get:function(ne){return ne==="clientId"?W:ne==="trackingId"?A._currentMeasurementId:ne==="apiVersion"?"1":void 0}});C.length;){var $=C.shift();A._gtag.apply(A,y($))}}),A._isQueuing=!0}return A.ga}),ae(this,"event",function(L,D){if(typeof L=="string")A._gtag("event",L,A._toGtagOptions(D));else{var P=L.action,q=L.category,W=L.label,C=L.value,$=L.nonInteraction,X=L.transport;if(!q||!P){console.warn("args.category AND args.action are required in event()");return}var ne={hitType:"event",eventCategory:(0,r.default)(q),eventAction:(0,r.default)(P)};W&&(ne.eventLabel=(0,r.default)(W)),typeof C<"u"&&(typeof C!="number"?console.warn("Expected `args.value` arg to be a Number."):ne.eventValue=C),typeof $<"u"&&(typeof $!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):ne.nonInteraction=$),typeof X<"u"&&(typeof X!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(X)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),ne.transport=X)),A._gaCommand("send",ne)}}),ae(this,"send",function(L){A._gaCommand("send",L)}),this.reset()}return oe(V,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),V})();t.GA4=Te;var pe=new Te;t.default=pe})($h)),$h}var mv;function vN(){return mv||(mv=1,(function(t){function e(d){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(d)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var r=o(yN());function s(d){if(typeof WeakMap!="function")return null;var h=new WeakMap,p=new WeakMap;return(s=function(v){return v?p:h})(d)}function o(d,h){if(d&&d.__esModule)return d;if(d===null||e(d)!=="object"&&typeof d!="function")return{default:d};var p=s(h);if(p&&p.has(d))return p.get(d);var y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in d)if(_!=="default"&&Object.prototype.hasOwnProperty.call(d,_)){var b=v?Object.getOwnPropertyDescriptor(d,_):null;b&&(b.get||b.set)?Object.defineProperty(y,_,b):y[_]=d[_]}return y.default=d,p&&p.set(d,y),y}var a=r.GA4;t.ReactGAImplementation=a;var u=r.default;t.default=u})(Uh)),Uh}var _N=vN();const iF=tp(_N),Se=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,De=globalThis,Ks="10.34.0";function mc(){return gc(De),De}function gc(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Ks,e[Ks]=e[Ks]||{}}function fo(t,e,r=De){const s=r.__SENTRY__=r.__SENTRY__||{},o=s[Ks]=s[Ks]||{};return o[t]||(o[t]=e())}const wN=["debug","info","warn","error","log","assert","trace"],bN="Sentry Logger ",nc={};function po(t){if(!("console"in De))return t();const e=De.console,r={},s=Object.keys(nc);s.forEach(o=>{const a=nc[o];r[o]=e[o],e[o]=a});try{return t()}finally{s.forEach(o=>{e[o]=r[o]})}}function EN(){Sp().enabled=!0}function SN(){Sp().enabled=!1}function Mb(){return Sp().enabled}function xN(...t){Ep("log",...t)}function kN(...t){Ep("warn",...t)}function TN(...t){Ep("error",...t)}function Ep(t,...e){Se&&Mb()&&po(()=>{De.console[t](`${bN}[${t}]:`,...e)})}function Sp(){return Se?fo("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const _e={enable:EN,disable:SN,isEnabled:Mb,log:xN,warn:kN,error:TN},Ub=50,Ys="?",gv=/\(error: (.*)\)/,yv=/captureMessage|captureException/;function $b(...t){const e=t.sort((r,s)=>r[0]-s[0]).map(r=>r[1]);return(r,s=0,o=0)=>{const a=[],u=r.split(`
`);for(let d=s;d<u.length;d++){let h=u[d];h.length>1024&&(h=h.slice(0,1024));const p=gv.test(h)?h.replace(gv,"$1"):h;if(!p.match(/\S*Error: /)){for(const y of e){const v=y(p);if(v){a.push(v);break}}if(a.length>=Ub+o)break}}return IN(a.slice(o))}}function CN(t){return Array.isArray(t)?$b(...t):t}function IN(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(vu(e).function||"")&&e.pop(),e.reverse(),yv.test(vu(e).function||"")&&(e.pop(),yv.test(vu(e).function||"")&&e.pop()),e.slice(0,Ub).map(r=>({...r,filename:r.filename||vu(e).filename,function:r.function||Ys}))}function vu(t){return t[t.length-1]||{}}const Vh="<anonymous>";function ns(t){try{return!t||typeof t!="function"?Vh:t.name||Vh}catch{return Vh}}function vv(t){const e=t.exception;if(e){const r=[];try{return e.values.forEach(s=>{s.stacktrace.frames&&r.push(...s.stacktrace.frames)}),r}catch{return}}}function Bb(t){return"__v_isVNode"in t&&t.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Cu={},_v={};function ei(t,e){Cu[t]=Cu[t]||[],Cu[t].push(e)}function ti(t,e){if(!_v[t]){_v[t]=!0;try{e()}catch(r){Se&&_e.error(`Error while instrumenting ${t}`,r)}}}function Or(t,e){const r=t&&Cu[t];if(r)for(const s of r)try{s(e)}catch(o){Se&&_e.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ns(s)}
Error:`,o)}}let Wh=null;function ON(t){const e="error";ei(e,t),ti(e,AN)}function AN(){Wh=De.onerror,De.onerror=function(t,e,r,s,o){return Or("error",{column:s,error:o,line:r,msg:t,url:e}),Wh?Wh.apply(this,arguments):!1},De.onerror.__SENTRY_INSTRUMENTED__=!0}let Hh=null;function NN(t){const e="unhandledrejection";ei(e,t),ti(e,RN)}function RN(){Hh=De.onunhandledrejection,De.onunhandledrejection=function(t){return Or("unhandledrejection",t),Hh?Hh.apply(this,arguments):!0},De.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const zb=Object.prototype.toString;function yc(t){switch(zb.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ss(t,Error)}}function mo(t,e){return zb.call(t)===`[object ${e}]`}function Vb(t){return mo(t,"ErrorEvent")}function wv(t){return mo(t,"DOMError")}function PN(t){return mo(t,"DOMException")}function hn(t){return mo(t,"String")}function xp(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function vc(t){return t===null||xp(t)||typeof t!="object"&&typeof t!="function"}function Ca(t){return mo(t,"Object")}function _c(t){return typeof Event<"u"&&ss(t,Event)}function jN(t){return typeof Element<"u"&&ss(t,Element)}function LN(t){return mo(t,"RegExp")}function za(t){return!!(t!=null&&t.then&&typeof t.then=="function")}function DN(t){return Ca(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function ss(t,e){try{return t instanceof e}catch{return!1}}function Wb(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue||t.__v_isVNode))}function Hb(t){return typeof Request<"u"&&ss(t,Request)}const kp=De,FN=80;function qb(t,e={}){if(!t)return"<unknown>";try{let r=t;const s=5,o=[];let a=0,u=0;const d=" > ",h=d.length;let p;const y=Array.isArray(e)?e:e.keyAttrs,v=!Array.isArray(e)&&e.maxStringLength||FN;for(;r&&a++<s&&(p=MN(r,y),!(p==="html"||a>1&&u+o.length*h+p.length>=v));)o.push(p),u+=p.length,r=r.parentNode;return o.reverse().join(d)}catch{return"<unknown>"}}function MN(t,e){const r=t,s=[];if(!(r!=null&&r.tagName))return"";if(kp.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}s.push(r.tagName.toLowerCase());const o=e!=null&&e.length?e.filter(u=>r.getAttribute(u)).map(u=>[u,r.getAttribute(u)]):null;if(o!=null&&o.length)o.forEach(u=>{s.push(`[${u[0]}="${u[1]}"]`)});else{r.id&&s.push(`#${r.id}`);const u=r.className;if(u&&hn(u)){const d=u.split(/\s+/);for(const h of d)s.push(`.${h}`)}}const a=["aria-label","type","name","title","alt"];for(const u of a){const d=r.getAttribute(u);d&&s.push(`[${u}="${d}"]`)}return s.join("")}function Tp(){try{return kp.document.location.href}catch{return""}}function UN(t){if(!kp.HTMLElement)return null;let e=t;const r=5;for(let s=0;s<r;s++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function Yt(t,e,r){if(!(e in t))return;const s=t[e];if(typeof s!="function")return;const o=r(s);typeof o=="function"&&Gb(o,s);try{t[e]=o}catch{Se&&_e.log(`Failed to replace method "${e}" in object`,t)}}function is(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Se&&_e.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function Gb(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,is(t,"__sentry_original__",e)}catch{}}function Cp(t){return t.__sentry_original__}function Kb(t){if(yc(t))return{message:t.message,name:t.name,stack:t.stack,...Ev(t)};if(_c(t)){const e={type:t.type,target:bv(t.target),currentTarget:bv(t.currentTarget),...Ev(t)};return typeof CustomEvent<"u"&&ss(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function bv(t){try{return jN(t)?qb(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Ev(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function $N(t){const e=Object.keys(Kb(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}let Pi;function wc(t){if(Pi!==void 0)return Pi?Pi(t):t();const e=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),r=De;return e in r&&typeof r[e]=="function"?(Pi=r[e],Pi(t)):(Pi=null,t())}function sc(){return wc(()=>Math.random())}function bc(){return wc(()=>Date.now())}function Df(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function Sv(t,e){if(!Array.isArray(t))return"";const r=[];for(let s=0;s<t.length;s++){const o=t[s];try{Wb(o)?r.push(Bb(o)):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function Iu(t,e,r=!1){return hn(t)?LN(e)?e.test(t):hn(e)?r?t===e:t.includes(e):!1:!1}function Ec(t,e=[],r=!1){return e.some(s=>Iu(t,s,r))}function BN(){const t=De;return t.crypto||t.msCrypto}let qh;function zN(){return sc()*16}function fr(t=BN()){try{if(t!=null&&t.randomUUID)return wc(()=>t.randomUUID()).replace(/-/g,"")}catch{}return qh||(qh="10000000100040008000"+1e11),qh.replace(/[018]/g,e=>(e^(zN()&15)>>e/4).toString(16))}function Qb(t){var e,r;return(r=(e=t.exception)==null?void 0:e.values)==null?void 0:r[0]}function Ns(t){const{message:e,event_id:r}=t;if(e)return e;const s=Qb(t);return s?s.type&&s.value?`${s.type}: ${s.value}`:s.type||s.value||r||"<unknown>":r||"<unknown>"}function Ff(t,e,r){const s=t.exception=t.exception||{},o=s.values=s.values||[],a=o[0]=o[0]||{};a.value||(a.value=e||""),a.type||(a.type="Error")}function no(t,e){const r=Qb(t);if(!r)return;const s={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...s,...o,...e},e&&"data"in e){const a={...o==null?void 0:o.data,...e.data};r.mechanism.data=a}}function xv(t){if(VN(t))return!0;try{is(t,"__sentry_captured__",!0)}catch{}return!1}function VN(t){try{return t.__sentry_captured__}catch{}}const Jb=1e3;function Va(){return bc()/Jb}function WN(){const{performance:t}=De;if(!(t!=null&&t.now)||!t.timeOrigin)return Va;const e=t.timeOrigin;return()=>(e+wc(()=>t.now()))/Jb}let kv;function fn(){return(kv??(kv=WN()))()}function HN(t){const e=fn(),r={sid:fr(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>GN(r)};return t&&so(r,t),r}function so(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||fn(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:fr()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function qN(t,e){let r={};t.status==="ok"&&(r={status:"exited"}),so(t,r)}function GN(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function Wa(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&Object.keys(e).length===0)return t;const s={...t};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(s[o]=Wa(s[o],e[o],r-1));return s}function Tv(){return fr()}function Yb(){return fr().substring(16)}const Mf="_sentrySpan";function Cv(t,e){e?is(t,Mf,e):delete t[Mf]}function Iv(t){return t[Mf]}const KN=100;class mn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Tv(),sampleRand:sc()}}clone(){const e=new mn;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Cv(e,Iv(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&so(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this.setTags({[e]:r})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,r){return this.setAttributes({[e]:r})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,s=r instanceof mn?r.getScopeData():Ca(r)?e:void 0,{tags:o,attributes:a,extra:u,user:d,contexts:h,level:p,fingerprint:y=[],propagationContext:v}=s||{};return this._tags={...this._tags,...o},this._attributes={...this._attributes,...a},this._extra={...this._extra,...u},this._contexts={...this._contexts,...h},d&&Object.keys(d).length&&(this._user=d),p&&(this._level=p),y.length&&(this._fingerprint=y),v&&(this._propagationContext=v),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Cv(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Tv(),sampleRand:sc()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){var a;const s=typeof r=="number"?r:KN;if(s<=0)return this;const o={timestamp:Va(),...e,message:e.message?Df(e.message,2048):e.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>s&&(this._breadcrumbs=this._breadcrumbs.slice(-s),(a=this._client)==null||a.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Iv(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Wa(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const s=(r==null?void 0:r.event_id)||fr();if(!this._client)return Se&&_e.warn("No client configured on scope - will not capture exception!"),s;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...r,event_id:s},this),s}captureMessage(e,r,s){const o=(s==null?void 0:s.event_id)||fr();if(!this._client)return Se&&_e.warn("No client configured on scope - will not capture message!"),o;const a=(s==null?void 0:s.syntheticException)??new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:a,...s,event_id:o},this),o}captureEvent(e,r){const s=(r==null?void 0:r.event_id)||fr();return this._client?(this._client.captureEvent(e,{...r,event_id:s},this),s):(Se&&_e.warn("No client configured on scope - will not capture event!"),s)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function QN(){return fo("defaultCurrentScope",()=>new mn)}function JN(){return fo("defaultIsolationScope",()=>new mn)}class YN{constructor(e,r){let s;e?s=e:s=new mn;let o;r?o=r:o=new mn,this._stack=[{scope:s}],this._isolationScope=o}withScope(e){const r=this._pushScope();let s;try{s=e(r)}catch(o){throw this._popScope(),o}return za(s)?s.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),s)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function io(){const t=mc(),e=gc(t);return e.stack=e.stack||new YN(QN(),JN())}function ZN(t){return io().withScope(t)}function XN(t,e){const r=io();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function Ov(t){return io().withScope(()=>t(io().getIsolationScope()))}function eR(){return{withIsolationScope:Ov,withScope:ZN,withSetScope:XN,withSetIsolationScope:(t,e)=>Ov(e),getCurrentScope:()=>io().getScope(),getIsolationScope:()=>io().getIsolationScope()}}function Ip(t){const e=gc(t);return e.acs?e.acs:eR()}function vn(){const t=mc();return Ip(t).getCurrentScope()}function go(){const t=mc();return Ip(t).getIsolationScope()}function tR(){return fo("globalScope",()=>new mn)}function Zb(...t){const e=mc(),r=Ip(e);if(t.length===2){const[s,o]=t;return s?r.withSetScope(s,o):r.withScope(o)}return r.withScope(t[0])}function kt(){return vn().getClient()}function rR(t){const e=t.getPropagationContext(),{traceId:r,parentSpanId:s,propagationSpanId:o}=e,a={trace_id:r,span_id:o||Yb()};return s&&(a.parent_span_id=s),a}const nR="sentry.source",sR="sentry.sample_rate",iR="sentry.previous_trace_sample_rate",oR="sentry.op",aR="sentry.origin",Xb="sentry.profile_id",eE="sentry.exclusive_time",lR=0,uR=1,cR="_sentryScope",dR="_sentryIsolationScope";function hR(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function tE(t){const e=t;return{scope:e[cR],isolationScope:hR(e[dR])}}const fR="sentry-",pR=/^sentry-/;function mR(t){const e=gR(t);if(!e)return;const r=Object.entries(e).reduce((s,[o,a])=>{if(o.match(pR)){const u=o.slice(fR.length);s[u]=a}return s},{});if(Object.keys(r).length>0)return r}function gR(t){if(!(!t||!hn(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{const s=Av(r);return Object.entries(s).forEach(([o,a])=>{e[o]=a}),e},{}):Av(t)}function Av(t){return t.split(",").map(e=>{const r=e.indexOf("=");if(r===-1)return[];const s=e.slice(0,r),o=e.slice(r+1);return[s,o].map(a=>{try{return decodeURIComponent(a.trim())}catch{return}})}).reduce((e,[r,s])=>(r&&s&&(e[r]=s),e),{})}const yR=/^o(\d+)\./,vR=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function _R(t){return t==="http"||t==="https"}function Ha(t,e=!1){const{host:r,path:s,pass:o,port:a,projectId:u,protocol:d,publicKey:h}=t;return`${d}://${h}${e&&o?`:${o}`:""}@${r}${a?`:${a}`:""}/${s&&`${s}/`}${u}`}function wR(t){const e=vR.exec(t);if(!e){po(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[r,s,o="",a="",u="",d=""]=e.slice(1);let h="",p=d;const y=p.split("/");if(y.length>1&&(h=y.slice(0,-1).join("/"),p=y.pop()),p){const v=p.match(/^\d+/);v&&(p=v[0])}return rE({host:a,pass:o,path:h,projectId:p,port:u,protocol:r,publicKey:s})}function rE(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function bR(t){if(!Se)return!0;const{port:e,projectId:r,protocol:s}=t;return["protocol","publicKey","host","projectId"].find(u=>t[u]?!1:(_e.error(`Invalid Sentry Dsn: ${u} missing`),!0))?!1:r.match(/^\d+$/)?_R(s)?e&&isNaN(parseInt(e,10))?(_e.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(_e.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),!1):(_e.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function ER(t){const e=t.match(yR);return e==null?void 0:e[1]}function SR(t){const e=t.getOptions(),{host:r}=t.getDsn()||{};let s;return e.orgId?s=String(e.orgId):r&&(s=ER(r)),s}function xR(t){const e=typeof t=="string"?wR(t):rE(t);if(!(!e||!bR(e)))return e}function kR(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const nE=1;let Nv=!1;function TR(t){const{spanId:e,traceId:r,isRemote:s}=t.spanContext(),o=s?e:Op(t).parent_span_id,a=tE(t).scope,u=s?(a==null?void 0:a.getPropagationContext().propagationSpanId)||Yb():e;return{parent_span_id:o,span_id:u,trace_id:r}}function CR(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:r,traceFlags:s,...o},attributes:a})=>({span_id:e,trace_id:r,sampled:s===nE,attributes:a,...o}))}function Rv(t){return typeof t=="number"?Pv(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Pv(t.getTime()):fn()}function Pv(t){return t>9999999999?t/1e3:t}function Op(t){var s;if(OR(t))return t.getSpanJSON();const{spanId:e,traceId:r}=t.spanContext();if(IR(t)){const{attributes:o,startTime:a,name:u,endTime:d,status:h,links:p}=t,y="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?(s=t.parentSpanContext)==null?void 0:s.spanId:void 0;return{span_id:e,trace_id:r,data:o,description:u,parent_span_id:y,start_timestamp:Rv(a),timestamp:Rv(d)||void 0,status:NR(h),op:o[oR],origin:o[aR],links:CR(p)}}return{span_id:e,trace_id:r,start_timestamp:0,data:{}}}function IR(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function OR(t){return typeof t.getSpanJSON=="function"}function AR(t){const{traceFlags:e}=t.spanContext();return e===nE}function NR(t){if(!(!t||t.code===lR))return t.code===uR?"ok":t.message||"internal_error"}const RR="_sentryRootSpan";function sE(t){return t[RR]||t}function jv(){Nv||(po(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Nv=!0)}function PR(t){var r;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=(r=kt())==null?void 0:r.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function Lv(t){_e.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function Dv(t,e){if(!(e!=null&&e.length)||!t.description)return!1;for(const r of e){if(LR(r)){if(Iu(t.description,r))return Se&&Lv(t),!0;continue}if(!r.name&&!r.op)continue;const s=r.name?Iu(t.description,r.name):!0,o=r.op?t.op&&Iu(t.op,r.op):!0;if(s&&o)return Se&&Lv(t),!0}return!1}function jR(t,e){const r=e.parent_span_id,s=e.span_id;if(r)for(const o of t)o.parent_span_id===s&&(o.parent_span_id=r)}function LR(t){return typeof t=="string"||t instanceof RegExp}const Ap="production",DR="_frozenDsc";function iE(t,e){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},o={environment:r.environment||Ap,release:r.release,public_key:s,trace_id:t,org_id:SR(e)};return e.emit("createDsc",o),o}function FR(t,e){const r=e.getPropagationContext();return r.dsc||iE(r.traceId,t)}function MR(t){var x;const e=kt();if(!e)return{};const r=sE(t),s=Op(r),o=s.data,a=r.spanContext().traceState,u=(a==null?void 0:a.get("sentry.sample_rate"))??o[sR]??o[iR];function d(S){return(typeof u=="number"||typeof u=="string")&&(S.sample_rate=`${u}`),S}const h=r[DR];if(h)return d(h);const p=a==null?void 0:a.get("sentry.dsc"),y=p&&mR(p);if(y)return d(y);const v=iE(t.spanContext().traceId,e),_=o[nR],b=s.description;return _!=="url"&&b&&(v.transaction=b),PR()&&(v.sampled=String(AR(r)),v.sample_rand=(a==null?void 0:a.get("sentry.sample_rand"))??((x=tE(r).scope)==null?void 0:x.getPropagationContext().sampleRand.toString())),d(v),e.emit("createDsc",v,r),v}function sn(t,e=100,r=1/0){try{return Uf("",t,e,r)}catch(s){return{ERROR:`**non-serializable** (${s})`}}}function oE(t,e=3,r=100*1024){const s=sn(t,e);return zR(s)>r?oE(t,e-1,r):s}function Uf(t,e,r=1/0,s=1/0,o=VR()){const[a,u]=o;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const d=UR(t,e);if(!d.startsWith("[object "))return d;if(e.__sentry_skip_normalization__)return e;const h=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(h===0)return d.replace("object ","");if(a(e))return"[Circular ~]";const p=e;if(p&&typeof p.toJSON=="function")try{const b=p.toJSON();return Uf("",b,h-1,s,o)}catch{}const y=Array.isArray(e)?[]:{};let v=0;const _=Kb(e);for(const b in _){if(!Object.prototype.hasOwnProperty.call(_,b))continue;if(v>=s){y[b]="[MaxProperties ~]";break}const x=_[b];y[b]=Uf(b,x,h-1,s,o),v++}return u(e),y}function UR(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Wb(e))return Bb(e);if(DN(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${ns(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const r=$R(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function $R(t){const e=Object.getPrototypeOf(t);return e!=null&&e.constructor?e.constructor.name:"null prototype"}function BR(t){return~-encodeURI(t).split(/%..|./).length}function zR(t){return BR(JSON.stringify(t))}function VR(){const t=new WeakSet;function e(s){return t.has(s)?!0:(t.add(s),!1)}function r(s){t.delete(s)}return[e,r]}function yo(t,e=[]){return[t,e]}function WR(t,e){const[r,s]=t;return[r,[...s,e]]}function $f(t,e){const r=t[1];for(const s of r){const o=s[0].type;if(e(s,o))return!0}return!1}function HR(t,e){return $f(t,(r,s)=>e.includes(s))}function Bf(t){const e=gc(De);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function qR(t){const[e,r]=t;let s=JSON.stringify(e);function o(a){typeof s=="string"?s=typeof a=="string"?s+a:[Bf(s),a]:s.push(typeof a=="string"?Bf(a):a)}for(const a of r){const[u,d]=a;if(o(`
${JSON.stringify(u)}
`),typeof d=="string"||d instanceof Uint8Array)o(d);else{let h;try{h=JSON.stringify(d)}catch{h=JSON.stringify(sn(d))}o(h)}}return typeof s=="string"?s:GR(s)}function GR(t){const e=t.reduce((o,a)=>o+a.length,0),r=new Uint8Array(e);let s=0;for(const o of t)r.set(o,s),s+=o.length;return r}function KR(t){const e=typeof t.data=="string"?Bf(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const QR={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Fv(t){return QR[t]}function aE(t){if(!(t!=null&&t.sdk))return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function JR(t,e,r,s){var a;const o=(a=t.sdkProcessingMetadata)==null?void 0:a.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&s&&{dsn:Ha(s)},...o&&{trace:o}}}function YR(t,e){var s,o,a,u;if(!e)return t;const r=t.sdk||{};return t.sdk={...r,name:r.name||e.name,version:r.version||e.version,integrations:[...((s=t.sdk)==null?void 0:s.integrations)||[],...e.integrations||[]],packages:[...((o=t.sdk)==null?void 0:o.packages)||[],...e.packages||[]],settings:(a=t.sdk)!=null&&a.settings||e.settings?{...(u=t.sdk)==null?void 0:u.settings,...e.settings}:void 0},t}function ZR(t,e,r,s){const o=aE(r),a={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!s&&e&&{dsn:Ha(e)}},u="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return yo(a,[u])}function XR(t,e,r,s){const o=aE(r),a=t.type&&t.type!=="replay_event"?t.type:"event";YR(t,r==null?void 0:r.sdk);const u=JR(t,o,s,e);return delete t.sdkProcessingMetadata,yo(u,[[{type:a},t]])}const Gh=0,Mv=1,Uv=2;function Sc(t){return new Ia(e=>{e(t)})}function Np(t){return new Ia((e,r)=>{r(t)})}class Ia{constructor(e){this._state=Gh,this._handlers=[],this._runExecutor(e)}then(e,r){return new Ia((s,o)=>{this._handlers.push([!1,a=>{if(!e)s(a);else try{s(e(a))}catch(u){o(u)}},a=>{if(!r)o(a);else try{s(r(a))}catch(u){o(u)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new Ia((r,s)=>{let o,a;return this.then(u=>{a=!1,o=u,e&&e()},u=>{a=!0,o=u,e&&e()}).then(()=>{if(a){s(o);return}r(o)})})}_executeHandlers(){if(this._state===Gh)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===Mv&&r[1](this._value),this._state===Uv&&r[2](this._value),r[0]=!0)})}_runExecutor(e){const r=(a,u)=>{if(this._state===Gh){if(za(u)){u.then(s,o);return}this._state=a,this._value=u,this._executeHandlers()}},s=a=>{r(Mv,a)},o=a=>{r(Uv,a)};try{e(s,o)}catch(a){o(a)}}}function e1(t,e,r,s=0){try{const o=zf(e,r,t,s);return za(o)?o:Sc(o)}catch(o){return Np(o)}}function zf(t,e,r,s){const o=r[s];if(!t||!o)return t;const a=o({...t},e);return Se&&a===null&&_e.log(`Event processor "${o.id||"?"}" dropped event`),za(a)?a.then(u=>zf(u,e,r,s+1)):zf(a,e,r,s+1)}let rn,$v,Bv,Un;function t1(t){const e=De._sentryDebugIds,r=De._debugIds;if(!e&&!r)return{};const s=e?Object.keys(e):[],o=r?Object.keys(r):[];if(Un&&s.length===$v&&o.length===Bv)return Un;$v=s.length,Bv=o.length,Un={},rn||(rn={});const a=(u,d)=>{for(const h of u){const p=d[h],y=rn==null?void 0:rn[h];if(y&&Un&&p)Un[y[0]]=p,rn&&(rn[h]=[y[0],p]);else if(p){const v=t(h);for(let _=v.length-1;_>=0;_--){const b=v[_],x=b==null?void 0:b.filename;if(x&&Un&&rn){Un[x]=p,rn[h]=[x,p];break}}}}};return e&&a(s,e),r&&a(o,r),Un}function r1(t,e){const{fingerprint:r,span:s,breadcrumbs:o,sdkProcessingMetadata:a}=e;s1(t,e),s&&a1(t,s),l1(t,r),i1(t,o),o1(t,a)}function zv(t,e){const{extra:r,tags:s,attributes:o,user:a,contexts:u,level:d,sdkProcessingMetadata:h,breadcrumbs:p,fingerprint:y,eventProcessors:v,attachments:_,propagationContext:b,transactionName:x,span:S}=e;ha(t,"extra",r),ha(t,"tags",s),ha(t,"attributes",o),ha(t,"user",a),ha(t,"contexts",u),t.sdkProcessingMetadata=Wa(t.sdkProcessingMetadata,h,2),d&&(t.level=d),x&&(t.transactionName=x),S&&(t.span=S),p.length&&(t.breadcrumbs=[...t.breadcrumbs,...p]),y.length&&(t.fingerprint=[...t.fingerprint,...y]),v.length&&(t.eventProcessors=[...t.eventProcessors,...v]),_.length&&(t.attachments=[...t.attachments,..._]),t.propagationContext={...t.propagationContext,...b}}function ha(t,e,r){t[e]=Wa(t[e],r,1)}function n1(t,e){const r=tR().getScopeData();return t&&zv(r,t.getScopeData()),e&&zv(r,e.getScopeData()),r}function s1(t,e){const{extra:r,tags:s,user:o,contexts:a,level:u,transactionName:d}=e;Object.keys(r).length&&(t.extra={...r,...t.extra}),Object.keys(s).length&&(t.tags={...s,...t.tags}),Object.keys(o).length&&(t.user={...o,...t.user}),Object.keys(a).length&&(t.contexts={...a,...t.contexts}),u&&(t.level=u),d&&t.type!=="transaction"&&(t.transaction=d)}function i1(t,e){const r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function o1(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function a1(t,e){t.contexts={trace:TR(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:MR(e),...t.sdkProcessingMetadata};const r=sE(e),s=Op(r).description;s&&!t.transaction&&t.type==="transaction"&&(t.transaction=s)}function l1(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}function u1(t,e,r,s,o,a){const{normalizeDepth:u=3,normalizeMaxBreadth:d=1e3}=t,h={...e,event_id:e.event_id||r.event_id||fr(),timestamp:e.timestamp||Va()},p=r.integrations||t.integrations.map(E=>E.name);c1(h,t),f1(h,p),o&&o.emit("applyFrameMetadata",e),e.type===void 0&&d1(h,t.stackParser);const y=m1(s,r.captureContext);r.mechanism&&no(h,r.mechanism);const v=o?o.getEventProcessors():[],_=n1(a,y),b=[...r.attachments||[],..._.attachments];b.length&&(r.attachments=b),r1(h,_);const x=[...v,..._.eventProcessors];return e1(x,h,r).then(E=>(E&&h1(E),typeof u=="number"&&u>0?p1(E,u,d):E))}function c1(t,e){var d,h;const{environment:r,release:s,dist:o,maxValueLength:a}=e;t.environment=t.environment||r||Ap,!t.release&&s&&(t.release=s),!t.dist&&o&&(t.dist=o);const u=t.request;u!=null&&u.url&&a&&(u.url=Df(u.url,a)),a&&((h=(d=t.exception)==null?void 0:d.values)==null||h.forEach(p=>{p.value&&(p.value=Df(p.value,a))}))}function d1(t,e){var s,o;const r=t1(e);(o=(s=t.exception)==null?void 0:s.values)==null||o.forEach(a=>{var u,d;(d=(u=a.stacktrace)==null?void 0:u.frames)==null||d.forEach(h=>{h.filename&&(h.debug_id=r[h.filename])})})}function h1(t){var s,o;const e={};if((o=(s=t.exception)==null?void 0:s.values)==null||o.forEach(a=>{var u,d;(d=(u=a.stacktrace)==null?void 0:u.frames)==null||d.forEach(h=>{h.debug_id&&(h.abs_path?e[h.abs_path]=h.debug_id:h.filename&&(e[h.filename]=h.debug_id),delete h.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.entries(e).forEach(([a,u])=>{r.push({type:"sourcemap",code_file:a,debug_id:u})})}function f1(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function p1(t,e,r){var o,a;if(!t)return null;const s={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(u=>({...u,...u.data&&{data:sn(u.data,e,r)}}))},...t.user&&{user:sn(t.user,e,r)},...t.contexts&&{contexts:sn(t.contexts,e,r)},...t.extra&&{extra:sn(t.extra,e,r)}};return(o=t.contexts)!=null&&o.trace&&s.contexts&&(s.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(s.contexts.trace.data=sn(t.contexts.trace.data,e,r))),t.spans&&(s.spans=t.spans.map(u=>({...u,...u.data&&{data:sn(u.data,e,r)}}))),(a=t.contexts)!=null&&a.flags&&s.contexts&&(s.contexts.flags=sn(t.contexts.flags,3,r)),s}function m1(t,e){if(!e)return t;const r=t?t.clone():new mn;return r.update(e),r}function lE(t,e){return vn().captureException(t,void 0)}function g1(t,e){const r=typeof e=="string"?e:void 0,s=typeof e!="string"?{captureContext:e}:void 0;return vn().captureMessage(t,r,s)}function uE(t,e){return vn().captureEvent(t,e)}function y1(t,e){go().setContext(t,e)}function Vv(t){const e=go(),r=vn(),{userAgent:s}=De.navigator||{},o=HN({user:r.getUser()||e.getUser(),...s&&{userAgent:s},...t}),a=e.getSession();return(a==null?void 0:a.status)==="ok"&&so(a,{status:"exited"}),cE(),e.setSession(o),o}function cE(){const t=go(),r=vn().getSession()||t.getSession();r&&qN(r),dE(),t.setSession()}function dE(){const t=go(),e=kt(),r=t.getSession();r&&e&&e.captureSession(r)}function Wv(t=!1){if(t){cE();return}dE()}const v1="7";function _1(t){const e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function w1(t){return`${_1(t)}${t.projectId}/envelope/`}function b1(t,e){const r={sentry_version:v1};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function E1(t,e,r){return e||`${w1(t)}?${b1(t,r)}`}const Hv=[];function S1(t){const e={};return t.forEach(r=>{const{name:s}=r,o=e[s];o&&!o.isDefaultInstance&&r.isDefaultInstance||(e[s]=r)}),Object.values(e)}function x1(t){const e=t.defaultIntegrations||[],r=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let s;if(Array.isArray(r))s=[...e,...r];else if(typeof r=="function"){const o=r(e);s=Array.isArray(o)?o:[o]}else s=e;return S1(s)}function k1(t,e){const r={};return e.forEach(s=>{s&&hE(t,s,r)}),r}function qv(t,e){for(const r of e)r!=null&&r.afterAllSetup&&r.afterAllSetup(t)}function hE(t,e,r){if(r[e.name]){Se&&_e.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,!Hv.includes(e.name)&&typeof e.setupOnce=="function"&&(e.setupOnce(),Hv.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const s=e.preprocessEvent.bind(e);t.on("preprocessEvent",(o,a)=>s(o,a,t))}if(typeof e.processEvent=="function"){const s=e.processEvent.bind(e),o=Object.assign((a,u)=>s(a,u,t),{id:e.name});t.addEventProcessor(o)}Se&&_e.log(`Integration installed: ${e.name}`)}function T1(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function C1(t,e,r,s){const o={};return e!=null&&e.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&s&&(o.dsn=Ha(s)),yo(o,[T1(t)])}function fE(t,e){const r=e??I1(t)??[];if(r.length===0)return;const s=t.getOptions(),o=C1(r,s._metadata,s.tunnel,t.getDsn());pE().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(o)}function I1(t){return pE().get(t)}function pE(){return fo("clientToLogBufferMap",()=>new WeakMap)}function O1(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}function A1(t,e,r,s){const o={};return e!=null&&e.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&s&&(o.dsn=Ha(s)),yo(o,[O1(t)])}function mE(t,e){const r=e??N1(t)??[];if(r.length===0)return;const s=t.getOptions(),o=A1(r,s._metadata,s.tunnel,t.getDsn());gE().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(o)}function N1(t){return gE().get(t)}function gE(){return fo("clientToMetricBufferMap",()=>new WeakMap)}const Rp=Symbol.for("SentryBufferFullError");function Pp(t=100){const e=new Set;function r(){return e.size<t}function s(u){e.delete(u)}function o(u){if(!r())return Np(Rp);const d=u();return e.add(d),d.then(()=>s(d),()=>s(d)),d}function a(u){if(!e.size)return Sc(!0);const d=Promise.allSettled(Array.from(e)).then(()=>!0);if(!u)return d;const h=[d,new Promise(p=>setTimeout(()=>p(!1),u))];return Promise.race(h)}return{get $(){return Array.from(e)},add:o,drain:a}}const R1=60*1e3;function P1(t,e=bc()){const r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;const s=Date.parse(`${t}`);return isNaN(s)?R1:s-e}function j1(t,e){return t[e]||t.all||0}function L1(t,e,r=bc()){return j1(t,e)>r}function D1(t,{statusCode:e,headers:r},s=bc()){const o={...t},a=r==null?void 0:r["x-sentry-rate-limits"],u=r==null?void 0:r["retry-after"];if(a)for(const d of a.trim().split(",")){const[h,p,,,y]=d.split(":",5),v=parseInt(h,10),_=(isNaN(v)?60:v)*1e3;if(!p)o.all=s+_;else for(const b of p.split(";"))b==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(o[b]=s+_):o[b]=s+_}else u?o.all=s+P1(u,s):e===429&&(o.all=s+60*1e3);return o}const yE=64;function F1(t,e,r=Pp(t.bufferSize||yE)){let s={};const o=u=>r.drain(u);function a(u){const d=[];if($f(u,(v,_)=>{const b=Fv(_);L1(s,b)?t.recordDroppedEvent("ratelimit_backoff",b):d.push(v)}),d.length===0)return Promise.resolve({});const h=yo(u[0],d),p=v=>{if(HR(h,["client_report"])){Se&&_e.warn(`Dropping client report. Will not send outcomes (reason: ${v}).`);return}$f(h,(_,b)=>{t.recordDroppedEvent(v,Fv(b))})},y=()=>e({body:qR(h)}).then(v=>(v.statusCode!==void 0&&(v.statusCode<200||v.statusCode>=300)&&Se&&_e.warn(`Sentry responded with status code ${v.statusCode} to sent event.`),s=D1(s,v),v),v=>{throw p("network_error"),Se&&_e.error("Encountered error running transport request:",v),v});return r.add(y).then(v=>v,v=>{if(v===Rp)return Se&&_e.error("Skipped sending event because buffer is full."),p("queue_overflow"),Promise.resolve({});throw v})}return{send:a,flush:o}}function M1(t,e,r){const s=[{type:"client_report"},{timestamp:Va(),discarded_events:t}];return yo(e?{dsn:e}:{},[s])}function vE(t){const e=[];t.message&&e.push(t.message);try{const r=t.exception.values[t.exception.values.length-1];r!=null&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`))}catch{}return e}function U1(t){var h;const{trace_id:e,parent_span_id:r,span_id:s,status:o,origin:a,data:u,op:d}=((h=t.contexts)==null?void 0:h.trace)??{};return{data:u??{},description:t.transaction,op:d,parent_span_id:r,span_id:s??"",start_timestamp:t.start_timestamp??0,status:o,timestamp:t.timestamp,trace_id:e??"",origin:a,profile_id:u==null?void 0:u[Xb],exclusive_time:u==null?void 0:u[eE],measurements:t.measurements,is_segment:!0}}function $1(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[Xb]:t.profile_id},...t.exclusive_time&&{[eE]:t.exclusive_time}}}},measurements:t.measurements}}const Gv="Not capturing exception because it's already been captured.",Kv="Discarded session because of missing or non-string release",_E=Symbol.for("SentryInternalError"),wE=Symbol.for("SentryDoNotSendEventError"),B1=5e3;function Ou(t){return{message:t,[_E]:!0}}function Kh(t){return{message:t,[wE]:!0}}function Qv(t){return!!t&&typeof t=="object"&&_E in t}function Jv(t){return!!t&&typeof t=="object"&&wE in t}function Yv(t,e,r,s,o){let a=0,u,d=!1;t.on(r,()=>{a=0,clearTimeout(u),d=!1}),t.on(e,h=>{a+=s(h),a>=8e5?o(t):d||(d=!0,u=setTimeout(()=>{o(t)},B1))}),t.on("flush",()=>{o(t)})}class z1{constructor(e){var s,o,a;if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Pp(((s=e.transportOptions)==null?void 0:s.bufferSize)??yE),e.dsn?this._dsn=xR(e.dsn):Se&&_e.warn("No DSN provided, client will not send events."),this._dsn){const u=E1(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:u})}this._options.enableLogs=this._options.enableLogs??((o=this._options._experiments)==null?void 0:o.enableLogs),this._options.enableLogs&&Yv(this,"afterCaptureLog","flushLogs",q1,fE),(this._options.enableMetrics??((a=this._options._experiments)==null?void 0:a.enableMetrics)??!0)&&Yv(this,"afterCaptureMetric","flushMetrics",H1,mE)}captureException(e,r,s){const o=fr();if(xv(e))return Se&&_e.log(Gv),o;const a={event_id:o,...r};return this._process(()=>this.eventFromException(e,a).then(u=>this._captureEvent(u,a,s)).then(u=>u),"error"),a.event_id}captureMessage(e,r,s,o){const a={event_id:fr(),...s},u=xp(e)?e:String(e),d=vc(e),h=d?this.eventFromMessage(u,r,a):this.eventFromException(e,a);return this._process(()=>h.then(p=>this._captureEvent(p,a,o)),d?"unknown":"error"),a.event_id}captureEvent(e,r,s){const o=fr();if(r!=null&&r.originalException&&xv(r.originalException))return Se&&_e.log(Gv),o;const a={event_id:o,...r},u=e.sdkProcessingMetadata||{},d=u.capturedSpanScope,h=u.capturedSpanIsolationScope,p=Zv(e.type);return this._process(()=>this._captureEvent(e,a,d||s,h),p),a.event_id}captureSession(e){this.sendSession(e),so(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const r=this._transport;if(!r)return!0;this.emit("flush");const s=await this._isClientDoneProcessing(e),o=await r.flush(e);return s&&o}async close(e){const r=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),r}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const r=this._integrations[e.name];hE(this,e,this._integrations),r||qv(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let s=XR(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of r.attachments||[])s=WR(s,KR(o));this.sendEnvelope(s).then(o=>this.emit("afterSendEvent",e,o))}sendSession(e){const{release:r,environment:s=Ap}=this._options;if("aggregates"in e){const a=e.attrs||{};if(!a.release&&!r){Se&&_e.warn(Kv);return}a.release=a.release||r,a.environment=a.environment||s,e.attrs=a}else{if(!e.release&&!r){Se&&_e.warn(Kv);return}e.release=e.release||r,e.environment=e.environment||s}this.emit("beforeSendSession",e);const o=ZR(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(e,r,s=1){if(this._options.sendClientReports){const o=`${e}:${r}`;Se&&_e.log(`Recording outcome: "${o}"${s>1?` (${s} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+s}}on(e,r){const s=this._hooks[e]=this._hooks[e]||new Set,o=(...a)=>r(...a);return s.add(o),()=>{s.delete(o)}}emit(e,...r){const s=this._hooks[e];s&&s.forEach(o=>o(...r))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(r){return Se&&_e.error("Error while sending envelope:",r),{}}return Se&&_e.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=k1(this,e),qv(this,e)}_updateSessionFromEvent(e,r){var h,p;let s=r.level==="fatal",o=!1;const a=(h=r.exception)==null?void 0:h.values;if(a){o=!0,s=!1;for(const y of a)if(((p=y.mechanism)==null?void 0:p.handled)===!1){s=!0;break}}const u=e.status==="ok";(u&&e.errors===0||u&&s)&&(so(e,{...s&&{status:"crashed"},errors:e.errors||Number(o||s)}),this.captureSession(e))}async _isClientDoneProcessing(e){let r=0;for(;!e||r<e;){if(await new Promise(s=>setTimeout(s,1)),!this._numProcessing)return!0;r++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,s,o){const a=this.getOptions(),u=Object.keys(this._integrations);return!r.integrations&&(u!=null&&u.length)&&(r.integrations=u),this.emit("preprocessEvent",e,r),e.type||o.setLastEventId(e.event_id||r.event_id),u1(a,e,r,s,this,o).then(d=>{if(d===null)return d;this.emit("postprocessEvent",d,r),d.contexts={trace:rR(s),...d.contexts};const h=FR(this,s);return d.sdkProcessingMetadata={dynamicSamplingContext:h,...d.sdkProcessingMetadata},d})}_captureEvent(e,r={},s=vn(),o=go()){return Se&&Vf(e)&&_e.log(`Captured error event \`${vE(e)[0]||"<unknown>"}\``),this._processEvent(e,r,s,o).then(a=>a.event_id,a=>{Se&&(Jv(a)?_e.log(a.message):Qv(a)?_e.warn(a.message):_e.warn(a))})}_processEvent(e,r,s,o){const a=this.getOptions(),{sampleRate:u}=a,d=bE(e),h=Vf(e),y=`before send for type \`${e.type||"error"}\``,v=typeof u>"u"?void 0:kR(u);if(h&&typeof v=="number"&&sc()>v)return this.recordDroppedEvent("sample_rate","error"),Np(Kh(`Discarding event because it's not included in the random sample (sampling rate = ${u})`));const _=Zv(e.type);return this._prepareEvent(e,r,s,o).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",_),Kh("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return b;const S=W1(this,a,b,r);return V1(S,y)}).then(b=>{var E;if(b===null){if(this.recordDroppedEvent("before_send",_),d){const F=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",F)}throw Kh(`${y} returned \`null\`, will not send event.`)}const x=s.getSession()||o.getSession();if(h&&x&&this._updateSessionFromEvent(x,b),d){const N=((E=b.sdkProcessingMetadata)==null?void 0:E.spanCountBeforeProcessing)||0,F=b.spans?b.spans.length:0,j=N-F;j>0&&this.recordDroppedEvent("before_send","span",j)}const S=b.transaction_info;if(d&&S&&b.transaction!==e.transaction){const N="custom";b.transaction_info={...S,source:N}}return this.sendEvent(b,r),b}).then(null,b=>{throw Jv(b)||Qv(b)?b:(this.captureException(b,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:b}),Ou(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(e,r){this._numProcessing++,this._promiseBuffer.add(e).then(s=>(this._numProcessing--,s),s=>(this._numProcessing--,s===Rp&&this.recordDroppedEvent("queue_overflow",r),s))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,s])=>{const[o,a]=r.split(":");return{reason:o,category:a,quantity:s}})}_flushOutcomes(){Se&&_e.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){Se&&_e.log("No outcomes to send");return}if(!this._dsn){Se&&_e.log("No dsn provided, will not send outcomes");return}Se&&_e.log("Sending outcomes:",e);const r=M1(e,this._options.tunnel&&Ha(this._dsn));this.sendEnvelope(r)}}function Zv(t){return t==="replay_event"?"replay":t||"error"}function V1(t,e){const r=`${e} must return \`null\` or a valid event.`;if(za(t))return t.then(s=>{if(!Ca(s)&&s!==null)throw Ou(r);return s},s=>{throw Ou(`${e} rejected with ${s}`)});if(!Ca(t)&&t!==null)throw Ou(r);return t}function W1(t,e,r,s){const{beforeSend:o,beforeSendTransaction:a,beforeSendSpan:u,ignoreSpans:d}=e;let h=r;if(Vf(h)&&o)return o(h,s);if(bE(h)){if(u||d){const p=U1(h);if(d!=null&&d.length&&Dv(p,d))return null;if(u){const y=u(p);y?h=Wa(r,$1(y)):jv()}if(h.spans){const y=[],v=h.spans;for(const b of v){if(d!=null&&d.length&&Dv(b,d)){jR(v,b);continue}if(u){const x=u(b);x?y.push(x):(jv(),y.push(b))}else y.push(b)}const _=h.spans.length-y.length;_&&t.recordDroppedEvent("before_send","span",_),h.spans=y}}if(a){if(h.spans){const p=h.spans.length;h.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:p}}return a(h,s)}}return h}function Vf(t){return t.type===void 0}function bE(t){return t.type==="transaction"}function H1(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+EE(t.attributes)}function q1(t){let e=0;return t.message&&(e+=t.message.length*2),e+EE(t.attributes)}function EE(t){if(!t)return 0;let e=0;return Object.values(t).forEach(r=>{Array.isArray(r)?e+=r.length*Xv(r[0]):vc(r)?e+=Xv(r):e+=100}),e}function Xv(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}function G1(t){return yc(t)&&"__sentry_fetch_url_host__"in t&&typeof t.__sentry_fetch_url_host__=="string"}function e_(t){return G1(t)?`${t.message} (${t.__sentry_fetch_url_host__})`:t.message}function K1(t,e){e.debug===!0&&(Se?_e.enable():po(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),vn().update(e.initialScope);const s=new t(e);return Q1(s),s.init(),s}function Q1(t){vn().setClient(t)}function Qh(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",s=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:s,relative:e[5]+r+s}}function J1(t){var e;"aggregates"in t?((e=t.attrs)==null?void 0:e.ip_address)===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function SE(t,e,r=[e],s="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:r.map(a=>({name:`${s}:@sentry/${a}`,version:Ks})),version:Ks}),t._metadata=o}const Y1=100;function os(t,e){const r=kt(),s=go();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:a=Y1}=r.getOptions();if(a<=0)return;const d={timestamp:Va(),...t},h=o?po(()=>o(d,e)):d;h!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",h,e),s.addBreadcrumb(h,a))}let t_;const Z1="FunctionToString",r_=new WeakMap,X1=(()=>({name:Z1,setupOnce(){t_=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=Cp(this),r=r_.has(kt())&&e!==void 0?e:this;return t_.apply(r,t)}}catch{}},setup(t){r_.set(t,!0)}})),eP=X1,tP=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],rP="EventFilters",nP=(t={})=>{let e;return{name:rP,setup(r){const s=r.getOptions();e=n_(t,s)},processEvent(r,s,o){if(!e){const a=o.getOptions();e=n_(t,a)}return iP(r,e)?null:r}}},sP=((t={})=>({...nP(t),name:"InboundFilters"}));function n_(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:tP],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function iP(t,e){if(t.type){if(t.type==="transaction"&&aP(t,e.ignoreTransactions))return Se&&_e.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ns(t)}`),!0}else{if(oP(t,e.ignoreErrors))return Se&&_e.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ns(t)}`),!0;if(dP(t))return Se&&_e.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ns(t)}`),!0;if(lP(t,e.denyUrls))return Se&&_e.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ns(t)}.
Url: ${ic(t)}`),!0;if(!uP(t,e.allowUrls))return Se&&_e.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ns(t)}.
Url: ${ic(t)}`),!0}return!1}function oP(t,e){return e!=null&&e.length?vE(t).some(r=>Ec(r,e)):!1}function aP(t,e){if(!(e!=null&&e.length))return!1;const r=t.transaction;return r?Ec(r,e):!1}function lP(t,e){if(!(e!=null&&e.length))return!1;const r=ic(t);return r?Ec(r,e):!1}function uP(t,e){if(!(e!=null&&e.length))return!0;const r=ic(t);return r?Ec(r,e):!0}function cP(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function ic(t){var e,r;try{const s=[...((e=t.exception)==null?void 0:e.values)??[]].reverse().find(a=>{var u,d,h;return((u=a.mechanism)==null?void 0:u.parent_id)===void 0&&((h=(d=a.stacktrace)==null?void 0:d.frames)==null?void 0:h.length)}),o=(r=s==null?void 0:s.stacktrace)==null?void 0:r.frames;return o?cP(o):null}catch{return Se&&_e.error(`Cannot extract url for event ${Ns(t)}`),null}}function dP(t){var e,r;return(r=(e=t.exception)==null?void 0:e.values)!=null&&r.length?!t.message&&!t.exception.values.some(s=>s.stacktrace||s.type&&s.type!=="Error"||s.value):!1}function hP(t,e,r,s,o,a){var d;if(!((d=o.exception)!=null&&d.values)||!a||!ss(a.originalException,Error))return;const u=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;u&&(o.exception.values=Wf(t,e,s,a.originalException,r,o.exception.values,u,0))}function Wf(t,e,r,s,o,a,u,d){if(a.length>=r+1)return a;let h=[...a];if(ss(s[o],Error)){s_(u,d);const p=t(e,s[o]),y=h.length;i_(p,o,y,d),h=Wf(t,e,r,s[o],o,[p,...h],p,y)}return Array.isArray(s.errors)&&s.errors.forEach((p,y)=>{if(ss(p,Error)){s_(u,d);const v=t(e,p),_=h.length;i_(v,`errors[${y}]`,_,d),h=Wf(t,e,r,p,o,[v,...h],v,_)}}),h}function s_(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function i_(t,e,r,s){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:s}}function fP(t){const e="console";ei(e,t),ti(e,pP)}function pP(){"console"in De&&wN.forEach(function(t){t in De.console&&Yt(De.console,t,function(e){return nc[t]=e,function(...r){Or("console",{args:r,level:t});const o=nc[t];o==null||o.apply(De.console,r)}})})}function mP(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const gP="Dedupe",yP=(()=>{let t;return{name:gP,processEvent(e){if(e.type)return e;try{if(_P(e,t))return Se&&_e.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),vP=yP;function _P(t,e){return e?!!(wP(t,e)||bP(t,e)):!1}function wP(t,e){const r=t.message,s=e.message;return!(!r&&!s||r&&!s||!r&&s||r!==s||!kE(t,e)||!xE(t,e))}function bP(t,e){const r=o_(e),s=o_(t);return!(!r||!s||r.type!==s.type||r.value!==s.value||!kE(t,e)||!xE(t,e))}function xE(t,e){let r=vv(t),s=vv(e);if(!r&&!s)return!0;if(r&&!s||!r&&s||(r=r,s=s,s.length!==r.length))return!1;for(let o=0;o<s.length;o++){const a=s[o],u=r[o];if(a.filename!==u.filename||a.lineno!==u.lineno||a.colno!==u.colno||a.function!==u.function)return!1}return!0}function kE(t,e){let r=t.fingerprint,s=e.fingerprint;if(!r&&!s)return!0;if(r&&!s||!r&&s)return!1;r=r,s=s;try{return r.join("")===s.join("")}catch{return!1}}function o_(t){var e,r;return(r=(e=t.exception)==null?void 0:e.values)==null?void 0:r[0]}function TE(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const Oa=De;function EP(){return"history"in Oa&&!!Oa.history}function SP(){if(!("fetch"in Oa))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function Hf(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function xP(){var r;if(typeof EdgeRuntime=="string")return!0;if(!SP())return!1;if(Hf(Oa.fetch))return!0;let t=!1;const e=Oa.document;if(e&&typeof e.createElement=="function")try{const s=e.createElement("iframe");s.hidden=!0,e.head.appendChild(s),(r=s.contentWindow)!=null&&r.fetch&&(t=Hf(s.contentWindow.fetch)),e.head.removeChild(s)}catch(s){Se&&_e.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",s)}return t}function kP(t,e){const r="fetch";ei(r,t),ti(r,()=>TP(void 0,e))}function TP(t,e=!1){e&&!xP()||Yt(De,"fetch",function(r){return function(...s){const o=new Error,{method:a,url:u}=CP(s),d={args:s,fetchData:{method:a,url:u},startTimestamp:fn()*1e3,virtualError:o,headers:IP(s)};return Or("fetch",{...d}),r.apply(De,s).then(async h=>(Or("fetch",{...d,endTimestamp:fn()*1e3,response:h}),h),h=>{Or("fetch",{...d,endTimestamp:fn()*1e3,error:h}),yc(h)&&h.stack===void 0&&(h.stack=o.stack,is(h,"framesToPop",1));const p=kt(),y=(p==null?void 0:p.getOptions().enhanceFetchErrorMessages)??"always";if(y!==!1&&h instanceof TypeError&&(h.message==="Failed to fetch"||h.message==="Load failed"||h.message==="NetworkError when attempting to fetch resource."))try{const b=new URL(d.fetchData.url).host;y==="always"?h.message=`${h.message} (${b})`:is(h,"__sentry_fetch_url_host__",b)}catch{}throw h})}})}function Au(t,e){return!!t&&typeof t=="object"&&!!t[e]}function a_(t){return typeof t=="string"?t:t?Au(t,"url")?t.url:t.toString?t.toString():"":""}function CP(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[r,s]=t;return{url:a_(r),method:Au(s,"method")?String(s.method).toUpperCase():Hb(r)&&Au(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:a_(e),method:Au(e,"method")?String(e.method).toUpperCase():"GET"}}function IP(t){const[e,r]=t;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if(Hb(e))return new Headers(e.headers)}catch{}}function OP(){return"npm"}const Xe=De;let qf=0;function CE(){return qf>0}function AP(){qf++,setTimeout(()=>{qf--})}function oo(t,e={}){function r(o){return typeof o=="function"}if(!r(t))return t;try{const o=t.__sentry_wrapped__;if(o)return typeof o=="function"?o:t;if(Cp(t))return t}catch{return t}const s=function(...o){try{const a=o.map(u=>oo(u,e));return t.apply(this,a)}catch(a){throw AP(),Zb(u=>{u.addEventProcessor(d=>(e.mechanism&&(Ff(d,void 0),no(d,e.mechanism)),d.extra={...d.extra,arguments:o},d)),lE(a)}),a}};try{for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o])}catch{}Gb(s,t),is(t,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get(){return t.name}})}catch{}return s}function NP(){const t=Tp(),{referrer:e}=Xe.document||{},{userAgent:r}=Xe.navigator||{},s={...e&&{Referer:e},...r&&{"User-Agent":r}};return{url:t,headers:s}}function jp(t,e){const r=Lp(t,e),s={type:DP(e),value:FP(e)};return r.length&&(s.stacktrace={frames:r}),s.type===void 0&&s.value===""&&(s.value="Unrecoverable error caught"),s}function RP(t,e,r,s){const o=kt(),a=o==null?void 0:o.getOptions().normalizeDepth,u=zP(e),d={__serialized__:oE(e,a)};if(u)return{exception:{values:[jp(t,u)]},extra:d};const h={exception:{values:[{type:_c(e)?e.constructor.name:s?"UnhandledRejection":"Error",value:$P(e,{isUnhandledRejection:s})}]},extra:d};if(r){const p=Lp(t,r);p.length&&(h.exception.values[0].stacktrace={frames:p})}return h}function Jh(t,e){return{exception:{values:[jp(t,e)]}}}function Lp(t,e){const r=e.stacktrace||e.stack||"",s=jP(e),o=LP(e);try{return t(r,s,o)}catch{}return[]}const PP=/Minified React error #\d+;/i;function jP(t){return t&&PP.test(t.message)?1:0}function LP(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function IE(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function DP(t){const e=t==null?void 0:t.name;return!e&&IE(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function FP(t){const e=t==null?void 0:t.message;return IE(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?e_(e.error):e_(t):"No error message"}function MP(t,e,r,s){const o=(r==null?void 0:r.syntheticException)||void 0,a=Dp(t,e,o,s);return no(a),a.level="error",r!=null&&r.event_id&&(a.event_id=r.event_id),Sc(a)}function UP(t,e,r="info",s,o){const a=(s==null?void 0:s.syntheticException)||void 0,u=Gf(t,e,a,o);return u.level=r,s!=null&&s.event_id&&(u.event_id=s.event_id),Sc(u)}function Dp(t,e,r,s,o){let a;if(Vb(e)&&e.error)return Jh(t,e.error);if(wv(e)||PN(e)){const u=e;if("stack"in e)a=Jh(t,e);else{const d=u.name||(wv(u)?"DOMError":"DOMException"),h=u.message?`${d}: ${u.message}`:d;a=Gf(t,h,r,s),Ff(a,h)}return"code"in u&&(a.tags={...a.tags,"DOMException.code":`${u.code}`}),a}return yc(e)?Jh(t,e):Ca(e)||_c(e)?(a=RP(t,e,r,o),no(a,{synthetic:!0}),a):(a=Gf(t,e,r,s),Ff(a,`${e}`),no(a,{synthetic:!0}),a)}function Gf(t,e,r,s){const o={};if(s&&r){const a=Lp(t,r);a.length&&(o.exception={values:[{value:e,stacktrace:{frames:a}}]}),no(o,{synthetic:!0})}if(xp(e)){const{__sentry_template_string__:a,__sentry_template_values__:u}=e;return o.logentry={message:a,params:u},o}return o.message=e,o}function $P(t,{isUnhandledRejection:e}){const r=$N(t),s=e?"promise rejection":"exception";return Vb(t)?`Event \`ErrorEvent\` captured as ${s} with message \`${t.message}\``:_c(t)?`Event \`${BP(t)}\` (type=${t.type}) captured as ${s}`:`Object captured as ${s} with keys: ${r}`}function BP(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function zP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];if(r instanceof Error)return r}}class VP extends z1{constructor(e){var y;const r=WP(e),s=Xe.SENTRY_SDK_SOURCE||OP();SE(r,"browser",["browser"],s),(y=r._metadata)!=null&&y.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);const{sendDefaultPii:o,sendClientReports:a,enableLogs:u,_experiments:d,enableMetrics:h}=this._options,p=h??(d==null?void 0:d.enableMetrics)??!0;Xe.document&&(a||u||p)&&Xe.document.addEventListener("visibilitychange",()=>{Xe.document.visibilityState==="hidden"&&(a&&this._flushOutcomes(),u&&fE(this),p&&mE(this))}),o&&this.on("beforeSendSession",J1)}eventFromException(e,r){return MP(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",s){return UP(this._options.stackParser,e,r,s,this._options.attachStacktrace)}_prepareEvent(e,r,s,o){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,s,o)}}function WP(t){var e;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(e=Xe.SENTRY_RELEASE)==null?void 0:e.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}const HP=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pt=De,qP=1e3;let l_,Kf,Qf;function GP(t){ei("dom",t),ti("dom",KP)}function KP(){if(!Pt.document)return;const t=Or.bind(null,"dom"),e=u_(t,!0);Pt.document.addEventListener("click",e,!1),Pt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{var a,u;const o=(a=Pt[r])==null?void 0:a.prototype;(u=o==null?void 0:o.hasOwnProperty)!=null&&u.call(o,"addEventListener")&&(Yt(o,"addEventListener",function(d){return function(h,p,y){if(h==="click"||h=="keypress")try{const v=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},_=v[h]=v[h]||{refCount:0};if(!_.handler){const b=u_(t);_.handler=b,d.call(this,h,b,y)}_.refCount++}catch{}return d.call(this,h,p,y)}}),Yt(o,"removeEventListener",function(d){return function(h,p,y){if(h==="click"||h=="keypress")try{const v=this.__sentry_instrumentation_handlers__||{},_=v[h];_&&(_.refCount--,_.refCount<=0&&(d.call(this,h,_.handler,y),_.handler=void 0,delete v[h]),Object.keys(v).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return d.call(this,h,p,y)}}))})}function QP(t){if(t.type!==Kf)return!1;try{if(!t.target||t.target._sentryId!==Qf)return!1}catch{}return!0}function JP(t,e){return t!=="keypress"?!1:e!=null&&e.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function u_(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const s=YP(r);if(JP(r.type,s))return;is(r,"_sentryCaptured",!0),s&&!s._sentryId&&is(s,"_sentryId",fr());const o=r.type==="keypress"?"input":r.type;QP(r)||(t({event:r,name:o,global:e}),Kf=r.type,Qf=s?s._sentryId:void 0),clearTimeout(l_),l_=Pt.setTimeout(()=>{Qf=void 0,Kf=void 0},qP)}}function YP(t){try{return t.target}catch{return null}}let _u;function OE(t){const e="history";ei(e,t),ti(e,ZP)}function ZP(){if(Pt.addEventListener("popstate",()=>{const e=Pt.location.href,r=_u;if(_u=e,r===e)return;Or("history",{from:r,to:e})}),!EP())return;function t(e){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const o=_u,a=XP(String(s));if(_u=a,o===a)return e.apply(this,r);Or("history",{from:o,to:a})}return e.apply(this,r)}}Yt(Pt.history,"pushState",t),Yt(Pt.history,"replaceState",t)}function XP(t){try{return new URL(t,Pt.location.origin).toString()}catch{return t}}const Nu={};function ej(t){const e=Nu[t];if(e)return e;let r=Pt[t];if(Hf(r))return Nu[t]=r.bind(Pt);const s=Pt.document;if(s&&typeof s.createElement=="function")try{const o=s.createElement("iframe");o.hidden=!0,s.head.appendChild(o);const a=o.contentWindow;a!=null&&a[t]&&(r=a[t]),s.head.removeChild(o)}catch(o){HP&&_e.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,o)}return r&&(Nu[t]=r.bind(Pt))}function tj(t){Nu[t]=void 0}const _a="__sentry_xhr_v3__";function rj(t){ei("xhr",t),ti("xhr",nj)}function nj(){if(!Pt.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,s){const o=new Error,a=fn()*1e3,u=hn(s[0])?s[0].toUpperCase():void 0,d=sj(s[1]);if(!u||!d)return e.apply(r,s);r[_a]={method:u,url:d,request_headers:{}},u==="POST"&&d.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const h=()=>{const p=r[_a];if(p&&r.readyState===4){try{p.status_code=r.status}catch{}const y={endTimestamp:fn()*1e3,startTimestamp:a,xhr:r,virtualError:o};Or("xhr",y)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(p,y,v){return h(),p.apply(y,v)}}):r.addEventListener("readystatechange",h),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(p,y,v){const[_,b]=v,x=y[_a];return x&&hn(_)&&hn(b)&&(x.request_headers[_.toLowerCase()]=b),p.apply(y,v)}}),e.apply(r,s)}}),t.send=new Proxy(t.send,{apply(e,r,s){const o=r[_a];if(!o)return e.apply(r,s);s[0]!==void 0&&(o.body=s[0]);const a={startTimestamp:fn()*1e3,xhr:r};return Or("xhr",a),e.apply(r,s)}})}function sj(t){if(hn(t))return t;try{return t.toString()}catch{}}const ij=40;function oj(t,e=ej("fetch")){let r=0,s=0;async function o(a){const u=a.body.length;r+=u,s++;const d={body:a.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:r<=6e4&&s<15,...t.fetchOptions};try{const h=await e(t.url,d);return{statusCode:h.status,headers:{"x-sentry-rate-limits":h.headers.get("X-Sentry-Rate-Limits"),"retry-after":h.headers.get("Retry-After")}}}catch(h){throw tj("fetch"),h}finally{r-=u,s--}}return F1(t,o,Pp(t.bufferSize||ij))}const xc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,aj=30,lj=50;function Jf(t,e,r,s){const o={filename:t,function:e==="<anonymous>"?Ys:e,in_app:!0};return r!==void 0&&(o.lineno=r),s!==void 0&&(o.colno=s),o}const uj=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,cj=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,dj=/\((\S*)(?::(\d+))(?::(\d+))\)/,hj=/at (.+?) ?\(data:(.+?),/,fj=t=>{const e=t.match(hj);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const r=uj.exec(t);if(r){const[,o,a,u]=r;return Jf(o,Ys,+a,+u)}const s=cj.exec(t);if(s){if(s[2]&&s[2].indexOf("eval")===0){const d=dj.exec(s[2]);d&&(s[2]=d[1],s[3]=d[2],s[4]=d[3])}const[a,u]=AE(s[1]||Ys,s[2]);return Jf(u,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}},pj=[aj,fj],mj=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,gj=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,yj=t=>{const e=mj.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const a=gj.exec(e[3]);a&&(e[1]=e[1]||"eval",e[3]=a[1],e[4]=a[2],e[5]="")}let s=e[3],o=e[1]||Ys;return[o,s]=AE(o,s),Jf(s,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},vj=[lj,yj],_j=[pj,vj],wj=$b(..._j),AE=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,s=t.indexOf("safari-web-extension")!==-1;return r||s?[t.indexOf("@")!==-1?t.split("@")[0]:Ys,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},wu=1024,bj="Breadcrumbs",Ej=((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:bj,setup(r){e.console&&fP(Tj(r)),e.dom&&GP(kj(r,e.dom)),e.xhr&&rj(Cj(r)),e.fetch&&kP(Ij(r)),e.history&&OE(Oj(r)),e.sentry&&r.on("beforeSendEvent",xj(r))}}}),Sj=Ej;function xj(t){return function(r){kt()===t&&os({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Ns(r)},{event:r})}}function kj(t,e){return function(s){if(kt()!==t)return;let o,a,u=typeof e=="object"?e.serializeAttribute:void 0,d=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;d&&d>wu&&(xc&&_e.warn(`\`dom.maxStringLength\` cannot exceed ${wu}, but a value of ${d} was configured. Sentry will use ${wu} instead.`),d=wu),typeof u=="string"&&(u=[u]);try{const p=s.event,y=Aj(p)?p.target:p;o=qb(y,{keyAttrs:u,maxStringLength:d}),a=UN(y)}catch{o="<unknown>"}if(o.length===0)return;const h={category:`ui.${s.name}`,message:o};a&&(h.data={"ui.component_name":a}),os(h,{event:s.event,name:s.name,global:s.global})}}function Tj(t){return function(r){if(kt()!==t)return;const s={category:"console",data:{arguments:r.args,logger:"console"},level:mP(r.level),message:Sv(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)s.message=`Assertion failed: ${Sv(r.args.slice(1)," ")||"console.assert"}`,s.data.arguments=r.args.slice(1);else return;os(s,{input:r.args,level:r.level})}}function Cj(t){return function(r){if(kt()!==t)return;const{startTimestamp:s,endTimestamp:o}=r,a=r.xhr[_a];if(!s||!o||!a)return;const{method:u,url:d,status_code:h,body:p}=a,y={method:u,url:d,status_code:h},v={xhr:r.xhr,input:p,startTimestamp:s,endTimestamp:o},_={category:"xhr",data:y,type:"http",level:TE(h)};t.emit("beforeOutgoingRequestBreadcrumb",_,v),os(_,v)}}function Ij(t){return function(r){if(kt()!==t)return;const{startTimestamp:s,endTimestamp:o}=r;if(o&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){const a=r.fetchData,u={data:r.error,input:r.args,startTimestamp:s,endTimestamp:o},d={category:"fetch",data:a,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",d,u),os(d,u)}else{const a=r.response,u={...r.fetchData,status_code:a==null?void 0:a.status};r.fetchData.request_body_size,r.fetchData.response_body_size,a==null||a.status;const d={input:r.args,response:a,startTimestamp:s,endTimestamp:o},h={category:"fetch",data:u,type:"http",level:TE(u.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",h,d),os(h,d)}}}function Oj(t){return function(r){if(kt()!==t)return;let s=r.from,o=r.to;const a=Qh(Xe.location.href);let u=s?Qh(s):void 0;const d=Qh(o);u!=null&&u.path||(u=a),a.protocol===d.protocol&&a.host===d.host&&(o=d.relative),a.protocol===u.protocol&&a.host===u.host&&(s=u.relative),os({category:"navigation",data:{from:s,to:o}})}}function Aj(t){return!!t&&!!t.target}const Nj=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Rj="BrowserApiErrors",Pj=((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:Rj,setupOnce(){e.setTimeout&&Yt(Xe,"setTimeout",c_),e.setInterval&&Yt(Xe,"setInterval",c_),e.requestAnimationFrame&&Yt(Xe,"requestAnimationFrame",Lj),e.XMLHttpRequest&&"XMLHttpRequest"in Xe&&Yt(XMLHttpRequest.prototype,"send",Dj);const r=e.eventTarget;r&&(Array.isArray(r)?r:Nj).forEach(o=>Fj(o,e))}}}),jj=Pj;function c_(t){return function(...e){const r=e[0];return e[0]=oo(r,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${ns(t)}`}}),t.apply(this,e)}}function Lj(t){return function(e){return t.apply(this,[oo(e,{mechanism:{data:{handler:ns(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function Dj(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&Yt(r,o,function(a){const u={mechanism:{data:{handler:ns(a)},handled:!1,type:`auto.browser.browserapierrors.xhr.${o}`}},d=Cp(a);return d&&(u.mechanism.data.handler=ns(d)),oo(a,u)})}),t.apply(this,e)}}function Fj(t,e){var o,a;const s=(o=Xe[t])==null?void 0:o.prototype;(a=s==null?void 0:s.hasOwnProperty)!=null&&a.call(s,"addEventListener")&&(Yt(s,"addEventListener",function(u){return function(d,h,p){try{Mj(h)&&(h.handleEvent=oo(h.handleEvent,{mechanism:{data:{handler:ns(h),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&Uj(this,d,h),u.apply(this,[d,oo(h,{mechanism:{data:{handler:ns(h),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),p])}}),Yt(s,"removeEventListener",function(u){return function(d,h,p){try{const y=h.__sentry_wrapped__;y&&u.call(this,d,y,p)}catch{}return u.call(this,d,h,p)}}))}function Mj(t){return typeof t.handleEvent=="function"}function Uj(t,e,r){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,r)}const $j=()=>({name:"BrowserSession",setupOnce(){if(typeof Xe.document>"u"){xc&&_e.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Vv({ignoreDuration:!0}),Wv(),OE(({from:t,to:e})=>{t!==void 0&&t!==e&&(Vv({ignoreDuration:!0}),Wv())})}}),Bj="GlobalHandlers",zj=((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:Bj,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(Wj(r),d_("onerror")),e.onunhandledrejection&&(Hj(r),d_("onunhandledrejection"))}}}),Vj=zj;function Wj(t){ON(e=>{const{stackParser:r,attachStacktrace:s}=NE();if(kt()!==t||CE())return;const{msg:o,url:a,line:u,column:d,error:h}=e,p=Kj(Dp(r,h||o,void 0,s,!1),a,u,d);p.level="error",uE(p,{originalException:h,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function Hj(t){NN(e=>{const{stackParser:r,attachStacktrace:s}=NE();if(kt()!==t||CE())return;const o=qj(e),a=vc(o)?Gj(o):Dp(r,o,void 0,s,!0);a.level="error",uE(a,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function qj(t){if(vc(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function Gj(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function Kj(t,e,r,s){const o=t.exception=t.exception||{},a=o.values=o.values||[],u=a[0]=a[0]||{},d=u.stacktrace=u.stacktrace||{},h=d.frames=d.frames||[],p=s,y=r,v=Qj(e)??Tp();return h.length===0&&h.push({colno:p,filename:v,function:Ys,in_app:!0,lineno:y}),t}function d_(t){xc&&_e.log(`Global Handler attached: ${t}`)}function NE(){const t=kt();return(t==null?void 0:t.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function Qj(t){if(!(!hn(t)||t.length===0)){if(t.startsWith("data:")){const e=t.match(/^data:([^;]+)/),r=e?e[1]:"text/javascript",s=t.includes("base64,");return`<data:${r}${s?",base64":""}>`}return t}}const Jj=()=>({name:"HttpContext",preprocessEvent(t){var s;if(!Xe.navigator&&!Xe.location&&!Xe.document)return;const e=NP(),r={...e.headers,...(s=t.request)==null?void 0:s.headers};t.request={...e,...t.request,headers:r}}}),Yj="cause",Zj=5,Xj="LinkedErrors",eL=((t={})=>{const e=t.limit||Zj,r=t.key||Yj;return{name:Xj,preprocessEvent(s,o,a){const u=a.getOptions();hP(jp,u.stackParser,r,e,s,o)}}}),tL=eL;function rL(){return nL()?(xc&&po(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function nL(){var a;if(typeof Xe.window>"u")return!1;const t=Xe;if(t.nw)return!1;const e=t.chrome||t.browser;if(!((a=e==null?void 0:e.runtime)!=null&&a.id))return!1;const r=Tp(),s=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Xe===Xe.top&&s.some(u=>r.startsWith(`${u}://`)))}function sL(t){return[sP(),eP(),jj(),Sj(),Vj(),tL(),vP(),Jj(),$j()]}function iL(t={}){const e=!t.skipBrowserExtensionCheck&&rL();let r=t.defaultIntegrations==null?sL():t.defaultIntegrations;const s={...t,enabled:e?!1:t.enabled,stackParser:CN(t.stackParser||wj),integrations:x1({integrations:t.integrations,defaultIntegrations:r}),transport:t.transport||oj};return K1(VP,s)}function oL(t){const e={...t};return SE(e,"react"),y1("react",{version:I.version}),iL(e)}const aL="https://your-dsn@sentry.io/project-id",RE=()=>{oL({dsn:aL,tracesSampleRate:.1,environment:"production",release:"consulta-pps-uflo@1.0.0",beforeSend(t){var e,r,s,o;if(t.exception){const a=(e=t.exception.values)==null?void 0:e[0];if((r=a==null?void 0:a.value)!=null&&r.includes("fetch")||(s=a==null?void 0:a.value)!=null&&s.includes("NetworkError")||(o=t.message)!=null&&o.includes("chrome-extension://"))return null}return t},initialScope:{tags:{application:"consulta-pps-uflo",platform:"web",university:"uflo"}}})},lL=(t,e)=>{console.error("Tracking error:",t),Zb(r=>{e&&r.setContext("custom_context",e);const s=dL();s&&r.setUser({id:s.legajo||"unknown",email:s.correo||"unknown",username:s.nombre||"unknown",role:s.role||"unknown"}),lE(t)})},uL=(t,e="info")=>{g1(t,e)},cL=(t,e,r)=>{os({message:`Performance: ${t}`,category:"performance",level:"info",data:{duration:e,...r}})},dL=()=>null,PE=Object.freeze(Object.defineProperty({__proto__:null,initSentry:RE,trackError:lL,trackMessage:uL,trackPerformance:cL},Symbol.toStringTag,{value:"Module"}));let jE=-1;const vo=t=>{addEventListener("pageshow",(e=>{e.persisted&&(jE=e.timeStamp,t(e))}),!0)},Wr=(t,e,r,s)=>{let o,a;return u=>{e.value>=0&&(u||s)&&(a=e.value-(o??0),(a||o===void 0)&&(o=e.value,e.delta=a,e.rating=((d,h)=>d>h[1]?"poor":d>h[0]?"needs-improvement":"good")(e.value,r),t(e)))}},Fp=t=>{requestAnimationFrame((()=>requestAnimationFrame((()=>t()))))},Mp=()=>{const t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},qa=()=>{const t=Mp();return(t==null?void 0:t.activationStart)??0},Hr=(t,e=-1)=>{const r=Mp();let s="navigate";return jE>=0?s="back-forward-cache":r&&(document.prerendering||qa()>0?s="prerender":document.wasDiscarded?s="restore":r.type&&(s=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:s}},Yh=new WeakMap;function Up(t,e){return Yh.get(t)||Yh.set(t,new e),Yh.get(t)}class hL{constructor(){sr(this,"t");sr(this,"i",0);sr(this,"o",[])}h(e){var o;if(e.hadRecentInput)return;const r=this.o[0],s=this.o.at(-1);this.i&&r&&s&&e.startTime-s.startTime<1e3&&e.startTime-r.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),(o=this.t)==null||o.call(this,e)}}const Ga=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const s=new PerformanceObserver((o=>{Promise.resolve().then((()=>{e(o.getEntries())}))}));return s.observe({type:t,buffered:!0,...r}),s}}catch{}},$p=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let Fi=-1;const LE=new Set,h_=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Yf=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(const e of LE)e();isFinite(Fi)||(Fi=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",Yf,!0))}},kc=()=>{var t;if(Fi<0){const e=qa();Fi=(document.prerendering||(t=globalThis.performance.getEntriesByType("visibility-state").filter((s=>s.name==="hidden"&&s.startTime>e))[0])==null?void 0:t.startTime)??h_(),addEventListener("visibilitychange",Yf,!0),addEventListener("prerenderingchange",Yf,!0),vo((()=>{setTimeout((()=>{Fi=h_()}))}))}return{get firstHiddenTime(){return Fi},onHidden(e){LE.add(e)}}},Tc=t=>{document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()},f_=[1800,3e3],DE=(t,e={})=>{Tc((()=>{const r=kc();let s,o=Hr("FCP");const a=Ga("paint",(u=>{for(const d of u)d.name==="first-contentful-paint"&&(a.disconnect(),d.startTime<r.firstHiddenTime&&(o.value=Math.max(d.startTime-qa(),0),o.entries.push(d),s(!0)))}));a&&(s=Wr(t,o,f_,e.reportAllChanges),vo((u=>{o=Hr("FCP"),s=Wr(t,o,f_,e.reportAllChanges),Fp((()=>{o.value=performance.now()-u.timeStamp,s(!0)}))})))}))},p_=[.1,.25],fL=(t,e={})=>{const r=kc();DE($p((()=>{let s,o=Hr("CLS",0);const a=Up(e,hL),u=h=>{for(const p of h)a.h(p);a.i>o.value&&(o.value=a.i,o.entries=a.o,s())},d=Ga("layout-shift",u);d&&(s=Wr(t,o,p_,e.reportAllChanges),r.onHidden((()=>{u(d.takeRecords()),s(!0)})),vo((()=>{a.i=0,o=Hr("CLS",0),s=Wr(t,o,p_,e.reportAllChanges),Fp((()=>s()))})),setTimeout(s))})))};let FE=0,Zh=1/0,bu=0;const pL=t=>{for(const e of t)e.interactionId&&(Zh=Math.min(Zh,e.interactionId),bu=Math.max(bu,e.interactionId),FE=bu?(bu-Zh)/7+1:0)};let Zf;const m_=()=>Zf?FE:performance.interactionCount??0,mL=()=>{"interactionCount"in performance||Zf||(Zf=Ga("event",pL,{type:"event",buffered:!0,durationThreshold:0}))};let g_=0;class gL{constructor(){sr(this,"u",[]);sr(this,"l",new Map);sr(this,"m");sr(this,"p")}v(){g_=m_(),this.u.length=0,this.l.clear()}L(){const e=Math.min(this.u.length-1,Math.floor((m_()-g_)/50));return this.u[e]}h(e){var o,a;if((o=this.m)==null||o.call(this,e),!e.interactionId&&e.entryType!=="first-input")return;const r=this.u.at(-1);let s=this.l.get(e.interactionId);if(s||this.u.length<10||e.duration>r.P){if(s?e.duration>s.P?(s.entries=[e],s.P=e.duration):e.duration===s.P&&e.startTime===s.entries[0].startTime&&s.entries.push(e):(s={id:e.interactionId,entries:[e],P:e.duration},this.l.set(s.id,s),this.u.push(s)),this.u.sort(((u,d)=>d.P-u.P)),this.u.length>10){const u=this.u.splice(10);for(const d of u)this.l.delete(d.id)}(a=this.p)==null||a.call(this,s)}}}const ME=t=>{const e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=$p(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e((()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})})))},y_=[200,500],yL=(t,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const r=kc();Tc((()=>{mL();let s,o=Hr("INP");const a=Up(e,gL),u=h=>{ME((()=>{for(const y of h)a.h(y);const p=a.L();p&&p.P!==o.value&&(o.value=p.P,o.entries=p.entries,s())}))},d=Ga("event",u,{durationThreshold:e.durationThreshold??40});s=Wr(t,o,y_,e.reportAllChanges),d&&(d.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{u(d.takeRecords()),s(!0)})),vo((()=>{a.v(),o=Hr("INP"),s=Wr(t,o,y_,e.reportAllChanges)})))}))};class vL{constructor(){sr(this,"m")}h(e){var r;(r=this.m)==null||r.call(this,e)}}const v_=[2500,4e3],_L=(t,e={})=>{Tc((()=>{const r=kc();let s,o=Hr("LCP");const a=Up(e,vL),u=h=>{e.reportAllChanges||(h=h.slice(-1));for(const p of h)a.h(p),p.startTime<r.firstHiddenTime&&(o.value=Math.max(p.startTime-qa(),0),o.entries=[p],s())},d=Ga("largest-contentful-paint",u);if(d){s=Wr(t,o,v_,e.reportAllChanges);const h=$p((()=>{u(d.takeRecords()),d.disconnect(),s(!0)})),p=y=>{y.isTrusted&&(ME(h),removeEventListener(y.type,p,{capture:!0}))};for(const y of["keydown","click","visibilitychange"])addEventListener(y,p,{capture:!0});vo((y=>{o=Hr("LCP"),s=Wr(t,o,v_,e.reportAllChanges),Fp((()=>{o.value=performance.now()-y.timeStamp,s(!0)}))}))}}))},__=[800,1800],Xf=t=>{document.prerendering?Tc((()=>Xf(t))):document.readyState!=="complete"?addEventListener("load",(()=>Xf(t)),!0):setTimeout(t)},wL=(t,e={})=>{let r=Hr("TTFB"),s=Wr(t,r,__,e.reportAllChanges);Xf((()=>{const o=Mp();o&&(r.value=Math.max(o.responseStart-qa(),0),r.entries=[o],s(!0),vo((()=>{r=Hr("TTFB",0),s=Wr(t,r,__,e.reportAllChanges),s(!0)})))}))},bL={CLS:{good:.1,needs_improvement:.25},INP:{good:200,needs_improvement:500},FCP:{good:1800,needs_improvement:3e3},LCP:{good:2500,needs_improvement:4e3},TTFB:{good:800,needs_improvement:1800}},Rs={},EL=()=>{console.log(" Initializing Web Vitals monitoring..."),fL(t=>{Rs.CLS=t,fa("CLS",t)}),yL(t=>{Rs.INP=t,fa("INP",t)}),DE(t=>{Rs.FCP=t,fa("FCP",t)}),_L(t=>{Rs.LCP=t,fa("LCP",t)}),wL(t=>{Rs.TTFB=t,fa("TTFB",t)})},fa=(t,e)=>{const r=bL[t],s=SL(e.value,r);console.log(` ${t}: ${e.value} (${s})`),window.gtag&&window.gtag("event","web_vital",{event_category:"Web Vitals",event_label:t,value:Math.round(e.value),custom_map:{dimension1:"rating",dimension2:"id"},rating:s,id:e.id}),s==="poor"&&ct(async()=>{const{trackMessage:o}=await Promise.resolve().then(()=>PE);return{trackMessage:o}},void 0,import.meta.url).then(({trackMessage:o})=>{o(`Poor ${t}: ${e.value}`,"warning")}),Rs[t]={...e,rating:s}},SL=(t,e)=>t<=e.good?"good":t<=e.needs_improvement?"needs_improvement":"poor",oF=()=>Rs,aF=(t,e)=>{const r=performance.now();return(async()=>{try{const o=await e(),u=performance.now()-r;return console.log(` ${t}: ${u.toFixed(2)}ms`),window.gtag&&window.gtag("event","performance_metric",{event_category:"Performance",event_label:t,value:Math.round(u)}),u>3e3&&ct(async()=>{const{trackMessage:d}=await Promise.resolve().then(()=>PE);return{trackMessage:d}},void 0,import.meta.url).then(({trackMessage:d})=>{d(`Slow operation: ${t} took ${u.toFixed(2)}ms`,"warning")}),o}catch(o){const u=performance.now()-r;throw console.error(` ${t} failed after ${u.toFixed(2)}ms:`,o),window.gtag&&window.gtag("event","performance_error",{event_category:"Performance",event_label:t,value:Math.round(u)}),o}})()},lF=async(t,e)=>{const r=performance.now();try{const s=await t(),a=performance.now()-r;return console.log(` ${e}: ${a.toFixed(2)}ms`),window.gtag&&window.gtag("event","api_call",{event_category:"API Performance",event_label:e,value:Math.round(a)}),s}catch(s){const a=performance.now()-r;throw console.error(` ${e} failed after ${a.toFixed(2)}ms:`,s),window.gtag&&window.gtag("event","api_error",{event_category:"API Performance",event_label:e,value:Math.round(a)}),s}};console.log("%c ANTIGRAVITY CONTROL: main.tsx loaded ","background: #222; color: #bada55; font-size: 20px");if(typeof Node=="function"&&Node.prototype){const t=Node.prototype.removeChild;Node.prototype.removeChild=function(r){return r.parentNode!==this?(console&&console.warn("[React Resilience] Suppressing removeChild error."),r):t.call(this,r)};const e=Node.prototype.insertBefore;Node.prototype.insertBefore=function(r,s){return s&&s.parentNode!==this?(console&&console.warn("[React Resilience] Suppressing insertBefore error."),r):e.call(this,r,s)}}document.body.classList.add("notranslate");document.body.setAttribute("translate","no");const xL=new mT({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:1e3*60*2,gcTime:1e3*60*10}}}),oc=document.getElementById("root");if(!oc)throw new Error("No se encontr el elemento root");window.__REACT_ROOT_INSTANCE__&&(console.log("Desmontando instancia previa (src/main)..."),window.__REACT_ROOT_INSTANCE__.unmount());oc.hasChildNodes()&&(oc.innerHTML="");const UE=qx.createRoot(oc);window.__REACT_ROOT_INSTANCE__=UE;RE();EL();UE.render(g.jsx(np.StrictMode,{children:g.jsxs(gT,{client:xL,children:[g.jsx(vO,{children:g.jsx(fN,{})}),g.jsx(pN,{initialIsOpen:!1})]})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js?v=3").then(t=>{console.log("SW registrado:",t.scope)}).catch(t=>{console.log("SW fall:",t)})});export{c2 as $,q2 as A,Ky as B,NA as C,lr as D,ro as E,ut as F,ar as G,Gy as H,Tr as I,Ve as J,Ta as K,Yu as L,wp as M,UA as N,Ma as O,RA as P,Ur as Q,np as R,CA as S,be as T,By as U,e2 as V,Lf as W,zy as X,ec as Y,Br as Z,Di as _,H2 as a,Cr as a$,Xu as a0,cr as a1,KI as a2,hr as a3,nF as a4,OO as a5,As as a6,la as a7,tF as a8,Jy as a9,Me as aA,dr as aB,Gs as aC,F2 as aD,to as aE,B2 as aF,lO as aG,ZI as aH,uO as aI,Dh as aJ,cO as aK,aO as aL,oO as aM,qy as aN,iO as aO,H_ as aP,bO as aQ,qu as aR,Hu as aS,wa as aT,Gu as aU,Ku as aV,QI as aW,JI as aX,G2 as aY,K2 as aZ,Vu as a_,Qy as aa,ca as ab,aa as ac,gu as ad,a2 as ae,h2 as af,u2 as ag,d2 as ah,l2 as ai,o2 as aj,dn as ak,XD as al,ZD as am,mu as an,Ls as ao,Xn as ap,eO as aq,at as ar,da as as,QD as at,XI as au,L2 as av,r2 as aw,Rt as ax,Y2 as ay,Os as az,ho as b,Hy as b$,ct as b0,OL as b1,YD as b2,Q2 as b3,WO as b4,Sb as b5,ts as b6,Ri as b7,Lh as b8,GD as b9,eF as bA,Pb as bB,dO as bC,hO as bD,fO as bE,pO as bF,lA as bG,tA as bH,CL as bI,EO as bJ,$I as bK,JO as bL,sA as bM,TL as bN,tp as bO,sF as bP,kk as bQ,IL as bR,rF as bS,mO as bT,gO as bU,yO as bV,Ne as bW,J2 as bX,qA as bY,Z2 as bZ,X2 as b_,ur as ba,WD as bb,t2 as bc,cn as bd,Ir as be,Jt as bf,rs as bg,Vr as bh,zr as bi,VD as bj,m2 as bk,sO as bl,p2 as bm,nO as bn,rO as bo,tO as bp,f2 as bq,Qu as br,xb as bs,Wu as bt,D2 as bu,ua as bv,HD as bw,tc as bx,Zu as by,Vy as bz,IA as c,Wy as c0,YI as c1,KD as c2,JD as c3,v2 as c4,y2 as c5,n2 as c6,yu as c7,s2 as c8,i2 as c9,aF as cA,uL as cB,z2 as ca,$2 as cb,U2 as cc,M2 as cd,j2 as ce,P2 as cf,R2 as cg,N2 as ch,A2 as ci,O2 as cj,Ds as ck,Zy as cl,eA as cm,ZO as cn,qD as co,iA as cp,rA as cq,jb as cr,aA as cs,W2 as ct,V2 as cu,iF as cv,cL as cw,lL as cx,oF as cy,lF as cz,Xs as d,Ba as e,Ab as f,lo as g,$r as h,Zi as i,g as j,g2 as k,I2 as l,C2 as m,nt as n,T2 as o,rc as p,k2 as q,I as r,x2 as s,S2 as t,lc as u,E2 as v,b2 as w,w2 as x,_2 as y,Ju as z};
